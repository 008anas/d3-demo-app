(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{meJe:function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),s=n("3Pt+"),c=n("dEAy"),o=n("mrSG"),r=n("LSvS"),a=n("fXoL"),l=n("xgIS"),d=n("VRyK"),b=n("quSY"),u=n("pLZG"),h=n("vkgz"),p=n("lJxs");function g(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(p.a)(function(t,e){return n=>{let i=n;for(let s=0;s<e;s++){const e=i[t[s]];if(void 0===e)return;i=e}return i}}(t,e))(n)}var f=n("/uUt"),m=n("1G5W"),z=n("bMUq"),v=n("nJia");const k=["slider"];function y(t,e){if(1&t&&a.Tb(0,"nz-slider-step",7),2&t){const t=a.kc();a.sc("nzVertical",t.nzVertical)("nzLowerBound",t.bounds.lower)("nzUpperBound",t.bounds.upper)("nzMarksArray",t.marksArray)("nzIncluded",t.nzIncluded)}}function O(t,e){if(1&t&&a.Tb(0,"nz-slider-handle",8),2&t){const t=e.$implicit,n=a.kc();a.sc("nzVertical",n.nzVertical)("nzOffset",t.offset)("nzValue",t.value)("nzActive",t.active)("nzTipFormatter",n.nzTipFormatter)("nzTooltipVisible",n.nzTooltipVisible)("nzTooltipPlacement",n.nzTooltipPlacement)}}function C(t,e){if(1&t&&a.Tb(0,"nz-slider-marks",9),2&t){const t=a.kc();a.sc("nzVertical",t.nzVertical)("nzMin",t.nzMin)("nzMax",t.nzMax)("nzLowerBound",t.bounds.lower)("nzUpperBound",t.bounds.upper)("nzMarksArray",t.marksArray)("nzIncluded",t.nzIncluded)}}function w(t,e){if(1&t&&a.Tb(0,"div",2),2&t){const t=a.kc();a.sc("ngStyle",t.style)("nzTitle",t.tooltipTitle)("nzTrigger",null)("nzPlacement",t.nzTooltipPlacement)}}function Y(t,e){if(1&t&&a.Tb(0,"div",3),2&t){const t=a.kc();a.sc("ngStyle",t.style)}}function S(t,e){if(1&t&&a.Tb(0,"span",2),2&t){const t=e.$implicit;a.Jb("ant-slider-mark-active",t.active),a.sc("ngStyle",t.style)("innerHTML",t.label,a.Cc)}}function X(t,e){if(1&t&&a.Tb(0,"span",2),2&t){const t=e.$implicit;a.Jb("ant-slider-dot-active",t.active),a.sc("ngStyle",t.style)}}function T(t){return t instanceof Array&&2===t.length}function M(t){return t instanceof Object}let I=(()=>{class t{constructor(t,e){this.cdr=t,this.platform=e,this.nzDisabled=!1,this.nzDots=!1,this.nzIncluded=!0,this.nzRange=!1,this.nzVertical=!1,this.nzDefaultValue=null,this.nzMarks=null,this.nzMax=100,this.nzMin=0,this.nzStep=1,this.nzTooltipVisible="default",this.nzTooltipPlacement="top",this.nzOnAfterChange=new a.n,this.value=null,this.cacheSliderStart=null,this.cacheSliderLength=null,this.activeValueIndex=void 0,this.track={offset:null,length:null},this.bounds={lower:null,upper:null},this.isDragging=!1}ngOnInit(){this.handles=this.generateHandles(this.nzRange?2:1),this.sliderDOM=this.slider.nativeElement,this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null,this.platform.isBrowser&&this.createDraggingObservables(),this.toggleDragDisabled(this.nzDisabled),null===this.getValue()&&this.setValue(this.formatValue(null))}ngOnChanges(t){const{nzDisabled:e,nzMarks:n,nzRange:i}=t;e&&!e.firstChange?this.toggleDragDisabled(e.currentValue):n&&!n.firstChange?this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null:i&&!i.firstChange&&this.setValue(this.formatValue(null))}ngOnDestroy(){this.unsubscribeDrag()}writeValue(t){this.setValue(t,!0)}onValueChange(t){}onTouched(){}registerOnChange(t){this.onValueChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.toggleDragDisabled(t)}setValue(t,e=!1){e?(this.value=this.formatValue(t),this.updateTrackAndHandles()):this.valuesEqual(this.value,t)||(this.value=t,this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0)))}getValue(t=!1){return t&&this.value&&T(this.value)?Object(z.N)(this.value).sort((t,e)=>t-e):this.value}getValueToOffset(t){let e=t;return void 0===e&&(e=this.getValue(!0)),T(e)?e.map(t=>this.valueToOffset(t)):this.valueToOffset(e)}setActiveValueIndex(t){const e=this.getValue();if(T(e)){let n,i=null,s=-1;e.forEach((e,c)=>{n=Math.abs(t-e),(null===i||n<i)&&(i=n,s=c)}),this.activeValueIndex=s}}setActiveValue(t){if(T(this.value)){const e=Object(z.N)(this.value);e[this.activeValueIndex]=t,this.setValue(e)}else this.setValue(t)}updateTrackAndHandles(){const t=this.getValue(),e=this.getValueToOffset(t),n=this.getValue(!0),i=this.getValueToOffset(n),s=T(n)?n:[0,n],c=T(i)?[i[0],i[1]-i[0]]:[0,i];this.handles.forEach((n,i)=>{n.offset=T(e)?e[i]:e,n.value=T(t)?t[i]:t||0}),[this.bounds.lower,this.bounds.upper]=s,[this.track.offset,this.track.length]=c,this.cdr.markForCheck()}onDragStart(t){this.toggleDragMoving(!0),this.cacheSliderProperty(),this.setActiveValueIndex(t),this.setActiveValue(t),this.showHandleTooltip(this.nzRange?this.activeValueIndex:0)}onDragMove(t){this.setActiveValue(t),this.cdr.markForCheck()}onDragEnd(){this.nzOnAfterChange.emit(this.getValue(!0)),this.toggleDragMoving(!1),this.cacheSliderProperty(!0),this.hideAllHandleTooltip(),this.cdr.markForCheck()}createDraggingObservables(){const t=this.sliderDOM,e=this.nzVertical?"pageY":"pageX",n={start:"mousedown",move:"mousemove",end:"mouseup",pluckKey:[e]},i={start:"touchstart",move:"touchmove",end:"touchend",pluckKey:["touches","0",e],filter:t=>t instanceof TouchEvent};[n,i].forEach(e=>{const{start:n,move:i,end:s,pluckKey:c,filter:o=(()=>!0)}=e;e.startPlucked$=Object(l.a)(t,n).pipe(Object(u.a)(o),Object(h.a)(z.O),g(...c),Object(p.a)(t=>this.findClosestValue(t))),e.end$=Object(l.a)(document,s),e.moveResolved$=Object(l.a)(document,i).pipe(Object(u.a)(o),Object(h.a)(z.O),g(...c),Object(f.a)(),Object(p.a)(t=>this.findClosestValue(t)),Object(f.a)(),Object(m.a)(e.end$))}),this.dragStart$=Object(d.a)(n.startPlucked$,i.startPlucked$),this.dragMove$=Object(d.a)(n.moveResolved$,i.moveResolved$),this.dragEnd$=Object(d.a)(n.end$,i.end$)}subscribeDrag(t=["start","move","end"]){-1!==t.indexOf("start")&&this.dragStart$&&!this.dragStart_&&(this.dragStart_=this.dragStart$.subscribe(this.onDragStart.bind(this))),-1!==t.indexOf("move")&&this.dragMove$&&!this.dragMove_&&(this.dragMove_=this.dragMove$.subscribe(this.onDragMove.bind(this))),-1!==t.indexOf("end")&&this.dragEnd$&&!this.dragEnd_&&(this.dragEnd_=this.dragEnd$.subscribe(this.onDragEnd.bind(this)))}unsubscribeDrag(t=["start","move","end"]){-1!==t.indexOf("start")&&this.dragStart_&&(this.dragStart_.unsubscribe(),this.dragStart_=null),-1!==t.indexOf("move")&&this.dragMove_&&(this.dragMove_.unsubscribe(),this.dragMove_=null),-1!==t.indexOf("end")&&this.dragEnd_&&(this.dragEnd_.unsubscribe(),this.dragEnd_=null)}toggleDragMoving(t){const e=["move","end"];t?(this.isDragging=!0,this.subscribeDrag(e)):(this.isDragging=!1,this.unsubscribeDrag(e))}toggleDragDisabled(t){t?this.unsubscribeDrag():this.subscribeDrag(["start"])}findClosestValue(t){const e=this.getSliderStartPosition(),n=this.getSliderLength(),i=Object(z.B)((t-e)/n,0,1),s=(this.nzMax-this.nzMin)*(this.nzVertical?1-i:i)+this.nzMin,c=null===this.nzMarks?[]:Object.keys(this.nzMarks).map(parseFloat);if(null!==this.nzStep&&!this.nzDots){const t=Math.round(s/this.nzStep)*this.nzStep;c.push(t)}const o=c.map(t=>Math.abs(s-t)),r=c[o.indexOf(Math.min(...o))];return null===this.nzStep?r:parseFloat(r.toFixed(Object(z.H)(this.nzStep)))}valueToOffset(t){return Object(z.F)(this.nzMin,this.nzMax,t)}getSliderStartPosition(){if(null!==this.cacheSliderStart)return this.cacheSliderStart;const t=Object(z.E)(this.sliderDOM);return this.nzVertical?t.top:t.left}getSliderLength(){if(null!==this.cacheSliderLength)return this.cacheSliderLength;const t=this.sliderDOM;return this.nzVertical?t.clientHeight:t.clientWidth}cacheSliderProperty(t=!1){this.cacheSliderStart=t?null:this.getSliderStartPosition(),this.cacheSliderLength=t?null:this.getSliderLength()}formatValue(t){let e=t;return e=this.assertValueValid(t)?T(t)?t.map(t=>Object(z.B)(t,this.nzMin,this.nzMax)):Object(z.B)(t,this.nzMin,this.nzMax):null===this.nzDefaultValue?this.nzRange?[this.nzMin,this.nzMax]:this.nzMin:this.nzDefaultValue,e}assertValueValid(t){return!(!Array.isArray(t)&&isNaN("number"!=typeof t?parseFloat(t):t))&&this.assertValueTypeMatch(t)}assertValueTypeMatch(t){if(t){if(T(t)!==this.nzRange)throw new Error('The "nzRange" can\'t match the "ngModel"\'s type, please check these properties: "nzRange", "ngModel", "nzDefaultValue".');return!0}return!0}valuesEqual(t,e){return typeof t==typeof e&&(T(t)&&T(e)?Object(z.z)(t,e):t===e)}showHandleTooltip(t=0){this.handles.forEach((e,n)=>{e.active=n===t})}hideAllHandleTooltip(){this.handles.forEach(t=>t.active=!1)}generateHandles(t){return Array(t).fill(0).map(()=>({offset:null,value:null,active:!1}))}generateMarkItems(t){const e=[];for(const n in t){const i=t[n],s="number"==typeof n?n:parseFloat(n);s>=this.nzMin&&s<=this.nzMax&&e.push({value:s,offset:this.valueToOffset(s),config:i})}return e.length?e:null}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(a.h),a.Sb(r.a))},t.\u0275cmp=a.Mb({type:t,selectors:[["nz-slider"]],viewQuery:function(t,e){var n;1&t&&a.Gc(k,!0),2&t&&a.zc(n=a.hc())&&(e.slider=n.first)},inputs:{nzDisabled:"nzDisabled",nzDots:"nzDots",nzIncluded:"nzIncluded",nzRange:"nzRange",nzVertical:"nzVertical",nzDefaultValue:"nzDefaultValue",nzMarks:"nzMarks",nzMax:"nzMax",nzMin:"nzMin",nzStep:"nzStep",nzTooltipVisible:"nzTooltipVisible",nzTooltipPlacement:"nzTooltipPlacement",nzTipFormatter:"nzTipFormatter"},outputs:{nzOnAfterChange:"nzOnAfterChange"},exportAs:["nzSlider"],features:[a.Db([{provide:s.g,useExisting:Object(a.W)(()=>t),multi:!0}]),a.Cb()],decls:7,vars:13,consts:[[1,"ant-slider"],["slider",""],[1,"ant-slider-rail"],[3,"nzVertical","nzIncluded","nzOffset","nzLength"],[3,"nzVertical","nzLowerBound","nzUpperBound","nzMarksArray","nzIncluded",4,"ngIf"],[3,"nzVertical","nzOffset","nzValue","nzActive","nzTipFormatter","nzTooltipVisible","nzTooltipPlacement",4,"ngFor","ngForOf"],[3,"nzVertical","nzMin","nzMax","nzLowerBound","nzUpperBound","nzMarksArray","nzIncluded",4,"ngIf"],[3,"nzVertical","nzLowerBound","nzUpperBound","nzMarksArray","nzIncluded"],[3,"nzVertical","nzOffset","nzValue","nzActive","nzTipFormatter","nzTooltipVisible","nzTooltipPlacement"],[3,"nzVertical","nzMin","nzMax","nzLowerBound","nzUpperBound","nzMarksArray","nzIncluded"]],template:function(t,e){1&t&&(a.Yb(0,"div",0,1),a.Tb(2,"div",2),a.Tb(3,"nz-slider-track",3),a.Ic(4,y,1,5,"nz-slider-step",4),a.Ic(5,O,1,7,"nz-slider-handle",5),a.Ic(6,C,1,7,"nz-slider-marks",6),a.Xb()),2&t&&(a.Jb("ant-slider-disabled",e.nzDisabled)("ant-slider-vertical",e.nzVertical)("ant-slider-with-marks",e.marksArray),a.Eb(3),a.sc("nzVertical",e.nzVertical)("nzIncluded",e.nzIncluded)("nzOffset",e.track.offset)("nzLength",e.track.length),a.Eb(1),a.sc("ngIf",e.marksArray),a.Eb(1),a.sc("ngForOf",e.handles),a.Eb(1),a.sc("ngIf",e.marksArray))},directives:function(){return[j,i.k,i.j,x,P,E]},encapsulation:2,changeDetection:0}),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzDisabled",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Boolean)],t.prototype,"nzDots",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Boolean)],t.prototype,"nzIncluded",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Boolean)],t.prototype,"nzRange",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Boolean)],t.prototype,"nzVertical",void 0),t})(),P=(()=>{class t{constructor(t,e){this.sliderComponent=t,this.cdr=e,this.nzTooltipVisible="default",this.nzActive=!1,this.style={},this.hovers_=new b.a,this.enterHandle=()=>{this.sliderComponent.isDragging||(this.toggleTooltip(!0),this.updateTooltipPosition(),this.cdr.detectChanges())},this.leaveHandle=()=>{this.sliderComponent.isDragging||(this.toggleTooltip(!1),this.cdr.detectChanges())}}ngOnChanges(t){const{nzOffset:e,nzValue:n,nzActive:i,nzTooltipVisible:s}=t;e&&this.updateStyle(),n&&(this.updateTooltipTitle(),this.updateTooltipPosition()),i&&this.toggleTooltip(!!i.currentValue),s&&"always"===s.currentValue&&Promise.resolve().then(()=>this.toggleTooltip(!0,!0))}ngOnDestroy(){this.hovers_.unsubscribe()}toggleTooltip(t,e=!1){(e||"default"===this.nzTooltipVisible&&this.tooltip)&&(t?this.tooltip.show():this.tooltip.hide())}updateTooltipTitle(){this.tooltipTitle=this.nzTipFormatter?this.nzTipFormatter(this.nzValue):`${this.nzValue}`}updateTooltipPosition(){this.tooltip&&Promise.resolve().then(()=>this.tooltip.updatePosition())}updateStyle(){this.style[this.nzVertical?"bottom":"left"]=`${this.nzOffset}%`,this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(I),a.Sb(a.h))},t.\u0275cmp=a.Mb({type:t,selectors:[["nz-slider-handle"]],viewQuery:function(t,e){var n;1&t&&a.Oc(v.e,!0),2&t&&a.zc(n=a.hc())&&(e.tooltip=n.first)},hostBindings:function(t,e){1&t&&a.gc("mouseenter",(function(t){return e.enterHandle()}))("mouseleave",(function(t){return e.leaveHandle()}))},inputs:{nzTooltipVisible:"nzTooltipVisible",nzActive:"nzActive",nzVertical:"nzVertical",nzOffset:"nzOffset",nzValue:"nzValue",nzTooltipPlacement:"nzTooltipPlacement",nzTipFormatter:"nzTipFormatter"},exportAs:["nzSliderHandle"],features:[a.Cb()],decls:2,vars:2,consts:[["nz-tooltip","","class","ant-slider-handle",3,"ngStyle","nzTitle","nzTrigger","nzPlacement",4,"ngIf"],["class","ant-slider-handle",3,"ngStyle",4,"ngIf"],["nz-tooltip","",1,"ant-slider-handle",3,"ngStyle","nzTitle","nzTrigger","nzPlacement"],[1,"ant-slider-handle",3,"ngStyle"]],template:function(t,e){1&t&&(a.Ic(0,w,1,4,"div",0),a.Ic(1,Y,1,1,"div",1)),2&t&&(a.sc("ngIf",null!==e.nzTipFormatter&&"never"!==e.nzTooltipVisible),a.Eb(1),a.sc("ngIf",null===e.nzTipFormatter||"never"===e.nzTooltipVisible))},directives:[i.k,v.e,i.l],encapsulation:2,changeDetection:0}),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzActive",void 0),t})(),E=(()=>{class t{constructor(){this.nzLowerBound=null,this.nzUpperBound=null,this.nzVertical=!1,this.nzIncluded=!1}ngOnChanges(t){t.nzMarksArray&&this.buildMarks(),(t.nzMarksArray||t.nzLowerBound||t.nzUpperBound)&&this.togglePointActive()}trackById(t,e){return e.value}buildMarks(){const t=this.nzMax-this.nzMin;this.marks=this.nzMarksArray.map(e=>{const{value:n,offset:i,config:s}=e,c=this.getMarkStyles(n,t,s);return{label:M(s)?s.label:s,offset:i,style:c,value:n,config:s,active:!1}})}getMarkStyles(t,e,n){let i;return i=this.nzVertical?{marginBottom:"-50%",bottom:`${(t-this.nzMin)/e*100}%`}:{transform:"translate3d(-50%, 0, 0)",left:`${(t-this.nzMin)/e*100}%`},M(n)&&n.style&&(i=Object.assign({},i,n.style)),i}togglePointActive(){this.marks&&null!==this.nzLowerBound&&null!==this.nzUpperBound&&this.marks.forEach(t=>{const e=t.value;t.active=!this.nzIncluded&&e===this.nzUpperBound||this.nzIncluded&&e<=this.nzUpperBound&&e>=this.nzLowerBound})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Mb({type:t,selectors:[["nz-slider-marks"]],inputs:{nzLowerBound:"nzLowerBound",nzUpperBound:"nzUpperBound",nzVertical:"nzVertical",nzIncluded:"nzIncluded",nzMarksArray:"nzMarksArray",nzMin:"nzMin",nzMax:"nzMax"},exportAs:["nzSliderMarks"],features:[a.Cb()],decls:2,vars:2,consts:[[1,"ant-slider-mark"],["class","ant-slider-mark-text",3,"ant-slider-mark-active","ngStyle","innerHTML",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-mark-text",3,"ngStyle","innerHTML"]],template:function(t,e){1&t&&(a.Yb(0,"div",0),a.Ic(1,S,1,4,"span",1),a.Xb()),2&t&&(a.Eb(1),a.sc("ngForOf",e.marks)("ngForTrackBy",e.trackById))},directives:[i.j,i.l],encapsulation:2,changeDetection:0}),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzVertical",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzIncluded",void 0),t})(),x=(()=>{class t{constructor(){this.nzLowerBound=null,this.nzUpperBound=null,this.nzVertical=!1,this.nzIncluded=!1}ngOnChanges(t){t.nzMarksArray&&this.buildSteps(),(t.nzMarksArray||t.nzLowerBound||t.nzUpperBound)&&this.togglePointActive()}trackById(t,e){return e.value}buildSteps(){const t=this.nzVertical?"bottom":"left";this.steps=this.nzMarksArray.map(e=>{const{value:n,offset:i,config:s}=e;return{value:n,offset:i,config:s,active:!1,style:{[t]:`${i}%`}}})}togglePointActive(){this.steps&&null!==this.nzLowerBound&&null!==this.nzUpperBound&&this.steps.forEach(t=>{const e=t.value;t.active=!this.nzIncluded&&e===this.nzUpperBound||this.nzIncluded&&e<=this.nzUpperBound&&e>=this.nzLowerBound})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Mb({type:t,selectors:[["nz-slider-step"]],inputs:{nzLowerBound:"nzLowerBound",nzUpperBound:"nzUpperBound",nzVertical:"nzVertical",nzIncluded:"nzIncluded",nzMarksArray:"nzMarksArray"},exportAs:["nzSliderStep"],features:[a.Cb()],decls:2,vars:2,consts:[[1,"ant-slider-step"],["class","ant-slider-dot",3,"ant-slider-dot-active","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-dot",3,"ngStyle"]],template:function(t,e){1&t&&(a.Yb(0,"div",0),a.Ic(1,X,1,3,"span",1),a.Xb()),2&t&&(a.Eb(1),a.sc("ngForOf",e.steps)("ngForTrackBy",e.trackById))},directives:[i.j,i.l],encapsulation:2,changeDetection:0}),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzVertical",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzIncluded",void 0),t})(),j=(()=>{class t{constructor(){this.nzVertical=!1,this.nzIncluded=!1,this.style={}}ngOnChanges(t){t.nzIncluded&&(this.style.visibility=this.nzIncluded?"visible":"hidden"),(t.nzVertical||t.nzOffset||t.nzLength)&&(this.nzVertical?(this.style.bottom=`${this.nzOffset}%`,this.style.height=`${this.nzLength}%`,this.style.left=null,this.style.width=null):(this.style.left=`${this.nzOffset}%`,this.style.width=`${this.nzLength}%`,this.style.bottom=null,this.style.height=null))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Mb({type:t,selectors:[["nz-slider-track"]],inputs:{nzVertical:"nzVertical",nzIncluded:"nzIncluded",nzOffset:"nzOffset",nzLength:"nzLength"},exportAs:["nzSliderTrack"],features:[a.Cb()],decls:1,vars:1,consts:[[1,"ant-slider-track",3,"ngStyle"]],template:function(t,e){1&t&&a.Tb(0,"div",0),2&t&&a.sc("ngStyle",e.style)},directives:[i.l],encapsulation:2,changeDetection:0}),Object(o.b)([Object(z.e)(),Object(o.d)("design:type",Number)],t.prototype,"nzOffset",void 0),Object(o.b)([Object(z.e)(),Object(o.d)("design:type",Number)],t.prototype,"nzLength",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzVertical",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzIncluded",void 0),t})(),F=(()=>{class t{}return t.\u0275mod=a.Qb({type:t}),t.\u0275inj=a.Pb({factory:function(e){return new(e||t)},imports:[[i.c,r.b,v.b]]}),t})();var _=n("Nqz0"),L=n("3+Bf"),A=n("tk/3"),B=n("LRne"),D=n("HDdC"),V=n("eIep"),$=n("R0Ic"),K=n("Rm4T"),q=n("FwiY"),R=n("XNiG");function U(t,e){if(1&t&&(a.Wb(0),a.Tb(1,"i",8),a.Vb()),2&t){const t=a.kc(3);a.Eb(1),a.sc("nzType",t.icon)}}function H(t,e){if(1&t&&a.Kc(0),2&t){const t=a.kc(3);a.Mc(" ",t.formatter(t.nzPercent)," ")}}function N(t,e){if(1&t&&(a.Yb(0,"span",5),a.Ic(1,U,2,1,"ng-container",6),a.Ic(2,H,1,1,"ng-template",null,7,a.Jc),a.Xb()),2&t){const t=a.Ac(3),e=a.kc(2);a.Eb(1),a.sc("ngIf","exception"===e.status||"success"===e.status&&!e.nzFormat)("ngIfElse",t)}}function W(t,e){if(1&t&&a.Ic(0,N,4,2,"span",4),2&t){const t=a.kc();a.sc("ngIf",t.nzShowInfo)}}function G(t,e){if(1&t&&a.Tb(0,"div",14),2&t){const t=a.kc(2);a.Hc("width",t.nzSuccessPercent,"%")("border-radius","round"===t.nzStrokeLinecap?"100px":"0")("height",t.strokeWidth,"px")}}function J(t,e){}function Z(t,e){if(1&t&&(a.Yb(0,"div"),a.Yb(1,"div",9),a.Yb(2,"div",10),a.Tb(3,"div",11),a.Ic(4,G,1,6,"div",12),a.Xb(),a.Xb(),a.Ic(5,J,0,0,"ng-template",13),a.Xb()),2&t){const t=a.kc(),e=a.Ac(1);a.Eb(3),a.Hc("width",t.nzPercent,"%")("border-radius","round"===t.nzStrokeLinecap?"100px":"0")("background",t.isGradient?null:t.nzStrokeColor,a.Lb)("background-image",t.isGradient?t.lineGradient:null,a.Lb)("height",t.strokeWidth,"px"),a.Eb(1),a.sc("ngIf",t.nzSuccessPercent||0===t.nzSuccessPercent),a.Eb(1),a.sc("ngTemplateOutlet",e)}}function Q(t,e){if(1&t&&(a.jc(),a.Tb(0,"stop")),2&t){const t=e.$implicit;a.Fb("offset",t.offset)("stop-color",t.color)}}function tt(t,e){if(1&t&&(a.jc(),a.Yb(0,"defs"),a.Yb(1,"linearGradient",18),a.Ic(2,Q,1,2,"stop",19),a.Xb(),a.Xb()),2&t){const t=a.kc(2);a.Eb(1),a.sc("id","gradient-"+t.gradientId),a.Eb(1),a.sc("ngForOf",t.circleGradient)}}function et(t,e){if(1&t&&(a.jc(),a.Tb(0,"path",20)),2&t){const t=e.$implicit,n=a.kc(2);a.sc("ngStyle",t.strokePathStyle),a.Fb("d",n.pathString)("stroke-linecap",n.nzStrokeLinecap)("stroke",t.stroke)("stroke-width",n.nzPercent?n.strokeWidth:0)}}function nt(t,e){1&t&&a.jc()}function it(t,e){if(1&t&&(a.Yb(0,"div",10),a.jc(),a.Yb(1,"svg",15),a.Ic(2,tt,3,2,"defs",2),a.Tb(3,"path",16),a.Ic(4,et,1,5,"path",17),a.Xb(),a.Ic(5,nt,0,0,"ng-template",13),a.Xb()),2&t){const t=a.kc(),e=a.Ac(1);a.Hc("width",t.nzWidth,"px")("height",t.nzWidth,"px")("font-size",.15*t.nzWidth+6,"px"),a.Jb("ant-progress-circle-gradient",t.isGradient),a.Eb(2),a.sc("ngIf",t.isGradient),a.Eb(1),a.sc("ngStyle",t.trailPathStyle),a.Fb("stroke-width",t.strokeWidth)("d",t.pathString),a.Eb(1),a.sc("ngForOf",t.progressCirclePath)("ngForTrackBy",t.trackByFn),a.Eb(1),a.sc("ngTemplateOutlet",e)}}const st=t=>{let e=[];return Object.keys(t).forEach(n=>{const i=t[n],s=+n.replace("%","");if(isNaN(s))return{};e.push({key:s,value:i})}),e=e.sort((t,e)=>t.key-e.key),e};let ct=0;const ot=new Map([["success","check"],["exception","close"]]),rt=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),at=t=>`${t}%`;let lt=(()=>{class t{constructor(t){this.nzConfigService=t,this.nzWidth=132,this.nzPercent=0,this.nzType="line",this.lineGradient=null,this.isGradient=!1,this.gradientId=ct++,this.progressCirclePath=[],this.trackByFn=t=>`${t}`,this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new R.a}get formatter(){return this.nzFormat||at}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}ngOnChanges(t){const{nzGapPosition:e,nzStrokeLinecap:n,nzStrokeColor:i,nzGapDegree:s,nzType:c,nzStatus:o,nzPercent:r,nzSuccessPercent:a}=t;o&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(r||a)&&(parseInt(this.nzPercent.toString(),10)>=100?(Object(z.K)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(o||r||a)&&this.updateIcon(),i&&this.setStrokeColor(),(e||n||s||c||r||i)&&this.getCirclePaths()}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent("progress").pipe(Object(m.a)(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const t=ot.get(this.status);this.icon=t?t+(this.isCircleStyle?"-o":"-circle-fill"):""}getCirclePaths(){if(!this.isCircleStyle)return;const t=Object(z.K)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],e=50-this.strokeWidth/2,n=2*Math.PI*e,i=this.nzGapDegree||("circle"===this.nzType?0:75);let s=0,c=-e,o=0,r=-2*e;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":s=-e,c=0,o=2*e,r=0;break;case"right":s=e,c=0,o=-2*e,r=0;break;case"bottom":c=e,r=2*e}this.pathString=`M 50,50 m ${s},${c}\n       a ${e},${e} 0 1 1 ${o},${-r}\n       a ${e},${e} 0 1 1 ${-o},${r}`,this.trailPathStyle={strokeDasharray:`${n-i}px ${n}px`,strokeDashoffset:`-${i/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=t.map((e,s)=>{const c=2===t.length&&0===s;return{stroke:this.isGradient&&!c?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:c?rt.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(e||0)/100*(n-i)}px ${n}px`,strokeDashoffset:`-${i/2}px`}}}).reverse()}setStrokeColor(){const t=this.nzStrokeColor,e=this.isGradient=!!t&&"string"!=typeof t;e&&!this.isCircleStyle?this.lineGradient=(t=>{const{from:e="#1890ff",to:n="#1890ff",direction:i="to right"}=t,s=Object(o.f)(t,["from","to","direction"]);return 0!==Object.keys(s).length?`linear-gradient(${i}, ${st(s).map(({key:t,value:e})=>`${e} ${t}%`).join(", ")})`:`linear-gradient(${i}, ${e}, ${n})`})(t):e&&this.isCircleStyle?this.circleGradient=st(this.nzStrokeColor).map(({key:t,value:e})=>({offset:`${t}%`,color:e})):(this.lineGradient=null,this.circleGradient=[])}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(z.i))},t.\u0275cmp=a.Mb({type:t,selectors:[["nz-progress"]],inputs:{nzWidth:"nzWidth",nzPercent:"nzPercent",nzType:"nzType",nzShowInfo:"nzShowInfo",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap"},exportAs:["nzProgress"],features:[a.Cb()],decls:5,vars:11,consts:[["progressInfoTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["formatTemplate",""],["nz-icon","",3,"nzType"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(t,e){1&t&&(a.Ic(0,W,1,1,"ng-template",null,0,a.Jc),a.Yb(2,"div",1),a.Ic(3,Z,6,12,"div",2),a.Ic(4,it,6,15,"div",3),a.Xb()),2&t&&(a.Eb(2),a.Jb("ant-progress-line","line"==e.nzType)("ant-progress-small","small"==e.nzSize)("ant-progress-show-info",e.nzShowInfo)("ant-progress-circle",e.isCircleStyle),a.sc("ngClass","ant-progress ant-progress-status-"+e.status),a.Eb(1),a.sc("ngIf","line"===e.nzType),a.Eb(1),a.sc("ngIf",e.isCircleStyle))},directives:[i.i,i.k,q.a,i.p,i.l,i.j],encapsulation:2,changeDetection:0}),Object(o.b)([Object(z.y)("progress",!0),Object(o.d)("design:type",Boolean)],t.prototype,"nzShowInfo",void 0),Object(o.b)([Object(z.y)("progress"),Object(o.d)("design:type",Object)],t.prototype,"nzStrokeColor",void 0),Object(o.b)([Object(z.y)("progress","default"),Object(o.d)("design:type",String)],t.prototype,"nzSize",void 0),Object(o.b)([Object(z.e)(),Object(o.d)("design:type",Number)],t.prototype,"nzSuccessPercent",void 0),Object(o.b)([Object(z.e)(),Object(o.d)("design:type",Number)],t.prototype,"nzPercent",void 0),Object(o.b)([Object(z.y)("progress"),Object(z.e)(),Object(o.d)("design:type",Number)],t.prototype,"nzStrokeWidth",void 0),Object(o.b)([Object(z.y)("progress"),Object(z.e)(),Object(o.d)("design:type",Number)],t.prototype,"nzGapDegree",void 0),Object(o.b)([Object(z.y)("progress","top"),Object(o.d)("design:type",String)],t.prototype,"nzGapPosition",void 0),Object(o.b)([Object(z.y)("progress","round"),Object(o.d)("design:type",String)],t.prototype,"nzStrokeLinecap",void 0),t})(),dt=(()=>{class t{}return t.\u0275mod=a.Qb({type:t}),t.\u0275inj=a.Pb({factory:function(e){return new(e||t)},imports:[[i.c,q.b]]}),t})();const bt=["file"],ut=["nz-upload-btn",""],ht=["*"];function pt(t,e){if(1&t&&(a.Yb(0,"div",14),a.Kc(1),a.Xb()),2&t){const t=a.kc(4);a.Eb(1),a.Lc(t.locale.uploading)}}function gt(t,e){if(1&t&&(a.Wb(0),a.Ic(1,pt,2,1,"div",13),a.Vb()),2&t){a.kc();const t=a.Ac(2),e=a.kc().$implicit,n=a.kc();a.Eb(1),a.sc("ngIf","picture-card"===n.listType&&"uploading"===e.status)("ngIfElse",t)}}function ft(t,e){1&t&&a.Tb(0,"i",16)}function mt(t,e){if(1&t&&a.Ic(0,ft,1,0,"i",15),2&t){a.kc();const t=a.Ac(4),e=a.kc().$implicit;a.sc("ngIf",!e.thumbUrl&&!e.url)("ngIfElse",t)}}function zt(t,e){if(1&t&&a.Tb(0,"img",19),2&t){const t=a.kc(3).$implicit;a.sc("src",t.thumbUrl||t.url,a.Dc),a.Fb("alt",t.name)}}function vt(t,e){if(1&t){const t=a.Zb();a.Yb(0,"a",17),a.gc("click",(function(e){a.Bc(t);const n=a.kc(2).$implicit;return a.kc().handlePreview(n,e)})),a.Ic(1,zt,1,2,"img",18),a.Xb()}if(2&t){a.kc();const t=a.Ac(6),e=a.kc().$implicit,n=a.kc();a.sc("href",e.thumbUrl||e.url,a.Dc),a.Eb(1),a.sc("ngIf",n.isImageUrl(e))("ngIfElse",t)}}function kt(t,e){1&t&&a.Tb(0,"i",20)}function yt(t,e){if(1&t&&a.Tb(0,"i",21),2&t){const t=a.kc(2).$implicit;a.sc("nzType","uploading"===t.status?"loading":"paper-clip")}}function Ot(t,e){if(1&t&&(a.Ic(0,gt,2,2,"ng-container",6),a.Ic(1,mt,1,2,"ng-template",null,9,a.Jc),a.Ic(3,vt,2,3,"ng-template",null,10,a.Jc),a.Ic(5,kt,1,0,"ng-template",null,11,a.Jc),a.Ic(7,yt,1,1,"ng-template",null,12,a.Jc)),2&t){const t=a.Ac(8),e=a.kc(2);a.sc("ngIf",e.showPic)("ngIfElse",t)}}function Ct(t,e){if(1&t){const t=a.Zb();a.Wb(0),a.Yb(1,"a",23),a.gc("click",(function(e){a.Bc(t);const n=a.kc(2).$implicit;return a.kc().handlePreview(n,e)})),a.Kc(2),a.Xb(),a.Vb()}if(2&t){const t=a.kc(2).$implicit;a.Eb(1),a.tc("title",t.name),a.sc("href",t.thumbUrl||t.url,a.Dc),a.Fb("download",t.linkProps&&t.linkProps.download),a.Eb(1),a.Lc(t.name)}}function wt(t,e){if(1&t){const t=a.Zb();a.Yb(0,"span",24),a.gc("click",(function(e){a.Bc(t);const n=a.kc(2).$implicit;return a.kc().handlePreview(n,e)})),a.Kc(1),a.Xb()}if(2&t){const t=a.kc(2).$implicit;a.tc("title",t.name),a.Eb(1),a.Lc(t.name)}}function Yt(t,e){if(1&t&&(a.Ic(0,Ct,3,4,"ng-container",6),a.Ic(1,wt,2,2,"ng-template",null,22,a.Jc)),2&t){const t=a.Ac(2),e=a.kc().$implicit;a.sc("ngIf",e.url)("ngIfElse",t)}}function St(t,e){}function Xt(t,e){}function Tt(t,e){if(1&t&&(a.Yb(0,"span",25),a.Ic(1,St,0,0,"ng-template",26),a.Ic(2,Xt,0,0,"ng-template",26),a.Xb()),2&t){const t=a.kc().$implicit,e=a.Ac(2),n=a.Ac(4);a.sc("nzTitle",t.message),a.Eb(1),a.sc("ngTemplateOutlet",e),a.Eb(1),a.sc("ngTemplateOutlet",n)}}function Mt(t,e){}function It(t,e){}function Pt(t,e){if(1&t&&(a.Yb(0,"span"),a.Ic(1,Mt,0,0,"ng-template",26),a.Ic(2,It,0,0,"ng-template",26),a.Xb()),2&t){a.kc();const t=a.Ac(2),e=a.Ac(4);a.Eb(1),a.sc("ngTemplateOutlet",t),a.Eb(1),a.sc("ngTemplateOutlet",e)}}const Et=function(){return{opacity:.5,"pointer-events":"none"}};function xt(t,e){if(1&t){const t=a.Zb();a.Yb(0,"a",30),a.gc("click",(function(e){a.Bc(t);const n=a.kc(2).$implicit;return a.kc().handlePreview(n,e)})),a.Tb(1,"i",31),a.Xb()}if(2&t){const t=a.kc(2).$implicit,e=a.kc();a.tc("title",e.locale.previewFile),a.sc("href",t.thumbUrl||t.url,a.Dc)("ngStyle",!(t.url||t.thumbUrl)&&a.vc(3,Et))}}function jt(t,e){if(1&t){const t=a.Zb();a.Yb(0,"i",32),a.gc("click",(function(e){a.Bc(t);const n=a.kc(2).$implicit;return a.kc().handleRemove(n,e)})),a.Xb()}if(2&t){const t=a.kc(3);a.tc("title",t.locale.removeFile)}}function Ft(t,e){if(1&t&&(a.Wb(0),a.Yb(1,"span",27),a.Ic(2,xt,2,4,"a",28),a.Ic(3,jt,1,1,"i",29),a.Xb(),a.Vb()),2&t){const t=a.kc().$implicit,e=a.kc();a.Eb(2),a.sc("ngIf",e.showPreview(t)),a.Eb(1),a.sc("ngIf",e.icons.showRemoveIcon)}}function _t(t,e){if(1&t){const t=a.Zb();a.Yb(0,"i",34),a.gc("click",(function(e){a.Bc(t);const n=a.kc(2).$implicit;return a.kc().handleRemove(n,e)})),a.Xb()}if(2&t){const t=a.kc(3);a.tc("title",t.locale.removeFile)}}function Lt(t,e){if(1&t&&a.Ic(0,_t,1,1,"i",33),2&t){const t=a.kc(2);a.sc("ngIf",t.icons.showRemoveIcon)}}function At(t,e){if(1&t&&(a.Yb(0,"div",35),a.Tb(1,"nz-progress",36),a.Xb()),2&t){const t=a.kc().$implicit;a.Eb(1),a.sc("nzPercent",t.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function Bt(t,e){if(1&t&&(a.Yb(0,"div"),a.Ic(1,Ot,9,2,"ng-template",null,1,a.Jc),a.Ic(3,Yt,3,2,"ng-template",null,2,a.Jc),a.Yb(5,"div",3),a.Ic(6,Tt,3,3,"span",4),a.Ic(7,Pt,3,2,"span",5),a.Xb(),a.Ic(8,Ft,4,2,"ng-container",6),a.Ic(9,Lt,1,1,"ng-template",null,7,a.Jc),a.Ic(11,At,2,3,"div",8),a.Xb()),2&t){const t=e.$implicit,n=a.Ac(10),i=a.kc();a.Hb("ant-upload-list-item ant-upload-list-item-",t.status,""),a.sc("@itemState",void 0),a.Eb(6),a.sc("ngIf","error"===t.status),a.Eb(1),a.sc("ngIf","error"!==t.status),a.Eb(1),a.sc("ngIf","picture-card"===i.listType&&"uploading"!==t.status)("ngIfElse",n),a.Eb(3),a.sc("ngIf","uploading"===t.status)}}const Dt=["uploadComp"],Vt=["listComp"],$t=function(){return[]};function Kt(t,e){if(1&t&&a.Tb(0,"nz-upload-list",6,7),2&t){const t=a.kc();a.Hc("display",t.nzShowUploadList?"":"none"),a.sc("locale",t.locale)("listType",t.nzListType)("items",t.nzFileList||a.vc(8,$t))("icons",t.nzShowUploadList)("onPreview",t.nzPreview)("onRemove",t.onRemove)}}function qt(t,e){1&t&&a.qc(0)}function Rt(t,e){}function Ut(t,e){if(1&t&&(a.Yb(0,"div",8),a.Yb(1,"div",9,10),a.Ic(3,Rt,0,0,"ng-template",11),a.Xb(),a.Xb()),2&t){const t=a.kc(),e=a.Ac(3);a.Hc("display",t.nzShowButton?"":"none"),a.sc("ngClass",t.classList),a.Eb(1),a.sc("options",t._btnOptions),a.Eb(2),a.sc("ngTemplateOutlet",e)}}function Ht(t,e){}function Nt(t,e){}const Wt=function(){return{"ant-upload-btn":!0}};function Gt(t,e){if(1&t){const t=a.Zb();a.Wb(0),a.Yb(1,"div",12),a.gc("drop",(function(e){return a.Bc(t),a.kc().fileDrop(e)}))("dragover",(function(e){return a.Bc(t),a.kc().fileDrop(e)}))("dragleave",(function(e){return a.Bc(t),a.kc().fileDrop(e)})),a.Yb(2,"div",13,10),a.Yb(4,"div",14),a.Ic(5,Ht,0,0,"ng-template",11),a.Xb(),a.Xb(),a.Xb(),a.Ic(6,Nt,0,0,"ng-template",11),a.Vb()}if(2&t){const t=a.kc(),e=a.Ac(3),n=a.Ac(1);a.Eb(1),a.sc("ngClass",t.classList),a.Eb(1),a.sc("options",t._btnOptions)("classes",a.vc(5,Wt)),a.Eb(3),a.sc("ngTemplateOutlet",e),a.Eb(1),a.sc("ngTemplateOutlet",n)}}function Jt(t,e){}function Zt(t,e){}function Qt(t,e){if(1&t&&(a.Wb(0),a.Ic(1,Jt,0,0,"ng-template",11),a.Ic(2,Zt,0,0,"ng-template",11),a.Vb()),2&t){a.kc(2);const t=a.Ac(1),e=a.Ac(5);a.Eb(1),a.sc("ngTemplateOutlet",t),a.Eb(1),a.sc("ngTemplateOutlet",e)}}function te(t,e){if(1&t&&a.Ic(0,Qt,3,2,"ng-container",3),2&t){const t=a.kc(),e=a.Ac(10);a.sc("ngIf","picture-card"===t.nzListType)("ngIfElse",e)}}function ee(t,e){}function ne(t,e){}function ie(t,e){if(1&t&&(a.Ic(0,ee,0,0,"ng-template",11),a.Ic(1,ne,0,0,"ng-template",11)),2&t){a.kc();const t=a.Ac(5),e=a.Ac(1);a.sc("ngTemplateOutlet",t),a.Eb(1),a.sc("ngTemplateOutlet",e)}}let se=(()=>{class t{constructor(t,e,n){if(this.http=t,this.el=e,this.updateHostClassService=n,this.reqs={},this.inited=!1,this.destroy=!1,this.classes={},this.prefixCls="ant-upload",!t)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}onClick(){!this.options.disabled&&this.options.openFileDialogOnClick&&this.file.nativeElement.click()}onKeyDown(t){this.options.disabled||"Enter"!==t.key&&t.keyCode!==L.d||this.onClick()}onFileDrop(t){if(this.options.disabled||"dragover"===t.type)t.preventDefault();else{if(this.options.directory)this.traverseFileTree(t.dataTransfer.items);else{const e=Array.prototype.slice.call(t.dataTransfer.files).filter(t=>this.attrAccept(t,this.options.accept));e.length&&this.uploadFiles(e)}t.preventDefault()}}onChange(t){if(this.options.disabled)return;const e=t.target;this.uploadFiles(e.files),e.value=""}traverseFileTree(t){const e=(t,n)=>{t.isFile?t.file(t=>{this.attrAccept(t,this.options.accept)&&this.uploadFiles([t])}):t.isDirectory&&t.createReader().readEntries(i=>{for(const s of i)e(s,`${n}${t.name}/`)})};for(const n of t)e(n.webkitGetAsEntry(),"")}attrAccept(t,e){if(t&&e){const n=Array.isArray(e)?e:e.split(","),i=""+t.name,s=""+t.type,c=s.replace(/\/.*$/,"");return n.some(t=>{const e=t.trim();return"."===e.charAt(0)?-1!==i.toLowerCase().indexOf(e.toLowerCase(),i.toLowerCase().length-e.toLowerCase().length):/\/\*$/.test(e)?c===e.replace(/\/.*$/,""):s===e})}return!0}attachUid(t){return t.uid||(t.uid=Math.random().toString(36).substring(2)),t}uploadFiles(t){let e=Object(B.a)(Array.prototype.slice.call(t));this.options.filters&&this.options.filters.forEach(t=>{e=e.pipe(Object(V.a)(e=>{const n=t.fn(e);return n instanceof D.a?n:Object(B.a)(n)}))}),e.subscribe(t=>{t.forEach(e=>{this.attachUid(e),this.upload(e,t)})},t=>{Object(z.S)("Unhandled upload filter error",t)})}upload(t,e){if(!this.options.beforeUpload)return this.post(t);const n=this.options.beforeUpload(t,e);if(n instanceof D.a)n.subscribe(e=>{const n=Object.prototype.toString.call(e);"[object File]"===n||"[object Blob]"===n?(this.attachUid(e),this.post(e)):"boolean"==typeof e&&!1!==e&&this.post(t)},t=>{Object(z.S)("Unhandled upload beforeUpload error",t)});else if(!1!==n)return this.post(t)}post(t){if(this.destroy)return;const e=this.options,{uid:n}=t;let{data:i,headers:s}=e;"function"==typeof i&&(i=i(t)),"function"==typeof s&&(s=s(t));const c={action:e.action,name:e.name,headers:s,file:t,data:i,withCredentials:e.withCredentials,onProgress:e.onProgress?n=>{e.onProgress(n,t)}:void 0,onSuccess:(i,s)=>{this.clean(n),e.onSuccess(i,t,s)},onError:i=>{this.clean(n),e.onError(i,t)}},o=(e.customRequest||this.xhr).call(this,c);o instanceof b.a||Object(z.S)("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[n]=o,e.onStart(t)}xhr(t){const e=new FormData;e.append(t.name,t.file),t.data&&Object.keys(t.data).map(n=>{e.append(n,t.data[n])}),t.headers||(t.headers={}),null!==t.headers["X-Requested-With"]?t.headers["X-Requested-With"]="XMLHttpRequest":delete t.headers["X-Requested-With"];const n=new A.g("POST",t.action,e,{reportProgress:!0,withCredentials:t.withCredentials,headers:new A.f(t.headers)});return this.http.request(n).subscribe(e=>{e.type===A.e.UploadProgress?(e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e,t.file)):e instanceof A.h&&t.onSuccess(e.body,t.file,e)},e=>{this.abort(t.file),t.onError(e,t.file)})}clean(t){const e=this.reqs[t];e instanceof b.a&&e.unsubscribe(),delete this.reqs[t]}abort(t){t?this.clean(t&&t.uid):Object.keys(this.reqs).forEach(t=>this.clean(t))}setClassMap(){const t=Object.assign({[this.prefixCls]:!0,[`${this.prefixCls}-disabled`]:this.options.disabled},this.classes);this.updateHostClassService.updateHostClass(this.el.nativeElement,t)}ngOnInit(){this.inited=!0,this.setClassMap()}ngOnChanges(){this.inited&&this.setClassMap()}ngOnDestroy(){this.destroy=!0,this.abort()}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(A.c,8),a.Sb(a.l),a.Sb(z.t))},t.\u0275cmp=a.Mb({type:t,selectors:[["","nz-upload-btn",""]],viewQuery:function(t,e){var n;1&t&&a.Oc(bt,!0),2&t&&a.zc(n=a.hc())&&(e.file=n.first)},hostVars:2,hostBindings:function(t,e){1&t&&a.gc("click",(function(t){return e.onClick()}))("keydown",(function(t){return e.onKeyDown(t)}))("drop",(function(t){return e.onFileDrop(t)}))("dragover",(function(t){return e.onFileDrop(t)})),2&t&&a.Fb("tabindex","0")("role","button")},inputs:{classes:"classes",options:"options"},exportAs:["nzUploadBtn"],features:[a.Db([z.t]),a.Cb()],attrs:ut,ngContentSelectors:ht,decls:3,vars:4,consts:[["type","file",2,"display","none",3,"multiple","change"],["file",""]],template:function(t,e){1&t&&(a.rc(),a.Yb(0,"input",0,1),a.gc("change",(function(t){return e.onChange(t)})),a.Xb(),a.qc(2)),2&t&&(a.sc("multiple",e.options.multiple),a.Fb("accept",e.options.accept)("directory",e.options.directory?"directory":null)("webkitdirectory",e.options.directory?"webkitdirectory":null))},encapsulation:2}),t})(),ce=(()=>{class t{constructor(t,e,n,i){this.el=t,this.cdr=e,this.updateHostClassService=n,this.platform=i,this.imageTypes=["image","webp","png","svg","gif","jpg","jpeg","bmp"],this.locale={},this.prefixCls="ant-upload-list"}get showPic(){return"picture"===this.listType||"picture-card"===this.listType}set items(t){t.forEach(t=>{t.linkProps="string"==typeof t.linkProps?JSON.parse(t.linkProps):t.linkProps}),this._items=t}get items(){return this._items}setClassMap(){this.updateHostClassService.updateHostClass(this.el.nativeElement,{[this.prefixCls]:!0,[`${this.prefixCls}-${this.listType}`]:!0})}extname(t){const e=t.split("/"),n=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]}isImageUrl(t){if(~this.imageTypes.indexOf(t.type))return!0;const e=t.thumbUrl||t.url||"";if(!e)return!1;const n=this.extname(e);return!(!/^data:image\//.test(e)&&!/(webp|svg|png|gif|jpg|jpeg|bmp)$/i.test(n))||!/^data:/.test(e)&&!n}previewFile(t,e){t.type&&-1===this.imageTypes.indexOf(t.type)&&e("");const n=new FileReader;n.onloadend=()=>e(n.result),n.readAsDataURL(t)}genThumb(){if(!this.platform.isBrowser)return;const t=window;this.showPic&&"undefined"!=typeof document&&void 0!==t&&t.FileReader&&t.File&&this.items.filter(t=>t.originFileObj instanceof File&&void 0===t.thumbUrl).forEach(t=>{t.thumbUrl="",this.previewFile(t.originFileObj,e=>{t.thumbUrl=e,this.detectChanges()})})}showPreview(t){const{showPreviewIcon:e,hidePreviewIconInNonImage:n}=this.icons;return!(!e||!this.isImageUrl(t)&&n)}handlePreview(t,e){if(this.onPreview)return e.preventDefault(),this.onPreview(t)}handleRemove(t,e){e.preventDefault(),this.onRemove&&this.onRemove(t)}detectChanges(){this.cdr.detectChanges()}ngOnChanges(){this.setClassMap(),this.genThumb()}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(a.l),a.Sb(a.h),a.Sb(z.t),a.Sb(r.a))},t.\u0275cmp=a.Mb({type:t,selectors:[["nz-upload-list"]],inputs:{locale:"locale",items:"items",listType:"listType",icons:"icons",onPreview:"onPreview",onRemove:"onRemove"},exportAs:["nzUploadList"],features:[a.Db([z.t]),a.Cb()],decls:1,vars:1,consts:[[3,"class",4,"ngFor","ngForOf"],["icon",""],["preview",""],[1,"ant-upload-list-item-info"],["nz-tooltip","",3,"nzTitle",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["close",""],["class","ant-upload-list-item-progress",4,"ngIf"],["thumbUrlCheck",""],["thumbTpl",""],["noThumbTpl",""],["noPicTpl",""],["class","ant-upload-list-item-uploading-text",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-uploading-text"],["class","ant-upload-list-item-thumbnail","nz-icon","","nzType","picture","nzTheme","twotone",4,"ngIf","ngIfElse"],["nz-icon","","nzType","picture","nzTheme","twotone",1,"ant-upload-list-item-thumbnail"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"href","click"],[3,"src",4,"ngIf","ngIfElse"],[3,"src"],["nz-icon","","nzType","file","nzTheme","twotone",1,"ant-upload-list-item-icon"],["nz-icon","",3,"nzType"],["prevText",""],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"href","title","click"],[1,"ant-upload-list-item-name",3,"title","click"],["nz-tooltip","",3,"nzTitle"],[3,"ngTemplateOutlet"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","title","ngStyle","click",4,"ngIf"],["nz-icon","","nzType","delete",3,"title","click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href","title","ngStyle","click"],["nz-icon","","nzType","eye-o"],["nz-icon","","nzType","delete",3,"title","click"],["nz-icon","","nzType","close",3,"title","click",4,"ngIf"],["nz-icon","","nzType","close",3,"title","click"],[1,"ant-upload-list-item-progress"],[3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(t,e){1&t&&a.Ic(0,Bt,12,9,"div",0),2&t&&a.sc("ngForOf",e.items)},directives:[i.j,i.k,q.a,v.e,i.p,i.l,lt],encapsulation:2,data:{animation:[Object($.j)("itemState",[Object($.i)(":enter",[Object($.h)({height:"0",width:"0",opacity:0}),Object($.e)(150,Object($.h)({height:"*",width:"*",opacity:1}))]),Object($.i)(":leave",[Object($.e)(150,Object($.h)({height:"0",width:"0",opacity:0}))])])]},changeDetection:0}),t})(),oe=(()=>{class t{constructor(t,e){this.cdr=t,this.i18n=e,this.locale={},this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzChange=new a.n,this.nzFileListChange=new a.n,this.onStart=t=>{this.nzFileList||(this.nzFileList=[]);const e=this.fileToObject(t);e.status="uploading",this.nzFileList=this.nzFileList.concat(e),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:e,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(t,e)=>{const n=this.getFileItem(e,this.nzFileList);n.percent=t.percent,this.nzChange.emit({event:t,file:Object.assign({},n),fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(t,e)=>{const n=this.nzFileList,i=this.getFileItem(e,n);i.status="done",i.response=t,this.nzChange.emit({file:Object.assign({},i),fileList:n,type:"success"}),this.detectChangesList()},this.onError=(t,e)=>{const n=this.nzFileList,i=this.getFileItem(e,n);i.error=t,i.status="error",i.message=this.genErr(i),this.nzChange.emit({file:Object.assign({},i),fileList:n,type:"error"}),this.detectChangesList()},this.onRemove=t=>{this.uploadComp.abort(t),t.status="removed";const e="function"==typeof this.nzRemove?this.nzRemove(t):null==this.nzRemove||this.nzRemove;(e instanceof D.a?e:Object(B.a)(e)).pipe(Object(u.a)(t=>t)).subscribe(()=>{this.nzFileList=this.removeFileItem(t,this.nzFileList),this.nzChange.emit({file:t,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}set nzShowUploadList(t){this._showUploadList="boolean"==typeof t?Object(z.Q)(t):t}get nzShowUploadList(){return this._showUploadList}zipOptions(){"boolean"==typeof this.nzShowUploadList&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,hidePreviewIconInNonImage:!1});const t=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&-1===t.findIndex(t=>"limit"===t.name)&&t.push({name:"limit",fn:t=>t.slice(-this.nzLimit)}),this.nzSize>0&&-1===t.findIndex(t=>"size"===t.name)&&t.push({name:"size",fn:t=>t.filter(t=>t.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&-1===t.findIndex(t=>"type"===t.name)){const e=this.nzFileType.split(",");t.push({name:"type",fn:t=>t.filter(t=>~e.indexOf(t.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:t,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}fileToObject(t){return{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.filename||t.name,size:t.size,type:t.type,uid:t.uid,response:t.response,error:t.error,percent:0,originFileObj:t}}getFileItem(t,e){return e.filter(e=>e.uid===t.uid)[0]}removeFileItem(t,e){return e.filter(e=>e.uid!==t.uid)}genErr(t){return t.response&&"string"==typeof t.response?t.response:t.error&&t.error.statusText||this.locale.uploadError}fileDrop(t){t.type!==this.dragState&&(this.dragState=t.type,this.setClassMap())}detectChangesList(){this.cdr.detectChanges(),this.listComp.detectChanges()}setClassMap(){let t=[];"drag"===this.nzType?(this.nzFileList.some(t=>"uploading"===t.status)&&t.push(`${this.prefixCls}-drag-uploading`),"dragover"===this.dragState&&t.push(`${this.prefixCls}-drag-hover`)):t=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...t,this.nzDisabled&&`${this.prefixCls}-disabled`||""].filter(t=>!!t),this.cdr.detectChanges()}ngOnInit(){this.i18n$=this.i18n.localeChange.subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngOnChanges(t){t.nzFileList&&(this.nzFileList||[]).forEach(t=>t.message=this.genErr(t)),this.zipOptions().setClassMap()}ngOnDestroy(){this.i18n$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(a.h),a.Sb(K.c))},t.\u0275cmp=a.Mb({type:t,selectors:[["nz-upload"]],viewQuery:function(t,e){var n;1&t&&(a.Oc(Dt,!0),a.Oc(Vt,!0)),2&t&&(a.zc(n=a.hc())&&(e.uploadComp=n.first),a.zc(n=a.hc())&&(e.listComp=n.first))},hostVars:2,hostBindings:function(t,e){2&t&&a.Jb("ant-upload-picture-card-wrapper","picture-card"===e.nzListType)},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzShowUploadList:"nzShowUploadList",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzHeaders:"nzHeaders",nzRemove:"nzRemove",nzPreview:"nzPreview"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],features:[a.Cb()],ngContentSelectors:ht,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],[4,"ngIf","ngIfElse"],["select",""],["pic",""],[3,"locale","listType","items","icons","onPreview","onRemove"],["listComp",""],[3,"ngClass"],["nz-upload-btn","",3,"options"],["uploadComp",""],[3,"ngTemplateOutlet"],[3,"ngClass","drop","dragover","dragleave"],["nz-upload-btn","",3,"options","classes"],[1,"ant-upload-drag-container"]],template:function(t,e){if(1&t&&(a.rc(),a.Ic(0,Kt,2,9,"ng-template",null,0,a.Jc),a.Ic(2,qt,1,0,"ng-template",null,1,a.Jc),a.Ic(4,Ut,4,5,"ng-template",null,2,a.Jc),a.Ic(6,Gt,7,6,"ng-container",3),a.Ic(7,te,1,2,"ng-template",null,4,a.Jc),a.Ic(9,ie,2,2,"ng-template",null,5,a.Jc)),2&t){const t=a.Ac(8);a.Eb(6),a.sc("ngIf","drag"===e.nzType)("ngIfElse",t)}},directives:[i.k,ce,i.i,se,i.p],encapsulation:2,changeDetection:0}),Object(o.b)([Object(z.e)(),Object(o.d)("design:type",Object)],t.prototype,"nzLimit",void 0),Object(o.b)([Object(z.e)(),Object(o.d)("design:type",Object)],t.prototype,"nzSize",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzDirectory",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzOpenFileDialogOnClick",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzDisabled",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzMultiple",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzShowButton",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzWithCredentials",void 0),t})(),re=(()=>{class t{}return t.\u0275mod=a.Qb({type:t}),t.\u0275inj=a.Pb({factory:function(e){return new(e||t)},imports:[[i.c,s.f,r.b,v.b,dt,K.b,q.b]]}),t})();var ae=n("OCB9"),le=n("6KbF"),de=n("tkJt");const be=["drawerTemplate"];function ue(t,e){if(1&t){const t=a.Zb();a.Yb(0,"div",9),a.gc("click",(function(e){return a.Bc(t),a.kc(2).maskClick()})),a.Xb()}if(2&t){const t=a.kc(2);a.sc("ngStyle",t.nzMaskStyle)}}function he(t,e){if(1&t&&(a.Wb(0),a.Tb(1,"div",14),a.Vb()),2&t){const t=a.kc(4);a.Eb(1),a.sc("innerHTML",t.nzTitle,a.Cc)}}function pe(t,e){if(1&t&&(a.Yb(0,"div",12),a.Ic(1,he,2,1,"ng-container",13),a.Xb()),2&t){const t=a.kc(3);a.Eb(1),a.sc("nzStringTemplateOutlet",t.nzTitle)}}function ge(t,e){if(1&t){const t=a.Zb();a.Yb(0,"button",15),a.gc("click",(function(e){return a.Bc(t),a.kc(3).closeClick()})),a.Tb(1,"i",16),a.Xb()}}function fe(t,e){if(1&t&&(a.Yb(0,"div"),a.Ic(1,pe,2,1,"div",10),a.Ic(2,ge,2,0,"button",11),a.Xb()),2&t){const t=a.kc(2);a.Jb("ant-drawer-header",!!t.nzTitle)("ant-drawer-header-no-title",!!t.nzTitle),a.Eb(1),a.sc("ngIf",t.nzTitle),a.Eb(1),a.sc("ngIf",t.nzClosable)}}function me(t,e){}function ze(t,e){1&t&&a.Ub(0)}function ve(t,e){if(1&t&&(a.Wb(0),a.Ic(1,ze,1,0,"ng-container",17),a.Vb()),2&t){const t=a.kc(2);a.Eb(1),a.sc("ngTemplateOutlet",t.nzContent)("ngTemplateOutletContext",t.templateContext)}}function ke(t,e){1&t&&a.qc(0,0,["*ngIf","!nzContent"])}function ye(t,e){if(1&t&&(a.Yb(0,"div",1),a.Ic(1,ue,1,1,"div",2),a.Yb(2,"div"),a.Yb(3,"div",3),a.Yb(4,"div",4),a.Ic(5,fe,3,6,"div",5),a.Yb(6,"div",6),a.Ic(7,me,0,0,"ng-template",7),a.Ic(8,ve,2,2,"ng-container",8),a.Ic(9,ke,1,0,void 0,8),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb()),2&t){const t=a.kc();a.Hc("transform",t.offsetTransform)("z-index",t.nzZIndex),a.Jb("ant-drawer-open",t.isOpen)("ant-drawer-top","top"===t.nzPlacement)("ant-drawer-bottom","bottom"===t.nzPlacement)("ant-drawer-right","right"===t.nzPlacement)("ant-drawer-left","left"===t.nzPlacement),a.sc("nzNoAnimation",t.nzNoAnimation),a.Eb(1),a.sc("ngIf",t.nzMask),a.Eb(1),a.Hb("ant-drawer-content-wrapper ",t.nzWrapClassName,""),a.Hc("width",t.width)("height",t.height)("transform",t.transform),a.Eb(2),a.Hc("height",t.isLeftOrRight?"100%":null),a.Eb(1),a.sc("ngIf",t.nzTitle||t.nzClosable),a.Eb(1),a.sc("ngStyle",t.nzBodyStyle),a.Eb(2),a.sc("ngIf",t.isTemplateRef(t.nzContent)),a.Eb(1),a.sc("ngIf",!t.nzContent)}}const Oe=["*"];class Ce{}let we=(()=>{class t extends Ce{constructor(t,e,n,i,s,c,o,r,l){super(),this.document=t,this.nzConfigService=e,this.renderer=n,this.overlay=i,this.injector=s,this.changeDetectorRef=c,this.focusTrapFactory=o,this.viewContainerRef=r,this.overlayKeyboardDispatcher=l,this.nzClosable=!0,this.nzNoAnimation=!1,this.nzKeyboard=!0,this.nzPlacement="right",this.nzMaskStyle={},this.nzBodyStyle={},this.nzWidth=256,this.nzHeight=256,this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.nzOnViewInit=new a.n,this.nzOnClose=new a.n,this.destroy$=new R.a,this.isOpen=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new R.a,this.nzAfterClose=new R.a}set nzVisible(t){this.isOpen=t}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){return this.isLeftOrRight?Object(z.R)(this.nzWidth):null}get height(){return this.isLeftOrRight?null:Object(z.R)(this.nzHeight)}get isLeftOrRight(){return"left"===this.nzPlacement||"right"===this.nzPlacement}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}isTemplateRef(t){return t instanceof a.M}ngOnInit(){this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),setTimeout(()=>{this.nzOnViewInit.emit()})}ngOnChanges(t){t.hasOwnProperty("nzVisible")&&(t.nzVisible.currentValue?this.open():this.close())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:300}close(t){this.isOpen=!1,this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.nzAfterClose.next(t),this.nzAfterClose.complete()},this.getAnimationDuration())}open(){this.isOpen=!0,this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.nzAfterOpen.next()},this.getAnimationDuration())}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof a.O){const t=new le.d(this.injector,new WeakMap([[Ce,this]])),e=new le.b(this.nzContent,null,t),n=this.bodyPortalOutlet.attachComponentPortal(e);Object.assign(n.instance,this.nzContentParams),n.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new le.f(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(Object(m.a)(this.destroy$)).subscribe(t=>{t.keyCode===L.e&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}))}disposeOverlay(){this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null}getOverlayConfig(){return new ae.e({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.blur&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(i.d,8),a.Sb(z.i),a.Sb(a.E),a.Sb(ae.d),a.Sb(a.r),a.Sb(a.h),a.Sb(de.a),a.Sb(a.Q),a.Sb(ae.f))},t.\u0275cmp=a.Mb({type:t,selectors:[["nz-drawer"]],viewQuery:function(t,e){var n;1&t&&(a.Gc(be,!0),a.Oc(le.a,!0)),2&t&&(a.zc(n=a.hc())&&(e.drawerTemplate=n.first),a.zc(n=a.hc())&&(e.bodyPortalOutlet=n.first))},inputs:{nzClosable:"nzClosable",nzNoAnimation:"nzNoAnimation",nzKeyboard:"nzKeyboard",nzPlacement:"nzPlacement",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:"nzVisible",nzContent:"nzContent",nzMaskClosable:"nzMaskClosable",nzMask:"nzMask",nzTitle:"nzTitle",nzWrapClassName:"nzWrapClassName"},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose"},exportAs:["nzDrawer"],features:[a.Bb,a.Cb()],ngContentSelectors:Oe,decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],["class","ant-drawer-mask",3,"ngStyle","click",4,"ngIf"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[3,"ant-drawer-header","ant-drawer-header-no-title",4,"ngIf"],[1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[4,"ngIf"],[1,"ant-drawer-mask",3,"ngStyle","click"],["class","ant-drawer-title",4,"ngIf"],["aria-label","Close","class","ant-drawer-close",3,"click",4,"ngIf"],[1,"ant-drawer-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"],["aria-label","Close",1,"ant-drawer-close",3,"click"],["nz-icon","","nzType","close"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(a.rc(),a.Ic(0,ye,10,31,"ng-template",null,0,a.Jc))},directives:[z.m,i.k,i.l,le.a,z.r,q.a,i.p],encapsulation:2,changeDetection:0}),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Boolean)],t.prototype,"nzClosable",void 0),Object(o.b)([Object(z.y)("drawer",!0),Object(z.d)(),Object(o.d)("design:type",Boolean)],t.prototype,"nzMaskClosable",void 0),Object(o.b)([Object(z.y)("drawer",!0),Object(z.d)(),Object(o.d)("design:type",Boolean)],t.prototype,"nzMask",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Object)],t.prototype,"nzNoAnimation",void 0),Object(o.b)([Object(z.d)(),Object(o.d)("design:type",Boolean)],t.prototype,"nzKeyboard",void 0),t})(),Ye=(()=>{class t{}return t.\u0275mod=a.Qb({type:t}),t.\u0275inj=a.Pb({factory:function(e){return new(e||t)}}),t})(),Se=(()=>{class t{}return t.\u0275mod=a.Qb({type:t}),t.\u0275inj=a.Pb({factory:function(e){return new(e||t)},imports:[[i.c,ae.g,le.e,q.b,z.g,z.n,Ye]]}),t})();var Xe=n("zAKX"),Te=n("tyNb"),Me=n("YqVT"),Ie=n("nYR2"),Pe=n("0bL0"),Ee=n("iYJU"),xe=n("9uVP"),je=n("hO3D");class Fe extends je.a{}var _e=n("9p45"),Le=n("IRNp"),Ae=n("2r3b"),Be=n("AytR");let De=(()=>{class t{constructor(t){this.http=t,this.url=Be.a.endpoints.api+"/tracks/"}getAll(){return this.http.get(`${this.url}`).pipe()}getByCategories(){return this.http.get(`${this.url}categories`).pipe()}}return t.\u0275fac=function(e){return new(e||t)(a.cc(A.c))},t.\u0275prov=a.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ve=(()=>{class t{constructor(t){this.http=t,this.url=`${Be.a.endpoints.api}/constructs/`}getAll(){return this.http.get(`${this.url}`).pipe()}getById(t){return this.http.get(`${this.url}${t}/`).pipe()}getExample(){return this.http.get(`${this.url}model`).pipe()}}return t.\u0275fac=function(e){return new(e||t)(a.cc(A.c))},t.\u0275prov=a.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var $e=n("dAYa"),Ke=n("nKCG"),qe=n("CrrK"),Re=n("PScX"),Ue=n("0yvB");let He=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Mb({type:t,selectors:[["sqy-sketcher-loading"]],decls:111,vars:0,consts:[[1,"ui","basic","segment","internally","celled","grid","sketcher"],[1,"row"],[1,"column"],[1,"ui","equal","width","center","aligned","middle","aligned","container","grid"],[1,"ui","placeholder"],[1,"header"],[1,"line"],[1,"ui","circular","icon","primary","disabled","button"],[1,"sliders","horizontal","icon"],[1,"plus","icon"],[1,"cogs","icon"],[1,"ui","circular","icon","disabled","button"],[1,"lock","icon"],[1,"download","icon"],[1,"row","canvas"],[1,"eleven","wide","column","p-0"],[1,"ui","internally","celled","grid","m-0"],[1,"column","top-details-bar"],[1,"ui","form"],[1,"inline","four","fields","m-0"],[1,"inline","field","txt-c"],[1,"column","construct"],[1,"strand"],[1,"track"],[1,"image"],[1,"five","wide","column"],[1,"ui","grid"],[1,"two","column","row"],[1,"sixteen","wide","column"],[1,"ui","divider"],[1,"sixteen","wide","column",2,"height","80vh","overflow","auto"],[1,"field"],[1,"paragraph"],[1,"ui","secondary","right","labeled","fluid","icon","disabled","button"],[1,"angle","right","icon"],[1,"ui","placeholder","txt-c"]],template:function(t,e){1&t&&(a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"div",2),a.Yb(3,"div",3),a.Yb(4,"div",2),a.Yb(5,"div",4),a.Yb(6,"div",5),a.Tb(7,"div",6),a.Xb(),a.Xb(),a.Xb(),a.Yb(8,"div",2),a.Yb(9,"button",7),a.Tb(10,"i",8),a.Xb(),a.Xb(),a.Yb(11,"div",2),a.Yb(12,"button",7),a.Tb(13,"i",9),a.Xb(),a.Xb(),a.Yb(14,"div",2),a.Yb(15,"button",7),a.Tb(16,"i",10),a.Xb(),a.Xb(),a.Yb(17,"div",2),a.Yb(18,"button",11),a.Tb(19,"i",12),a.Xb(),a.Xb(),a.Yb(20,"div",2),a.Yb(21,"button",7),a.Tb(22,"i",13),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(23,"div",14),a.Yb(24,"div",15),a.Yb(25,"div",16),a.Yb(26,"div",1),a.Yb(27,"div",17),a.Yb(28,"div",18),a.Yb(29,"div",19),a.Yb(30,"div",20),a.Yb(31,"div",4),a.Yb(32,"div",5),a.Tb(33,"div",6),a.Xb(),a.Xb(),a.Xb(),a.Yb(34,"div",20),a.Yb(35,"div",4),a.Yb(36,"div",5),a.Tb(37,"div",6),a.Xb(),a.Xb(),a.Xb(),a.Yb(38,"div",20),a.Yb(39,"div",4),a.Yb(40,"div",5),a.Tb(41,"div",6),a.Xb(),a.Xb(),a.Xb(),a.Yb(42,"div",20),a.Yb(43,"div",4),a.Yb(44,"div",5),a.Tb(45,"div",6),a.Xb(),a.Xb(),a.Xb(),a.Yb(46,"div",20),a.Yb(47,"div",4),a.Yb(48,"div",5),a.Tb(49,"div",6),a.Xb(),a.Xb(),a.Xb(),a.Yb(50,"div",20),a.Yb(51,"div",4),a.Yb(52,"div",5),a.Tb(53,"div",6),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(54,"div",1),a.Yb(55,"div",21),a.Yb(56,"div",22),a.Yb(57,"div",23),a.Yb(58,"div",4),a.Tb(59,"div",24),a.Xb(),a.Xb(),a.Yb(60,"div",23),a.Yb(61,"div",4),a.Tb(62,"div",24),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(63,"div",25),a.Yb(64,"div",26),a.Yb(65,"div",27),a.Yb(66,"div",2),a.Yb(67,"div",4),a.Tb(68,"div",6),a.Xb(),a.Xb(),a.Yb(69,"div",2),a.Yb(70,"div",4),a.Tb(71,"div",6),a.Xb(),a.Xb(),a.Yb(72,"div",28),a.Tb(73,"div",29),a.Xb(),a.Xb(),a.Yb(74,"div",1),a.Yb(75,"div",30),a.Yb(76,"form",18),a.Yb(77,"div",31),a.Yb(78,"div",4),a.Yb(79,"div",32),a.Tb(80,"div",6),a.Tb(81,"div",6),a.Tb(82,"div",6),a.Tb(83,"div",6),a.Tb(84,"div",6),a.Xb(),a.Yb(85,"div",32),a.Tb(86,"div",6),a.Tb(87,"div",6),a.Tb(88,"div",6),a.Xb(),a.Yb(89,"div",32),a.Tb(90,"div",6),a.Tb(91,"div",6),a.Tb(92,"div",6),a.Tb(93,"div",6),a.Tb(94,"div",6),a.Xb(),a.Yb(95,"div",32),a.Tb(96,"div",6),a.Tb(97,"div",6),a.Tb(98,"div",6),a.Xb(),a.Yb(99,"div",32),a.Tb(100,"div",6),a.Tb(101,"div",6),a.Tb(102,"div",6),a.Xb(),a.Xb(),a.Xb(),a.Yb(103,"div",31),a.Yb(104,"button",33),a.Kc(105," Submit "),a.Tb(106,"i",34),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(107,"div",1),a.Yb(108,"div",2),a.Yb(109,"div",35),a.Tb(110,"div",6),a.Xb(),a.Xb(),a.Xb(),a.Xb())},directives:[s.r,s.i,s.j],styles:[".sketcher[_ngcontent-%COMP%]{max-height:100vh;max-width:100vw;margin-top:var(--top-margin)!important}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]{height:90vh}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .top-details-bar[_ngcontent-%COMP%]{padding:.3em 1em}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]{min-height:75vh;max-height:85vh;overflow-y:auto}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]{width:100%;display:inline-block}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]{display:inline-block;width:150px;position:relative;-webkit-box-align:center;align-items:center;margin:0 1em}"]}),t})(),Ne=(()=>{class t{constructor(){this.icon="ban",this.iconColor="red"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Mb({type:t,selectors:[["sqy-if-not-icon"]],inputs:{value:"value",icon:"icon",iconColor:"iconColor"},decls:2,vars:6,consts:[[3,"hidden"]],template:function(t,e){1&t&&(a.Kc(0),a.Tb(1,"i",0)),2&t&&(a.Mc("",e.value," "),a.Eb(1),a.Ib("",e.icon," ",e.iconColor," icon"),a.sc("hidden",e.value&&0!=e.value))},encapsulation:2}),t})();function We(t,e){if(1&t&&(a.Yb(0,"nz-option",22),a.Tb(1,"i",23),a.Kc(2),a.Xb()),2&t){const t=e.$implicit;a.sc("nzLabel",t)("nzValue",t),a.Eb(1),a.Hc("color",t),a.Eb(1),a.Mc(" ",t," ")}}function Ge(t,e){if(1&t&&(a.Yb(0,"span"),a.Tb(1,"i",23),a.Kc(2),a.Xb()),2&t){const t=e.$implicit;a.Eb(1),a.Hc("color",t.nzValue),a.Eb(1),a.Mc(" ",t.nzValue,"")}}function Je(t,e){1&t&&(a.Yb(0,"span",24),a.Kc(1,"Not a valid DNA sequence"),a.Xb())}const Ze=function(t){return{error:t}};let Qe=(()=>{class t{constructor(t){this.builder=t,this.onSave=new a.n,this.changePos=new a.n,this.display=!1,this._track=null,this.colors=["#000105","#3e6158","#3f7a89","#96c582","#7c90c1","#9d8594","#4b4fce","#4e0a77","#a367b5","#ee3e6d","#d63d62","#c6a670","#f46600","#cf0500","#efabbd","#8e0622","#f0b89a","#f0ca68","#62382f","#c97545","#c1800b"],this.trackForm=this.builder.group({label:[""],color:[this.colors[0]],sequence:["",s.q.pattern(xe.a.dnaSeqRegex)]})}set track(t){t&&(this._track=t,this.max=this.max||this._track.pos,this.updateTrackForm(t),this.display=!0)}ngOnChanges(t){t.track&&t.track.currentValue&&this.updateTrackForm(t.track.currentValue)}ngOnDestroy(){this._track=null}get label(){return this.trackForm.get("label")}get color(){return this.trackForm.get("color")}get sequence(){return this.trackForm.get("sequence")}updateTrackForm(t){this.trackForm.patchValue({label:t.label,color:t.color,sequence:t.sequence})}setColor(t){this.trackForm.value.color=t}updateTrack(){this._track.label=this.label.value,this._track.color=this.color.value,this._track.sequence=this.sequence.value,this.onSave.emit(this._track),this.display=!1}change(t){this.trackForm.touched&&this.trackForm.valid&&this.updateTrack(),t>-1&&t<this.max+1&&(this.changePos.emit(t),this.trackForm.reset())}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(s.c))},t.\u0275cmp=a.Mb({type:t,selectors:[["sqy-track-details"]],inputs:{max:"max",track:"track"},outputs:{onSave:"onSave",changePos:"changePos"},features:[a.Cb()],decls:49,vars:17,consts:[[3,"nzVisible","nzWidth","nzOnClose"],[1,"ui","form",3,"formGroup","ngSubmit"],[1,"field"],[1,"ui","medium","circular","centered","image",3,"src"],[1,"ui","collapsing","inverted","blue","table","w-1-2","m-auto"],[1,"fields"],[1,"nine","wide","field"],["type","text","name","track-label","formControlName","label"],[1,"seven","wide","field"],["nzShowSearch","","nzPlaceHolder","Select color","name","track-color","formControlName","color",3,"nzCustomTemplate"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["custom",""],[1,"required","field",3,"ngClass"],["name","track-seq","rows","8","cols","80","required","","formControlName","sequence"],["class","ui error",4,"ngIf"],[1,"bottom","three","fields"],["name","action","type","button",1,"ui","left","labeled","icon","primary","fluid","button",3,"disabled","click"],[1,"left","arrow","icon"],["name","action","type","submit",1,"ui","right","labeled","icon","secondary","fluid","button",3,"disabled"],[1,"save","icon"],["name","action","type","button",1,"ui","right","labeled","icon","primary","fluid","button",3,"disabled","click"],[1,"right","arrow","icon"],["nzCustomContent","",3,"nzLabel","nzValue"],[1,"circle","icon"],[1,"ui","error"]],template:function(t,e){if(1&t&&(a.Yb(0,"nz-drawer",0),a.gc("nzOnClose",(function(t){return e.display=!1})),a.Yb(1,"form",1),a.gc("ngSubmit",(function(t){return e.updateTrack()})),a.Yb(2,"div",2),a.Tb(3,"img",3),a.Xb(),a.Yb(4,"div",2),a.Yb(5,"table",4),a.Yb(6,"thead"),a.Yb(7,"tr"),a.Yb(8,"th"),a.Kc(9," Type "),a.Xb(),a.Yb(10,"th"),a.Kc(11," Position "),a.Xb(),a.Xb(),a.Xb(),a.Yb(12,"tbody"),a.Yb(13,"tr"),a.Yb(14,"td"),a.Kc(15),a.lc(16,"titlecase"),a.Xb(),a.Yb(17,"td"),a.Kc(18),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(19,"div",5),a.Yb(20,"div",6),a.Yb(21,"label"),a.Kc(22,"Label"),a.Xb(),a.Tb(23,"input",7),a.Xb(),a.Yb(24,"div",8),a.Yb(25,"label"),a.Kc(26,"Color"),a.Xb(),a.Yb(27,"nz-select",9),a.Ic(28,We,3,5,"nz-option",10),a.Xb(),a.Ic(29,Ge,3,3,"ng-template",null,11,a.Jc),a.Xb(),a.Xb(),a.Yb(31,"div",12),a.Yb(32,"label"),a.Kc(33,"Sequence"),a.Xb(),a.Tb(34,"textarea",13),a.Ic(35,Je,2,0,"span",14),a.Xb(),a.Yb(36,"div",15),a.Yb(37,"div",2),a.Yb(38,"button",16),a.gc("click",(function(t){return e.change((null==e._track?null:e._track.pos)-1)})),a.Tb(39,"i",17),a.Kc(40," Previous "),a.Xb(),a.Xb(),a.Yb(41,"div",2),a.Yb(42,"button",18),a.Tb(43,"i",19),a.Kc(44," Save "),a.Xb(),a.Xb(),a.Yb(45,"div",2),a.Yb(46,"button",20),a.gc("click",(function(t){return e.change((null==e._track?null:e._track.pos)+1)})),a.Tb(47,"i",21),a.Kc(48," Next "),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb()),2&t){const t=a.Ac(30);a.sc("nzVisible",e.display)("nzWidth",640),a.Eb(1),a.sc("formGroup",e.trackForm),a.Eb(2),a.sc("src",null==e._track?null:e._track.glyph_thumbnail,a.Dc),a.Eb(12),a.Lc(a.mc(16,13,null==e._track?null:e._track.type)),a.Eb(3),a.Mc("#",(null==e._track?null:e._track.pos)+1,""),a.Eb(9),a.sc("nzCustomTemplate",t),a.Eb(1),a.sc("ngForOf",e.colors),a.Eb(3),a.sc("ngClass",a.wc(15,Ze,e.sequence.invalid&&(e.sequence.dirty||e.sequence.touched))),a.Eb(4),a.sc("ngIf",(null==e.sequence.errors?null:e.sequence.errors.pattern)&&(e.sequence.dirty||e.sequence.touched)),a.Eb(3),a.sc("disabled",(null==e._track?null:e._track.pos)+1<2),a.Eb(4),a.sc("disabled",!e.trackForm.dirty||e.trackForm.invalid),a.Eb(4),a.sc("disabled",(null==e._track?null:e._track.pos)+1===e.max)}},directives:[we,s.r,s.i,s.e,s.b,s.h,s.d,Xe.b,i.j,i.i,s.p,i.k,Xe.a],pipes:[i.t],styles:[".ui.form[_ngcontent-%COMP%]{height:100%}.ui.form[_ngcontent-%COMP%]   .bottom.fields[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:1rem}  .ant-drawer-body{height:100%}"]}),t})();var tn=n("Q8cG"),en=n("ivy7"),nn=n("7grQ"),sn=n("gsl8");let cn=(()=>{class t{transform(t,e){return t?e?(e=e.toLowerCase(),t.filter(t=>[t.label||"",t.type||"",t.sequence||""].some(t=>t.toLowerCase().includes(e)))):t:[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Rb({name:"filterTracks",type:t,pure:!0}),t})();function on(t,e){1&t&&a.Tb(0,"sqy-sketcher-loading")}function rn(t,e){1&t&&(a.Yb(0,"div",25),a.Tb(1,"i",66),a.Kc(2," Read only "),a.Xb())}function an(t,e){1&t&&(a.Yb(0,"div",25),a.Tb(1,"i",67),a.Kc(2," Write mode "),a.Xb())}const ln=function(t){return{show:t}},dn=function(t){return{disabled:t}},bn=function(t,e,n){return{background:t,"border-bottom":e,"background-size":n}};function un(t,e){if(1&t){const t=a.Zb();a.Yb(0,"div",68),a.gc("mouseover",(function(n){a.Bc(t);const i=e.$implicit;return a.kc(2).trackHovered=i}))("mouseout",(function(e){return a.Bc(t),a.kc(2).trackHovered=null})),a.Yb(1,"div",69),a.Yb(2,"div",70),a.Yb(3,"input",71,72),a.gc("ngModelChange",(function(n){return a.Bc(t),e.$implicit.label=n})),a.Xb(),a.Xb(),a.Yb(5,"div",73),a.Yb(6,"a",74),a.gc("click",(function(n){a.Bc(t);const i=e.index;return a.kc(2).moveTrack(i,-1)})),a.Tb(7,"i",75),a.Xb(),a.Yb(8,"a",74),a.gc("click",(function(n){a.Bc(t);const i=e.index;return a.kc(2).moveTrack(i,1)})),a.Tb(9,"i",76),a.Xb(),a.Yb(10,"a",74),a.gc("click",(function(n){a.Bc(t);const i=e.$implicit;return a.kc(2).removeTrack(i)})),a.Tb(11,"i",77),a.Xb(),a.Xb(),a.Xb(),a.Yb(12,"div",78),a.gc("click",(function(n){a.Bc(t);const i=e.$implicit,s=e.index;return a.kc(2).openSidebar(i,s)})),a.Xb(),a.Yb(13,"div",79),a.Kc(14),a.Xb(),a.Xb()}if(2&t){const t=e.$implicit,n=e.index,i=a.kc(2);a.Hc("width",i.zoom/5.5+"rem"),a.uc("id","track",n,""),a.Eb(2),a.sc("ngClass",a.wc(13,ln,t.label)),a.Eb(1),a.sc("ngModel",t.label)("disabled",i.locked),a.Eb(3),a.sc("ngClass",a.wc(15,dn,i.locked||0===n)),a.Eb(2),a.sc("ngClass",a.wc(17,dn,i.locked||n===(null==i.construct.tracks?null:i.construct.tracks.length)-1)),a.Eb(2),a.sc("ngClass",a.wc(19,dn,i.locked)),a.Eb(2),a.sc("ngStyle",a.yc(21,bn,"url("+t.glyph_thumbnail+")","1.5px solid "+t.color,"auto "+i.zoom+"%")),a.Fb("data-tooltip",t.name),a.Eb(1),a.sc("hidden",!i.showIndexes),a.Eb(1),a.Mc(" ",n+1," ")}}function hn(t,e){if(1&t&&(a.Yb(0,"div",38),a.Tb(1,"sqy-errors-list",80),a.Xb()),2&t){const t=a.kc(2);a.Eb(1),a.sc("errors",t.response)}}function pn(t,e){if(1&t&&a.Tb(0,"nz-option",102),2&t){const t=e.$implicit;a.sc("nzLabel",t.name)("nzValue",t.tax_id)}}function gn(t,e){if(1&t){const t=a.Zb();a.Yb(0,"div",99),a.Yb(1,"div",103),a.Yb(2,"input",104),a.gc("change",(function(n){a.Bc(t);const i=e.$implicit;return a.kc(3).featChange(i.alias,n.target.checked)})),a.Xb(),a.Yb(3,"label"),a.Kc(4),a.Tb(5,"sqy-info-popup",105),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=e.$implicit;a.Eb(4),a.Mc(" ",t.name," "),a.Eb(1),a.sc("content",t.description)}}function fn(t,e){1&t&&(a.Yb(0,"div",106),a.Yb(1,"span",29),a.Kc(2,"No features available for selected organism."),a.Xb(),a.Xb())}const mn=function(t){return{error:t}};function zn(t,e){if(1&t){const t=a.Zb();a.Yb(0,"form",81,82),a.gc("ngSubmit",(function(e){return a.Bc(t),a.kc(2).submit()})),a.Yb(2,"div",83),a.Yb(3,"label",84),a.Kc(4,"Required fields are shown with"),a.Xb(),a.Xb(),a.Yb(5,"div",85),a.Yb(6,"label",86),a.Kc(7,"Enter a label"),a.Xb(),a.Yb(8,"input",87,88),a.gc("ngModelChange",(function(e){return a.Bc(t),a.kc(2).construct.name=e}))("ngModelChange",(function(e){return a.Bc(t),a.kc(2).saveInSession()})),a.Xb(),a.Xb(),a.Yb(10,"div",83),a.Yb(11,"label",89),a.Kc(12,"Select organism"),a.Xb(),a.Yb(13,"nz-select",90),a.gc("ngModelChange",(function(e){return a.Bc(t),a.kc(2).specie.tax_id=e}))("ngModelChange",(function(e){a.Bc(t);const n=a.kc(2);return n.getFeatures(),n.saveInSession()})),a.Ic(14,pn,1,2,"nz-option",91),a.Xb(),a.Xb(),a.Yb(15,"div",92),a.Yb(16,"label"),a.Kc(17,"Select the what features to check"),a.Xb(),a.Ic(18,gn,6,2,"div",93),a.Ic(19,fn,3,0,"div",94),a.Xb(),a.Yb(20,"div",95),a.Yb(21,"label"),a.Kc(22,"Circular"),a.Xb(),a.Yb(23,"input",96),a.gc("ngModelChange",(function(e){return a.Bc(t),a.kc(2).construct.circular=e}))("ngModelChange",(function(e){return a.Bc(t),a.kc(2).saveInSession()})),a.Xb(),a.Xb(),a.Yb(24,"div",95),a.Yb(25,"label",97),a.Kc(26,"Description"),a.Xb(),a.Yb(27,"textarea",98),a.gc("ngModelChange",(function(e){return a.Bc(t),a.kc(2).construct.description=e}))("ngModelChange",(function(e){return a.Bc(t),a.kc(2).saveInSession()})),a.Xb(),a.Xb(),a.Yb(28,"div",99),a.Yb(29,"button",100),a.Kc(30," Submit "),a.Tb(31,"i",101),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=a.Ac(1),e=a.Ac(9),n=a.kc(2);a.Eb(5),a.sc("ngClass",a.wc(11,mn,e.invalid&&(e.dirty||e.touched))),a.Eb(3),a.sc("ngModel",n.construct.name),a.Eb(5),a.sc("ngModel",n.specie.tax_id)("nzLoading",n.isFeaturesLoading)("nzDisabled",n.isFeaturesLoading),a.Eb(1),a.sc("ngForOf",n.species),a.Eb(4),a.sc("ngForOf",n.features),a.Eb(1),a.sc("ngIf",!(null!=n.featuresArray&&n.featuresArray.length)),a.Eb(4),a.sc("ngModel",n.construct.circular),a.Eb(4),a.sc("ngModel",n.construct.description),a.Eb(2),a.sc("disabled",!(null!=n.construct.tracks&&n.construct.tracks.length)||t.invalid||n.featuresArray&&n.featuresArray.length<1)}}function vn(t,e){1&t&&(a.Yb(0,"tr"),a.Yb(1,"td",113),a.Kc(2,"The construct is empty. Add new tracks to visualize them here."),a.Xb(),a.Xb())}const kn=function(t){return{"no-color":t}};function yn(t,e){if(1&t){const t=a.Zb();a.Yb(0,"tr"),a.Yb(1,"td"),a.Yb(2,"div",114),a.Kc(3),a.Xb(),a.Xb(),a.Yb(4,"td"),a.Tb(5,"sqy-if-not-icon",26),a.Xb(),a.Yb(6,"td"),a.Tb(7,"sqy-if-not-icon",26),a.Xb(),a.Yb(8,"td"),a.Tb(9,"sqy-if-not-icon",26),a.Xb(),a.Yb(10,"td",115),a.Yb(11,"a",116),a.gc("click",(function(n){a.Bc(t);const i=e.$implicit,s=e.index;return a.kc(3).openSidebar(i,s)})),a.Tb(12,"i",117),a.Xb(),a.Yb(13,"a",118),a.gc("click",(function(n){a.Bc(t);const i=e.index;return a.kc(3).moveTrack(i,-1)})),a.Tb(14,"i",119),a.Xb(),a.Yb(15,"a",120),a.gc("click",(function(n){a.Bc(t);const i=e.index;return a.kc(3).moveTrack(i,1)})),a.Tb(16,"i",121),a.Xb(),a.Yb(17,"a",122),a.gc("click",(function(n){a.Bc(t);const i=e.$implicit;return a.kc(3).removeTrack(i)})),a.Tb(18,"i",123),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=e.$implicit,n=e.index,i=a.kc(3);a.Eb(2),a.Hc("background-color",t.color),a.sc("ngClass",a.wc(11,kn,!t.color)),a.Eb(1),a.Mc("#",n+1,""),a.Eb(2),a.sc("value",t.label),a.Eb(2),a.sc("value",t.type),a.Eb(2),a.sc("value",null==t.sequence?null:t.sequence.length),a.Eb(2),a.sc("ngClass",a.wc(13,dn,i.locked)),a.Eb(2),a.sc("ngClass",a.wc(15,dn,i.locked||n<1)),a.Eb(2),a.sc("ngClass",a.wc(17,dn,i.locked||n>=(null==i.construct.tracks?null:i.construct.tracks.length)-1)),a.Eb(2),a.sc("ngClass",a.wc(19,dn,i.locked))}}function On(t,e){if(1&t){const t=a.Zb();a.Yb(0,"div",107),a.Yb(1,"div",4),a.Yb(2,"div",108),a.Tb(3,"i",109),a.Yb(4,"input",110),a.gc("ngModelChange",(function(e){return a.Bc(t),a.kc(2).search=e})),a.Xb(),a.Xb(),a.Xb(),a.Yb(5,"div",4),a.Yb(6,"table",111),a.Yb(7,"thead"),a.Yb(8,"tr"),a.Tb(9,"th"),a.Yb(10,"th"),a.Kc(11," Label "),a.Xb(),a.Yb(12,"th"),a.Kc(13," Type "),a.Xb(),a.Yb(14,"th"),a.Kc(15," Size "),a.Xb(),a.Tb(16,"th"),a.Xb(),a.Xb(),a.Yb(17,"tbody"),a.Ic(18,vn,3,0,"tr",0),a.Ic(19,yn,19,21,"tr",112),a.lc(20,"filterTracks"),a.Xb(),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=a.kc(2);a.Eb(4),a.sc("ngModel",t.search),a.Eb(14),a.sc("ngIf",!(null!=t.construct.tracks&&t.construct.tracks.length)),a.Eb(1),a.sc("ngForOf",a.nc(20,3,t.construct.tracks,t.search))}}function Cn(t,e){1&t&&(a.Yb(0,"a",135),a.Kc(1," \u2713 "),a.Xb())}const wn=function(t){return{selected:t}};function Yn(t,e){if(1&t){const t=a.Zb();a.Yb(0,"div",133),a.gc("mouseover",(function(n){a.Bc(t);const i=e.$implicit;return a.kc(4).hoveredName=i.type}))("mouseout",(function(e){return a.Bc(t),a.kc(4).hoveredName=null}))("click",(function(t){const n=e.$implicit;return n.selected=!n.selected})),a.Ic(1,Cn,2,0,"a",134),a.Xb()}if(2&t){const t=e.$implicit;a.Hc("background","url("+t.glyph_thumbnail+")",a.Lb),a.sc("ngClass",a.wc(4,wn,t.selected)),a.Eb(1),a.sc("ngIf",t.selected)}}function Sn(t,e){if(1&t&&(a.Wb(0),a.Yb(1,"div",4),a.Yb(2,"div",130),a.Kc(3),a.Xb(),a.Xb(),a.Yb(4,"div",131),a.Ic(5,Yn,2,6,"div",132),a.Xb(),a.Vb()),2&t){const t=e.$implicit;a.Eb(3),a.Mc(" ",t.name," "),a.Eb(2),a.sc("ngForOf",t.elements)}}const Xn=function(t){return{loading:t}};function Tn(t,e){if(1&t){const t=a.Zb();a.Wb(0),a.Yb(1,"div",124),a.Yb(2,"div",4),a.Yb(3,"div",125),a.Yb(4,"div",69),a.Kc(5," Instructions "),a.Xb(),a.Yb(6,"ul",126),a.Yb(7,"li"),a.Kc(8,"Click on each track to selected or deselect it."),a.Xb(),a.Yb(9,"li"),a.Kc(10,"Hover the mouse over a track to display name"),a.Xb(),a.Yb(11,"li"),a.Kc(12,"Tracks will be added in selection order"),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(13,"div",127),a.Kc(14),a.Yb(15,"div",128),a.Yb(16,"input",129),a.gc("click",(function(e){return a.Bc(t),a.kc(2).toggleSelection(e)})),a.Xb(),a.Yb(17,"label"),a.Kc(18,"Select all"),a.Xb(),a.Xb(),a.Xb(),a.Ic(19,Sn,6,2,"ng-container",112),a.Xb(),a.Vb()}if(2&t){const t=a.kc(2);a.Eb(1),a.sc("ngClass",a.wc(3,Xn,t.isTracksLoading)),a.Eb(13),a.Mc(" ",t.hoveredName," "),a.Eb(5),a.sc("ngForOf",t.categories)}}const Mn=function(t,e){return{"green check":t,"times red":e}};function In(t,e){if(1&t&&(a.Yb(0,"div",136),a.Yb(1,"div",4),a.Yb(2,"h2",137),a.Tb(3,"i",138),a.Yb(4,"div",139),a.Kc(5),a.Xb(),a.Xb(),a.Xb(),a.Yb(6,"div",4),a.Yb(7,"p"),a.Kc(8,"Your job has been submitted successfully. In a few moments you will be redirected to your history. Once finished the work or you can visualize the results. Please be patient."),a.Xb(),a.Xb(),a.Yb(9,"div",4),a.Yb(10,"div",130),a.Kc(11," Summary "),a.Xb(),a.Xb(),a.Yb(12,"div",4),a.Yb(13,"table",140),a.Yb(14,"thead"),a.Yb(15,"tr"),a.Yb(16,"th"),a.Kc(17,"Label"),a.Xb(),a.Yb(18,"th"),a.Kc(19,"Specie"),a.Xb(),a.Yb(20,"th"),a.Kc(21,"Total tracks"),a.Xb(),a.Yb(22,"th"),a.Kc(23,"Circular"),a.Xb(),a.Xb(),a.Xb(),a.Yb(24,"tbody"),a.Yb(25,"tr"),a.Yb(26,"td"),a.Kc(27),a.Xb(),a.Yb(28,"td"),a.Kc(29),a.Xb(),a.Yb(30,"td"),a.Kc(31),a.Xb(),a.Yb(32,"td"),a.Tb(33,"i",141),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb()),2&t){const t=a.kc(2);a.Eb(5),a.Mc(' Your construct: "',t.construct.name,'" has been submitted! '),a.Eb(22),a.Mc(" ",null==t.history?null:null==t.history.construct?null:t.history.construct.name," "),a.Eb(2),a.Mc(" ",null==t.history?null:null==t.history.construct?null:t.history.construct.specie.name," "),a.Eb(2),a.Mc(" ",null==t.history?null:null==t.history.construct?null:t.history.construct.n_tracks," "),a.Eb(2),a.sc("ngClass",a.xc(5,Mn,null==t.history?null:t.history.construct.circular,!(null!=t.history&&t.history.construct.circular)))}}const Pn=function(t){return{"loading disabled":t}},En=function(t,e){return{primary:t,orange:e}},xn=function(t){return{open:t}},jn=function(t){return{"disabled loading":t}},Fn=function(t){return{active:t}};function _n(t,e){if(1&t){const t=a.Zb();a.Yb(0,"div",2),a.Yb(1,"div",3),a.Yb(2,"div",4),a.Yb(3,"div",5),a.Yb(4,"div",4),a.Yb(5,"div",6),a.Tb(6,"i",7),a.Yb(7,"nz-slider",8),a.gc("ngModelChange",(function(e){return a.Bc(t),a.kc().zoom=e})),a.Xb(),a.Tb(8,"i",7),a.Xb(),a.Xb(),a.Yb(9,"div",4),a.Yb(10,"button",9),a.Tb(11,"i",10),a.Xb(),a.Xb(),a.Yb(12,"div",4),a.Yb(13,"button",11),a.gc("click",(function(e){return a.Bc(t),a.kc().showPicker=!0})),a.Tb(14,"i",12),a.Xb(),a.Xb(),a.Yb(15,"div",4),a.Yb(16,"button",13),a.Tb(17,"i",14),a.Xb(),a.Xb(),a.Yb(18,"div",4),a.Yb(19,"button",15),a.gc("click",(function(e){a.Bc(t);const n=a.kc();return n.locked=!n.locked})),a.Tb(20,"i",16),a.Xb(),a.Xb(),a.Yb(21,"div",4),a.Yb(22,"button",17),a.Tb(23,"i",18),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(24,"div",19),a.Yb(25,"div",20),a.Yb(26,"div",21),a.Yb(27,"div",3),a.Yb(28,"div",22),a.Yb(29,"div",23),a.Yb(30,"div",24),a.Yb(31,"div",25),a.Yb(32,"label"),a.Kc(33,"Total length:"),a.Xb(),a.Kc(34),a.Xb(),a.Yb(35,"div",25),a.Yb(36,"label"),a.Kc(37,"From:"),a.Xb(),a.Tb(38,"sqy-if-not-icon",26),a.Xb(),a.Yb(39,"div",25),a.Yb(40,"label"),a.Kc(41,"To:"),a.Xb(),a.Tb(42,"sqy-if-not-icon",26),a.Xb(),a.Ic(43,rn,3,0,"div",27),a.Ic(44,an,3,0,"div",27),a.Yb(45,"div",25),a.Tb(46,"i",28),a.Yb(47,"span",29),a.Kc(48),a.Xb(),a.Xb(),a.Yb(49,"div",25),a.Yb(50,"span",29),a.Kc(51),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(52,"div",3),a.Yb(53,"div",30),a.Yb(54,"div",31),a.Yb(55,"div",32),a.Kc(56," The construct is empty. To add new tracks click on button below. "),a.Xb(),a.Yb(57,"button",33),a.gc("click",(function(e){return a.Bc(t),a.kc().showPicker=!0})),a.Kc(58," Add tracks "),a.Xb(),a.Xb(),a.Yb(59,"div",34),a.Ic(60,un,15,25,"div",35),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(61,"div",36),a.Yb(62,"div",37),a.Yb(63,"div",3),a.Yb(64,"div",38),a.Yb(65,"div",39),a.Yb(66,"a",40),a.gc("click",(function(e){return a.Bc(t),a.kc().view="general"})),a.Kc(67," General "),a.Xb(),a.Yb(68,"a",40),a.gc("click",(function(e){return a.Bc(t),a.kc().view="tracks"})),a.Kc(69," Tracks "),a.Yb(70,"label",41),a.Kc(71),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(72,"div",42),a.Ic(73,hn,2,1,"div",43),a.Yb(74,"div",38),a.Ic(75,zn,32,13,"form",44),a.Ic(76,On,21,6,"div",45),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(77,"div",3),a.Yb(78,"div",4),a.Yb(79,"div",46),a.Yb(80,"p"),a.Kc(81," Centre for Genomic Regulation \xa9 "),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(82,"sqy-track-details",47),a.gc("onSave",(function(e){return a.Bc(t),a.kc().addTrack(e)}))("changePos",(function(e){return a.Bc(t),a.kc().changeTrack(e)})),a.Xb(),a.Yb(83,"nz-modal",48),a.gc("nzVisibleChange",(function(e){return a.Bc(t),a.kc().showPicker=e}))("nzAfterOpen",(function(e){return a.Bc(t),a.kc().getTracksByCategories()}))("nzOnCancel",(function(e){return a.Bc(t),a.kc().showPicker=!1}))("nzOnOk",(function(e){return a.Bc(t),a.kc().addTracks()})),a.Ic(84,Tn,20,5,"ng-container",0),a.Xb(),a.Yb(85,"nz-modal",49),a.gc("nzVisibleChange",(function(e){return a.Bc(t),a.kc().submitted=e}))("nzOnCancel",(function(e){return a.Bc(t),a.kc().submitted=!1})),a.Ic(86,In,34,8,"div",50),a.Xb(),a.Yb(87,"nz-dropdown-menu",null,51),a.Yb(89,"ul",52),a.Yb(90,"li",53),a.gc("click",(function(e){return a.Bc(t),a.kc().downloadAs("Fasta")})),a.Tb(91,"i",54),a.Kc(92," Download as Fasta "),a.Xb(),a.Yb(93,"li",53),a.gc("click",(function(e){return a.Bc(t),a.kc().downloadAs("Json")})),a.Tb(94,"i",55),a.Kc(95," Download as JSON "),a.Xb(),a.Xb(),a.Xb(),a.Yb(96,"nz-dropdown-menu",56,57),a.Yb(98,"ul",52),a.Yb(99,"li",53),a.gc("click",(function(e){a.Bc(t);const n=a.kc();return n.showIndexes=!n.showIndexes})),a.Kc(100," Show/Hide indexes"),a.Tb(101,"i",58),a.Xb(),a.Xb(),a.Xb(),a.Yb(102,"nz-dropdown-menu",56,59),a.Yb(104,"ul",52),a.Yb(105,"li",60),a.gc("click",(function(e){a.Bc(t);const n=a.kc();return n.textModal(n.construct.dna_seq)})),a.Tb(106,"i",61),a.Kc(107," Display total sequence "),a.Xb(),a.Yb(108,"li",62),a.Tb(109,"i",63),a.Kc(110," Copy sequence "),a.Xb(),a.Yb(111,"li",53),a.gc("click",(function(e){a.Bc(t);const n=a.kc();return n.autoSave=!n.autoSave})),a.Tb(112,"i",28),a.Kc(113),a.Xb(),a.Yb(114,"li",60),a.gc("click",(function(e){return a.Bc(t),a.kc().modelConstruct()})),a.Tb(115,"i",64),a.Kc(116," Load model construct "),a.Xb(),a.Yb(117,"li",60),a.gc("click",(function(e){return a.Bc(t),a.kc().clear()})),a.Tb(118,"i",65),a.Kc(119," Clear construct "),a.Xb(),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=a.Ac(88),e=a.Ac(97),n=a.Ac(103),i=a.kc();a.sc("ngClass",a.wc(51,Pn,i.isLoading)),a.Eb(7),a.sc("nzMin",50)("nzMax",110)("nzTooltipVisible","never")("ngModel",i.zoom),a.Eb(3),a.sc("nzDropdownMenu",n),a.Eb(3),a.sc("disabled",i.isTracksLoading||i.locked),a.Eb(3),a.sc("nzDropdownMenu",e)("disabled",i.isTracksLoading),a.Eb(3),a.sc("ngClass",a.xc(53,En,!i.locked,i.locked)),a.Fb("data-tooltip",i.locked?"Unlock":"Lock"),a.Eb(1),a.sc("ngClass",a.wc(56,xn,!i.locked)),a.Eb(2),a.sc("nzDropdownMenu",t),a.Eb(12),a.Mc(" ",(null==i.construct.dna_seq?null:i.construct.dna_seq.length)||0," bps "),a.Eb(4),a.sc("value",null==i.trackHovered?null:i.trackHovered.start),a.Eb(4),a.sc("value",null==i.trackHovered?null:i.trackHovered.end),a.Eb(1),a.sc("ngIf",i.locked),a.Eb(1),a.sc("ngIf",!i.locked),a.Eb(4),a.Lc(i.autoSave?"Enabled":"Disabled"),a.Eb(3),a.Mc("",null==i.construct.tracks?null:i.construct.tracks.length," tracks"),a.Eb(3),a.sc("hidden",null==i.construct.tracks?null:i.construct.tracks.length),a.Eb(3),a.sc("ngClass",a.wc(58,jn,i.isTracksLoading)),a.Eb(2),a.sc("hidden",!(null!=i.construct.tracks&&i.construct.tracks.length)),a.Eb(1),a.sc("ngForOf",i.construct.tracks),a.Eb(6),a.sc("ngClass",a.wc(60,Fn,"general"===i.view)),a.Eb(2),a.sc("ngClass",a.wc(62,Fn,"tracks"===i.view)),a.Eb(2),a.sc("hidden",(null==i.construct.tracks?null:i.construct.tracks.length)<1),a.Eb(1),a.Lc(null==i.construct.tracks?null:i.construct.tracks.length),a.Eb(2),a.sc("ngIf",i.response),a.Eb(2),a.sc("ngIf","general"===i.view),a.Eb(1),a.sc("ngIf","tracks"===i.view),a.Eb(6),a.sc("track",i.track)("max",null==i.construct.tracks?null:i.construct.tracks.length),a.Eb(1),a.sc("nzVisible",i.showPicker)("nzOkLoading",i.isTracksLoading)("nzOkDisabled",!i.someSelected()),a.Eb(1),a.sc("ngIf",i.showPicker),a.Eb(1),a.sc("nzFooter",null)("nzWidth",800)("nzKeyboard",!1)("nzMaskClosable",!1)("nzVisible",i.submitted)("nzClosable",!1),a.Eb(1),a.sc("ngIf",i.history),a.Eb(15),a.sc("hidden",!i.showIndexes),a.Eb(4),a.sc("nzDisabled",!(i.construct.dna_seq||null!=i.construct.dna_seq&&i.construct.dna_seq.length)),a.Eb(3),a.sc("nzDisabled",!(i.construct.dna_seq||null!=i.construct.dna_seq&&i.construct.dna_seq.length))("sqy-clipboard",i.construct.dna_seq),a.Eb(5),a.Mc(" Auto save ",i.autoSave?"enabled":"disabled"," "),a.Eb(1),a.sc("nzDisabled",i.locked),a.Eb(3),a.sc("nzDisabled",!(null!=i.construct.tracks&&i.construct.tracks.length)||i.locked)}}let Ln=(()=>{class t{constructor(t,e,n,i,s,c,o,r,a,l,d){this.route=t,this.specieSrvc=e,this.trackSrvc=n,this.constructSrvc=i,this.sqrutinySrvc=s,this.featureSrvc=c,this.fileSrvc=o,this.router=r,this.notify=a,this.modal=l,this.navSrvc=d,this.tracks=[],this.track=null,this.trackHovered=null,this.hoveredName=null,this.isLoading=!1,this.response=null,this.categories=[],this.specie=new Pe.a,this.species=[],this.submitted=!1,this.showPicker=!1,this.zoom=75,this.isTracksLoading=!1,this.history=null,this.showIndexes=!0,this.view="general",this.locked=!1,this.autoSave=!0,this.features=[],this.featuresArray=[],this.isFeaturesLoading=!1}ngOnInit(){this.sub=this.route.queryParams.subscribe(t=>{this.specie.slug=t.specie||null,t.construct?this.getConstruct(t.construct):this.initConstruct()}),this.specie.slug&&this.getSpecie(),this.getTracks(),this.getSpecies()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}initConstruct(){const t=this.getFromSession();t&&!this.isObjectEmpty(t)&&(this.construct=this.getFromSession())}isObjectEmpty(t){for(const e in t)if(t[e]&&null!==t[e]&&""!==t[e])return!1;return!0}getSpecie(){this.isLoading=!0,this.specieSrvc.getBySlug(this.specie).pipe(Object(Ie.a)(()=>this.isLoading=!1)).subscribe(t=>{this.specie.deserialize(t),this.getFeatures()})}getConstruct(t){t&&(this.isLoading=!0,this.constructSrvc.getById(t).pipe(Object(Ie.a)(()=>this.isLoading=!1)).subscribe(t=>{this.construct=(new Fe).deserialize(t),this.saveInSession()}))}getExampleConstruct(){this.isLoading=!0,this.constructSrvc.getExample().pipe(Object(Ie.a)(()=>this.isLoading=!1)).subscribe(t=>{t.length>0?(this.construct=(new Fe).deserialize(t[0]),this.saveInSession()):this.notify.warning("Unable to load model construct")},t=>this.notify.warning(t||"Unable to load model construct"))}getSpecies(){this.isLoading=!0,this.specieSrvc.getAll().pipe(Object(Ie.a)(()=>this.isLoading=!1)).subscribe(t=>{this.species=t.map(t=>{const e=(new Pe.a).deserialize(t);return e.default&&!this.specie.slug&&(this.specie=Object.assign({},e)),e}),this.getFeatures()})}getTracksByCategories(){this.isTracksLoading=!0,this.trackSrvc.getByCategories().pipe(Object(Ie.a)(()=>this.isTracksLoading=!1)).subscribe(t=>this.categories=t)}getTracks(){this.isLoading=!0,this.trackSrvc.getAll().pipe(Object(Ie.a)(()=>this.isLoading=!1)).subscribe(t=>{this.tracks=t,this.construct||this.new()})}getFeatures(){this.isFeaturesLoading=!0,this.featureSrvc.getAll(this.specie.tax_id||null).pipe(Object(Ie.a)(()=>this.isFeaturesLoading=!1)).subscribe(t=>{this.features=t.map(t=>(new _e.a).deserialize(t)),this.featuresArray=Object.assign([],this.features.map(t=>t.alias))})}featChange(t,e){e?this.featuresArray.push(t):this.featuresArray=this.featuresArray.filter(e=>e!==t)}textModal(t){this.modal.create({nzContent:Le.a,nzWrapClassName:"center-modal",nzComponentParams:{txt:t},nzFooter:null})}new(){this.construct||(this.construct=new Fe),this.tracks.some(t=>t.default)&&!this.construct.tracks&&(this.construct.tracks=[Object.assign({},this.tracks.find(t=>t.default))])}clear(){confirm("Are you sure you want to clear all tracks from construct? These action cannot be reverted.")&&(this.construct.tracks=[],this.construct.dna_seq="",this.clearSession())}removeTrack(t){const e=this.construct.tracks.indexOf(t);-1!==e&&(this.construct.tracks.splice(e,1),this.saveInSession())}someSelected(){return this.categories.some(t=>t.elements.some(t=>t.selected))}addTracks(){this.someSelected()&&!this.locked&&(this.categories.map(t=>{t.elements.map(t=>{t.selected&&(t.selected=!1,this.construct.tracks||(this.construct.tracks=[]),this.construct.tracks.push(Object.assign({},t)))})}),this.saveInSession(),this.showPicker=!1)}modelConstruct(){let t=!0;this.construct.tracks.length>0&&(confirm("You really want to load a model construct? You're gonna lose all actual data. Proceed?")||(t=!1)),t&&this.getExampleConstruct()}submit(){this.checkTracks()&&(this.response=null,this.isLoading=!0,this.construct.specie_tax_id=this.specie.tax_id,this.sqrutinySrvc.fromConstruct(this.construct,this.featuresArray.length>0?this.featuresArray:null).pipe(Object(Ie.a)(()=>this.isLoading=!1)).subscribe(t=>{this.history=(new Ee.a).deserialize(t),this.navSrvc.updateBadge(),this.submitted=!0,this.clearSession(),setTimeout(()=>{this.submitted=!1,this.router.navigate(["/workspace",this.history.id])},3e3)},t=>this.response=t))}openSidebar(t,e){this.locked||(this.track=Object.assign({},t),this.track.pos=e)}addTrack(t){if(t.pos>-1){this.construct.dna_seq||(this.construct.dna_seq="");const e=this.construct.dna_seq.length;this.construct.tracks[t.pos]=t,this.construct.tracks[t.pos].start=e+1,this.construct.tracks[t.pos].end=e+t.sequence.length,this.construct.dna_seq+=t.sequence,document.getElementById("track"+t.pos).classList.remove("invalid"),this.saveInSession()}this.track=null}changeTrack(t){t>-1&&this.construct.tracks[t]&&(this.openSidebar(this.construct.tracks[t],t),this.saveInSession())}moveTrack(t,e){const n=t+e;-1<n&&n<=this.construct.tracks.length-1&&(this.construct.tracks=xe.a.array_move(this.construct.tracks,t,n),this.saveInSession())}checkTracks(){let t=!0;return this.construct.tracks.map((e,n)=>{e.sequence||(document.getElementById("track"+n).classList.add("invalid"),t=!1)}),t}toggleSelection(t){this.categories.map(e=>e.elements.map(e=>e.selected=t.target.checked))}downloadAs(t){if(this.construct.tracks.length){let e,n;switch(t.toUpperCase()){case"GENBANK":e=xe.a.jsonToGenbank(this.construct),n="gbk";break;case"FASTA":e=xe.a.jsonToFasta([this.construct]),n="fasta";break;case"Excel":n="xlsx";break;case"JSON":e=JSON.stringify({construct:this.construct}),n="json"}e?(this.fileSrvc.saveFileAs(e,"text/plain;charset=utf-8",`SQrutiny_${this.construct.name||"untitled"}.${n}`),this.notify.success(`Exported to ${t}!`)):this.notify.error("Unable to export")}}getFromSession(){return JSON.parse(sessionStorage.getItem("sqy_construct"))||null}saveInSession(){this.autoSave&&this.construct&&sessionStorage.setItem("sqy_construct",JSON.stringify(this.construct))}clearSession(){sessionStorage.removeItem("sqy_construct")}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(Te.a),a.Sb(Ae.a),a.Sb(De),a.Sb(Ve),a.Sb($e.a),a.Sb(Ke.a),a.Sb(qe.a),a.Sb(Te.c),a.Sb(Re.b),a.Sb(c.c),a.Sb(Ue.a))},t.\u0275cmp=a.Mb({type:t,selectors:[["sqy-sketcher"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","ui basic segment internally celled grid sketcher",3,"ngClass",4,"ngIf"],[1,"ui","basic","segment","internally","celled","grid","sketcher",3,"ngClass"],[1,"row"],[1,"column"],[1,"ui","equal","width","center","aligned","middle","aligned","container","grid"],[1,"slider-wraper"],[1,"zoom-in","icon"],[3,"nzMin","nzMax","nzTooltipVisible","ngModel","ngModelChange"],["data-inverted","","data-tooltip","Options","data-position","bottom center","nz-dropdown","","nzTrigger","click","nzPlacement","bottomCenter",1,"ui","circular","icon","primary","button",3,"nzDropdownMenu"],[1,"sliders","horizontal","icon"],["data-inverted","","data-tooltip","Add tracks","data-position","bottom center",1,"ui","circular","icon","primary","button",3,"disabled","click"],[1,"plus","icon"],["nz-dropdown","","nzTrigger","click","nzPlacement","bottomCenter",1,"ui","circular","icon","primary","button",3,"nzDropdownMenu","disabled"],[1,"cogs","icon"],["data-inverted","","data-position","bottom center",1,"ui","circular","icon","button",3,"ngClass","click"],[1,"lock","icon",3,"ngClass"],["nz-dropdown","","nzTrigger","click","nzPlacement","bottomCenter",1,"ui","circular","icon","primary","button",3,"nzDropdownMenu"],[1,"download","icon"],[1,"row","canvas"],[1,"eleven","wide","column","p-0"],[1,"ui","internally","celled","grid","m-0"],[1,"column","top-details-bar"],[1,"ui","form"],[1,"inline","four","fields","m-0"],[1,"inline","field","txt-c"],[3,"value"],["class","inline field txt-c",4,"ngIf"],[1,"save","icon"],[1,"meta"],[1,"column","construct"],[1,"ui","placeholder","segment","h-1-1",3,"hidden"],[1,"ui","icon","header"],["type","button",1,"ui","primary","button",3,"ngClass","click"],[1,"strand",3,"hidden"],["class","track",3,"id","width","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"five","wide","column"],[1,"ui","grid"],[1,"sixteen","wide","column"],[1,"ui","two","item","secondary","pointing","menu"],[1,"item",3,"ngClass","click"],[1,"ui","circular","tiny","label",3,"hidden"],[1,"row",2,"max-height","80vh","overflow","auto"],["class","sixteen wide column",4,"ngIf"],["class","ui form",3,"ngSubmit",4,"ngIf"],["class","ui one column grid",4,"ngIf"],[1,"credits"],[3,"track","max","onSave","changePos"],["nzWrapClassName","vertical-center-modal","nzTitle","Choose tracks","nzOkText","Add",3,"nzVisible","nzOkLoading","nzOkDisabled","nzVisibleChange","nzAfterOpen","nzOnCancel","nzOnOk"],[3,"nzFooter","nzWidth","nzKeyboard","nzMaskClosable","nzVisible","nzClosable","nzVisibleChange","nzOnCancel"],["class","ui very padded one column grid",4,"ngIf"],["downMenu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item","",3,"click"],[1,"dna","icon"],[1,"file","code","outline","icon"],["tabindex","0"],["settingsMenu","nzDropdownMenu"],[1,"check","small","icon",3,"hidden"],["optionsMenu","nzDropdownMenu"],["nz-menu-item","",3,"nzDisabled","click"],[1,"eye","icon"],["nz-menu-item","",3,"nzDisabled","sqy-clipboard"],[1,"copy","icon"],[1,"database","icon"],[1,"eraser","icon"],[1,"lock","icon"],[1,"pencil","alternate","icon"],[1,"track",3,"id","mouseover","mouseout"],[1,"header"],[1,"ui","fluid","transparent","large","input",3,"ngClass"],["type","text","name","track-label","placeholder","(label)",3,"ngModel","disabled","ngModelChange"],["trackLabel","ngModel"],[1,"actions"],[3,"ngClass","click"],[1,"left","arrow","link","icon"],[1,"right","arrow","link","icon"],[1,"trash","red","link","icon"],["data-inverted","","data-position","bottom center",1,"image",3,"ngStyle","click"],[1,"index",3,"hidden"],[3,"errors"],[1,"ui","form",3,"ngSubmit"],["constructForm","ngForm"],[1,"required","field"],[1,"required-msg"],[1,"required","field",3,"ngClass"],["for","construct_name"],["type","text","placeholder","Label / Name","id","construct_name","name","construct-name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],["for","construct_specie"],["name","construct-specie","required","","nzShowSearch","",3,"ngModel","nzLoading","nzDisabled","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[1,"grouped","required","fields"],["class","field",4,"ngFor","ngForOf"],["class","field txt-c",4,"ngIf"],[1,"inline","field"],["type","checkbox","name","construct-circular",3,"ngModel","ngModelChange"],["for","construct_description"],["id","construct_description","name","construct-description","rows","8","cols","80",3,"ngModel","ngModelChange"],[1,"field"],["type","submit",1,"ui","secondary","right","labeled","fluid","icon","button",3,"disabled"],[1,"angle","right","icon"],[3,"nzLabel","nzValue"],[1,"ui","checkbox"],["type","checkbox","name","features","required","","checked","",3,"change"],[3,"content"],[1,"field","txt-c"],[1,"ui","one","column","grid"],[1,"ui","fluid","icon","input"],[1,"search","icon"],["type","text","placeholder","Search by label / type / sequence...",3,"ngModel","ngModelChange"],[1,"ui","blue","definition","table"],[4,"ngFor","ngForOf"],["colspan","5",1,"txt-c"],[1,"ui","circular","label",3,"ngClass"],[1,"center","aligned"],["data-inverted","","data-tooltip","Open","data-position","top center",3,"ngClass","click"],[1,"edit","icon"],["data-inverted","","data-tooltip","Move up","data-position","top center",3,"ngClass","click"],[1,"arrow","up","icon"],["data-inverted","","data-tooltip","Move down","data-position","top center",3,"ngClass","click"],[1,"arrow","down","icon"],["data-inverted","","data-tooltip","Delete","data-position","top center",3,"ngClass","click"],[1,"x","red","icon"],[1,"ui","basic","segment","one","column","grid","track-picker","mt-0",3,"ngClass"],[1,"ui","message"],[1,"list"],[1,"column","hov-track"],[1,"ui","checkbox","option"],["type","checkbox",3,"click"],[1,"ui","horizontal","divider"],[1,"eight","column","row"],["class","column track",3,"ngClass","background","mouseover","mouseout","click",4,"ngFor","ngForOf"],[1,"column","track",3,"ngClass","mouseover","mouseout","click"],["class","floating ui blue label",4,"ngIf"],[1,"floating","ui","blue","label"],[1,"ui","very","padded","one","column","grid"],[1,"ui","icon","center","aligned","header"],[1,"spinner","loading","icon"],[1,"content"],[1,"ui","blue","small","inverted","table"],[1,"icon",3,"ngClass"]],template:function(t,e){1&t&&(a.Ic(0,on,1,0,"sqy-sketcher-loading",0),a.Ic(1,_n,120,64,"div",1)),2&t&&(a.sc("ngIf",!e.construct),a.Eb(1),a.sc("ngIf",e.construct))},directives:[i.k,He,i.i,I,s.h,s.k,_.b,Ne,i.j,Qe,c.a,_.d,tn.a,tn.b,en.a,s.b,i.l,nn.a,s.r,s.i,s.j,s.p,Xe.b,s.a,Xe.a,sn.a],pipes:[cn],styles:['.sketcher[_ngcontent-%COMP%]{max-height:100vh;max-width:100vw;margin-top:var(--top-margin)!important}.sketcher[_ngcontent-%COMP%]   .slider-wraper[_ngcontent-%COMP%]{position:relative;padding:0 2.5rem}.sketcher[_ngcontent-%COMP%]   .slider-wraper[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{position:absolute;top:-2px;line-height:1;font-size:15px;color:rgba(0,0,0,.45)}.sketcher[_ngcontent-%COMP%]   .slider-wraper[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]:first-child{left:0}.sketcher[_ngcontent-%COMP%]   .slider-wraper[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]:last-child{right:0}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]{height:90vh}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .top-details-bar[_ngcontent-%COMP%]{padding:.3em 1em}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]{min-height:75vh;max-height:85vh;overflow-y:auto}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]{width:100%;display:inline-block}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]{display:inline-block;min-width:2rem;position:relative;-webkit-box-align:center;align-items:center;border-bottom:1.5px solid #ccc;margin-bottom:4rem}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track.invalid[_ngcontent-%COMP%]{background-color:#ffe8ec}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]:not(:first-child){border-left:2px dashed #ccc}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{position:absolute;bottom:-3.2em;width:100%;text-align:center;font-weight:700;color:#ddd}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]:before{position:absolute;z-index:2;content:"|";top:-2em;right:50%}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:1em;width:100%;font-size:.8rem}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#888;text-align:center}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{visibility:hidden;position:absolute;top:0;right:0;font-size:.9rem}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   div.image[_ngcontent-%COMP%]{cursor:pointer;font-size:1em!important;left:0;width:100%!important;line-height:.8em!important;height:5.5em!important;background-repeat:no-repeat!important;background-position:50% 100%!important;z-index:3}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]:hover > .header[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]{visibility:visible}.sketcher[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{text-align:center}.sketcher[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:transparent;background:#bdbdbd;-webkit-background-clip:text;-moz-background-clip:text;background-clip:text;text-shadow:0 3px 3px hsla(0,0%,100%,.5)}.show[_ngcontent-%COMP%]{visibility:visible!important}  .ant-slider:hover .ant-slider-handle:not(.ant-tooltip-open){border-color:#7da4db}  .ant-slider-track{background-color:var(--main-color)}  .ant-slider-handle{border-color:var(--main-color)}  .ant-dropdown.nz-dropdown{margin-top:17px!important}  .ui.settings.dropdown .menu{position:relative!important}  .vertical-center-modal{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}  .vertical-center-modal .ant-modal{width:1000px!important;top:0}  .vertical-center-modal .ant-modal .ant-modal-body{max-height:calc(90vh - 5em);overflow:auto}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker{min-height:500px}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .column.track{z-index:100!important;height:4.5em!important;margin:.4em!important;border:.3px solid #eee!important;box-shadow:1px 1px 1px #eee!important;background-size:auto 100%!important;background-repeat:no-repeat!important;background-position:50% 100%!important;cursor:pointer!important}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .column.track.selected{border:2px solid var(--main-color)!important;border-radius:2px;box-shadow:1px 1px 1px #eee!important}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .hov-track{height:1em;text-align:center;color:grey;font-weight:700}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .hov-track .option{position:absolute;right:0;top:50%}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .ui.horizontal.divider{font-weight:400;color:grey}.required-msg[_ngcontent-%COMP%]{font-weight:400!important}.ui.circular.label[_ngcontent-%COMP%]{font-weight:700}.ui.circular.label[_ngcontent-%COMP%]:not(.no-color){color:#fff!important}.ui.circular.label.no-color[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}']}),t})();var An=n("auWj"),Bn=n("cxgq");function Dn(t,e){if(1&t&&a.Tb(0,"nz-option",22),2&t){const t=e.$implicit;a.sc("nzLabel",t.name)("nzValue",t.tax_id)}}function Vn(t,e){if(1&t&&a.Tb(0,"nz-option",22),2&t){const t=e.$implicit;a.sc("nzLabel",t.name)("nzValue",t.tax_id)}}function $n(t,e){if(1&t){const t=a.Zb();a.Yb(0,"div",31),a.Yb(1,"div",51),a.Yb(2,"input",52),a.gc("change",(function(n){a.Bc(t);const i=e.$implicit;return a.kc(3).featChange(i.alias,n.target.checked)})),a.Xb(),a.Yb(3,"label"),a.Kc(4),a.Tb(5,"sqy-info-popup",53),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=e.$implicit;a.Eb(4),a.Mc(" ",t.name," "),a.Eb(1),a.sc("content",t.description)}}function Kn(t,e){1&t&&(a.Yb(0,"div",54),a.Yb(1,"span",46),a.Kc(2,"No features available for selected organism."),a.Xb(),a.Xb())}const qn=function(t){return{error:t}},Rn=function(t,e){return{"check green":t,"times red":e}};function Un(t,e){if(1&t){const t=a.Zb();a.Wb(0),a.Yb(1,"div",34),a.Yb(2,"label",35),a.Kc(3,"Required fields are shown with"),a.Xb(),a.Xb(),a.Yb(4,"div",34),a.Yb(5,"label",8),a.Kc(6,"Select organism"),a.Xb(),a.Yb(7,"nz-select",9),a.gc("ngModelChange",(function(e){return a.Bc(t),a.kc(2).specie.tax_id=e}))("ngModelChange",(function(e){return a.Bc(t),a.kc(2).getFeatures()})),a.Ic(8,Vn,1,2,"nz-option",10),a.Xb(),a.Xb(),a.Yb(9,"div",36),a.Yb(10,"label"),a.Kc(11,"Select the what features to check"),a.Xb(),a.Ic(12,$n,6,2,"div",37),a.Ic(13,Kn,3,0,"div",38),a.Xb(),a.Yb(14,"div",39),a.Yb(15,"label",40),a.Kc(16,"Enter a label"),a.Xb(),a.Yb(17,"input",41,42),a.gc("ngModelChange",(function(e){return a.Bc(t),a.kc(2).construct.name=e})),a.Xb(),a.Xb(),a.Yb(19,"div",43),a.Yb(20,"label"),a.Kc(21,"Circular"),a.Xb(),a.Tb(22,"i",44),a.Xb(),a.Yb(23,"div",45),a.gc("click",(function(e){a.Bc(t);const n=a.kc(2);return n.textModal(n.construct.dna_seq)})),a.Yb(24,"label"),a.Kc(25,"DNA sequence"),a.Xb(),a.Yb(26,"span",46),a.Kc(27),a.Xb(),a.Yb(28,"p",47),a.Kc(29),a.Xb(),a.Xb(),a.Yb(30,"div",43),a.Yb(31,"label",48),a.Kc(32,"Description"),a.Xb(),a.Yb(33,"textarea",49,50),a.gc("ngModelChange",(function(e){return a.Bc(t),a.kc(2).construct.description=e})),a.Xb(),a.Xb(),a.Vb()}if(2&t){const t=a.Ac(18),e=a.kc(2);a.Eb(7),a.sc("ngModel",e.specie.tax_id)("nzLoading",e.isFeaturesLoading)("nzDisabled",e.isFeaturesLoading),a.Eb(1),a.sc("ngForOf",e.species),a.Eb(4),a.sc("ngForOf",e.features),a.Eb(1),a.sc("ngIf",!e.featuresArray.length),a.Eb(1),a.sc("ngClass",a.wc(12,qn,t.invalid&&(t.dirty||t.touched))),a.Eb(3),a.sc("ngModel",e.construct.name),a.Eb(5),a.sc("ngClass",a.xc(14,Rn,e.construct.circular,!e.construct.circular)),a.Eb(5),a.Mc("",e.construct.dna_seq.length," bps"),a.Eb(2),a.Lc(e.construct.dna_seq),a.Eb(4),a.sc("ngModel",e.construct.description)}}const Hn=function(t){return{"no-color":t}};function Nn(t,e){if(1&t){const t=a.Zb();a.Yb(0,"tr"),a.Yb(1,"td"),a.Yb(2,"div",58),a.Kc(3),a.Xb(),a.Xb(),a.Yb(4,"td"),a.Kc(5),a.Xb(),a.Yb(6,"td"),a.Kc(7),a.Xb(),a.Yb(8,"td"),a.Kc(9),a.Xb(),a.Yb(10,"td"),a.Kc(11),a.Xb(),a.Yb(12,"td"),a.Kc(13),a.Xb(),a.Yb(14,"td",59),a.Yb(15,"a",60),a.gc("click",(function(n){a.Bc(t);const i=e.$implicit;return a.kc(3).showTrack(i)})),a.Tb(16,"i",61),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=e.$implicit,n=e.index;a.Eb(2),a.Hc("background-color",t.color),a.sc("ngClass",a.wc(9,Hn,!t.color)),a.Eb(1),a.Mc("#",n+1,""),a.Eb(2),a.Mc(" ",t.label," "),a.Eb(2),a.Mc(" ",t.type," "),a.Eb(2),a.Mc(" ",t.start," "),a.Eb(2),a.Mc(" ",t.end," "),a.Eb(2),a.Mc(" ",null==t.sequence?null:t.sequence.length," bps ")}}function Wn(t,e){if(1&t&&(a.Wb(0),a.Yb(1,"div",55),a.Yb(2,"table",56),a.Yb(3,"thead"),a.Yb(4,"tr"),a.Tb(5,"th"),a.Yb(6,"th"),a.Kc(7," Label "),a.Xb(),a.Yb(8,"th"),a.Kc(9," Type "),a.Xb(),a.Yb(10,"th"),a.Kc(11," Start "),a.Xb(),a.Yb(12,"th"),a.Kc(13," End "),a.Xb(),a.Yb(14,"th"),a.Kc(15," Size "),a.Xb(),a.Tb(16,"th"),a.Xb(),a.Xb(),a.Yb(17,"tbody"),a.Ic(18,Nn,17,11,"tr",57),a.lc(19,"filterTracks"),a.Xb(),a.Xb(),a.Xb(),a.Vb()),2&t){const t=a.kc(2);a.Eb(18),a.sc("ngForOf",a.nc(19,1,t.construct.tracks,t.search))}}const Gn=function(t){return{active:t}},Jn=function(t){return{"loading disabled":t}};function Zn(t,e){if(1&t){const t=a.Zb();a.Yb(0,"div",23),a.Yb(1,"div",24),a.Yb(2,"div",25),a.Yb(3,"a",26),a.gc("click",(function(e){return a.Bc(t),a.kc().view=!0})),a.Kc(4," Information "),a.Xb(),a.Yb(5,"a",26),a.gc("click",(function(e){return a.Bc(t),a.kc().view=!1})),a.Kc(6," Tracks "),a.Yb(7,"label",27),a.Kc(8),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(9,"div",4),a.Yb(10,"form",28,29),a.gc("ngSubmit",(function(e){return a.Bc(t),a.kc().submit()})),a.Ic(12,Un,35,17,"ng-container",30),a.Ic(13,Wn,20,4,"ng-container",30),a.Yb(14,"div",31),a.Yb(15,"button",32),a.Kc(16," Submit "),a.Tb(17,"i",33),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=a.Ac(11),e=a.kc();a.Eb(3),a.sc("ngClass",a.wc(8,Gn,e.view)),a.Eb(2),a.sc("ngClass",a.wc(10,Gn,!e.view)),a.Eb(2),a.sc("hidden",(null==e.construct.tracks?null:e.construct.tracks.length)<1),a.Eb(1),a.Lc(null==e.construct.tracks?null:e.construct.tracks.length),a.Eb(2),a.sc("ngClass",a.wc(12,Jn,e.isSubmitting)),a.Eb(2),a.sc("ngIf",e.view),a.Eb(1),a.sc("ngIf",!e.view),a.Eb(2),a.sc("disabled",!(null!=e.construct.tracks&&e.construct.tracks.length)||t.invalid||e.featuresArray&&e.featuresArray.length<1)}}const Qn=[{path:"",component:Ln,data:{title:"Construct sketcher"}},{path:Me.a.optimize.sketcher,component:Ln,data:{title:"Construct sketcher"}},{path:Me.a.optimize.from_file,component:(()=>{class t{constructor(t,e,n,i,s,c,o,r,a,l){this.route=t,this.specieSrvc=e,this.sqrutinySrvc=n,this.router=i,this.notify=s,this.http=c,this.modal=o,this.loader=r,this.navSrvc=a,this.featureSrvc=l,this.response=null,this.specie=new Pe.a,this.species=[],this.isLoading=!1,this.construct=null,this.history=null,this.fileList=[],this.view=!0,this.isSubmitting=!1,this.allowedExt=[".gb",".gbk",".genbank"],this.isFeaturesLoading=!1,this.features=[],this.customReq=t=>{this.loader.startLoading();const e=new FormData;e.append("file",t.file);const n=new A.g("POST",t.action,e,{reportProgress:!0,withCredentials:!0});return this.fileList=[t.file],this.response=null,this.construct=null,this.http.request(n).pipe(Object(Ie.a)(()=>this.loader.stopLoading())).subscribe(e=>{e.type===A.e.UploadProgress?(e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e,t.file)):e instanceof A.h&&(t.file.status="done",t.onSuccess(e.body,t.file,e),this.construct=(new Fe).deserialize(e.body),this.notify.success("GenBank file parsed successfully!"))},t=>this.response=t)},this.endpoint=Be.a.endpoints.api+"/constructs/from-genbank"}ngOnInit(){this.sub=this.route.queryParams.subscribe(t=>{t.specie&&(this.specie.slug=t.specie||null,this.getSpecie())}),this.getSpecies(),this.getFeatures()}ngOnDestroy(){this.sub&&this.sub.unsubscribe(),this.tplModal&&this.tplModal.destroy()}getSpecie(){this.isLoading=!0,this.specieSrvc.getBySlug(this.specie).pipe(Object(Ie.a)(()=>this.isLoading=!1)).subscribe(t=>{this.specie.deserialize(t),this.getFeatures()})}getSpecies(){this.isLoading=!0,this.specieSrvc.getAll().pipe(Object(Ie.a)(()=>this.isLoading=!1)).subscribe(t=>{this.species=t.map(t=>{const e=(new Pe.a).deserialize(t);return e.default&&!this.specie.slug&&(this.specie=Object.assign({},e)),e}),this.getFeatures()})}getFeatures(){this.isFeaturesLoading=!0,this.featureSrvc.getAll(this.specie.tax_id||null).pipe(Object(Ie.a)(()=>this.isFeaturesLoading=!1)).subscribe(t=>{this.features=t.map(t=>(new _e.a).deserialize(t)),this.featuresArray=Object.assign([],this.features.map(t=>t.alias))})}submit(){this.response=null,this.isSubmitting=!0,this.construct.specie_tax_id=this.specie.tax_id,this.sqrutinySrvc.fromConstruct(this.construct,this.featuresArray.length>0?this.featuresArray:null).subscribe(t=>{this.navSrvc.updateBadge(),this.notify.loading("Your job has been submitted! In a moment you will be redirected. Please be patient"),setTimeout(()=>{this.router.navigate(["/workspace",t.id]),this.isSubmitting=!1},3e3)},t=>{this.isSubmitting=!1,this.notify.error(t)})}showTrack(t){t&&(this.tplModal=this.modal.create({nzContent:An.a,nzComponentParams:{track:t},nzCancelText:null,nzOnOk:()=>{this.tplModal&&this.tplModal.destroy()}}))}featChange(t,e){e?this.featuresArray.push(t):this.featuresArray=this.featuresArray.filter(e=>e!==t)}textModal(t){this.modal.create({nzContent:Le.a,nzComponentParams:{txt:t},nzFooter:null})}}return t.\u0275fac=function(e){return new(e||t)(a.Sb(Te.a),a.Sb(Ae.a),a.Sb($e.a),a.Sb(Te.c),a.Sb(Re.b),a.Sb(A.c),a.Sb(c.c),a.Sb(Bn.a),a.Sb(Ue.a),a.Sb(Ke.a))},t.\u0275cmp=a.Mb({type:t,selectors:[["sqy-from-file"]],decls:45,vars:12,consts:[[1,"ui","main","container"],[1,"ui","vertical","masthead","center","aligned"],[1,"ui","header"],[1,"ui","two","column","centered","grid"],[1,"column"],[3,"errors"],[1,"row"],[1,"sixteen","wide","column"],["for","construct_specie"],["name","construct-specie","required","","nzShowSearch","",3,"ngModel","nzLoading","nzDisabled","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzType","drag",3,"nzCustomRequest","nzFileList","nzAccept","nzAction"],["nzUploader",""],[1,"p-4"],["xmlns","http://www.w3.org/2000/svg","width","45","height","46","viewBox","0 0 63 64"],["fill","#3B454F","fill-rule","nonzero"],["d","M42.656 15.135a1.953 1.953 0 0 1-1.391-.578L31.5 4.795l-9.765 9.762a1.97 1.97 0 1 1-2.785-2.785L30.106.616a1.97 1.97 0 0 1 2.785 0l11.157 11.156a1.97 1.97 0 0 1-1.392 3.363z"],["d","M31.5 36.791a1.97 1.97 0 0 1-1.969-1.969V2.01a1.97 1.97 0 0 1 3.938 0v32.812a1.97 1.97 0 0 1-1.969 1.969z"],["d","M55.781 63.041H7.22A7.225 7.225 0 0 1 0 55.822V41.385a4.599 4.599 0 0 1 4.594-4.594h7.234a4.567 4.567 0 0 1 4.402 3.276l2.814 9.382a.658.658 0 0 0 .628.467h23.656a.658.658 0 0 0 .628-.467l2.814-9.385a4.572 4.572 0 0 1 4.402-3.273h7.234A4.599 4.599 0 0 1 63 41.385v14.437a7.225 7.225 0 0 1-7.219 7.219zM4.594 40.729a.656.656 0 0 0-.657.656v14.437a3.286 3.286 0 0 0 3.282 3.282H55.78a3.286 3.286 0 0 0 3.282-3.282V41.385a.656.656 0 0 0-.657-.656h-7.234a.65.65 0 0 0-.628.467L47.73 50.58a4.628 4.628 0 0 1-4.402 3.274H19.672a4.567 4.567 0 0 1-4.402-3.276l-2.814-9.382a.65.65 0 0 0-.628-.467H4.594z"],[1,"ant-upload-text"],[1,"ant-upload-hint"],["class","one column row mt-7 p-4",4,"ngIf"],[3,"nzLabel","nzValue"],[1,"one","column","row","mt-7","p-4"],[1,"column","mt-4","mb-3"],[1,"ui","two","item","secondary","pointing","menu"],[1,"item",3,"ngClass","click"],[1,"ui","circular","tiny","label",3,"hidden"],[1,"ui","form",3,"ngClass","ngSubmit"],["constructForm","ngForm"],[4,"ngIf"],[1,"field"],["type","submit",1,"ui","secondary","right","labeled","fluid","icon","button",3,"disabled"],[1,"angle","right","icon"],[1,"required","field"],[1,"required-msg"],[1,"grouped","required","fields"],["class","field",4,"ngFor","ngForOf"],["class","field txt-c",4,"ngIf"],[1,"required","field",3,"ngClass"],["for","construct_name"],["type","text","placeholder","Label / Name","id","construct_name","name","construct-name","required","",1,"transparent",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"inline","field"],[1,"circle","icon",3,"ngClass"],[1,"field","link",2,"max-height","300px",3,"click"],[1,"meta"],[1,"wrap"],["for","construct_description"],["id","construct_description","name","construct-description","rows","8","cols","80",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"ui","checkbox"],["type","checkbox","name","features","required","","checked","",3,"change"],[3,"content"],[1,"field","txt-c"],[1,"field",2,"height","70vh","overflow","auto"],[1,"ui","blue","definition","table"],[4,"ngFor","ngForOf"],[1,"ui","circular","label",3,"ngClass"],[1,"collapsing"],[3,"click"],[1,"eye","icon"]],template:function(t,e){1&t&&(a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"h1",2),a.Kc(3,"Upload your GenBank"),a.Xb(),a.Yb(4,"h2",2),a.Kc(5,"Allowed extensions: "),a.Yb(6,"strong"),a.Kc(7),a.Xb(),a.Xb(),a.Yb(8,"p"),a.Kc(9,"Upload a valid GenBank file. Note that such file must include at least one "),a.Yb(10,"strong"),a.Kc(11,"CDS feature"),a.Xb(),a.Kc(12,". All others features will be filled with "),a.Yb(13,"strong"),a.Kc(14,"Dummy feature"),a.Xb(),a.Kc(15,"."),a.Xb(),a.Yb(16,"div",3),a.Yb(17,"div",4),a.Tb(18,"sqy-errors-list",5),a.Xb(),a.Yb(19,"div",6),a.Yb(20,"div",7),a.Yb(21,"label",8),a.Kc(22,"Upload file for organism:"),a.Xb(),a.Yb(23,"nz-select",9),a.gc("ngModelChange",(function(t){return e.specie.tax_id=t})),a.Ic(24,Dn,1,2,"nz-option",10),a.Xb(),a.Xb(),a.Xb(),a.Yb(25,"div",6),a.Yb(26,"div",7),a.Yb(27,"nz-upload",11,12),a.Yb(29,"div",13),a.jc(),a.Yb(30,"svg",14),a.Yb(31,"g",15),a.Tb(32,"path",16),a.Tb(33,"path",17),a.Tb(34,"path",18),a.Xb(),a.Xb(),a.Xb(),a.ic(),a.Yb(35,"div"),a.Yb(36,"p",19),a.Kc(37," Select a file or drop here to upload "),a.Xb(),a.Yb(38,"p",20),a.Kc(39," Only a single file can be uploaded. "),a.Xb(),a.Yb(40,"p",20),a.Yb(41,"strong"),a.Kc(42,"Allowed extensions:"),a.Xb(),a.Kc(43),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Ic(44,Zn,18,14,"div",21),a.Xb(),a.Xb(),a.Xb()),2&t&&(a.Eb(7),a.Mc("",e.allowedExt.toString(),"."),a.Eb(11),a.sc("errors",e.response),a.Eb(5),a.sc("ngModel",e.specie.tax_id)("nzLoading",e.isLoading)("nzDisabled",e.isLoading),a.Eb(1),a.sc("ngForOf",e.species),a.Eb(3),a.sc("nzCustomRequest",e.customReq)("nzFileList",e.fileList)("nzAccept",e.allowedExt)("nzAction",e.endpoint),a.Eb(16),a.Mc(" ",e.allowedExt.toString()," "),a.Eb(1),a.sc("ngIf",e.construct))},directives:[nn.a,Xe.b,s.p,s.h,s.k,i.j,oe,i.k,Xe.a,i.i,s.r,s.i,s.j,s.b,sn.a],pipes:[cn],styles:[".ui.container[_ngcontent-%COMP%]{min-height:700px;margin-bottom:7em}.masthead.segment[_ngcontent-%COMP%]{min-height:400px;padding:1em 0;border-radius:0!important;border:0!important}.masthead[_ngcontent-%COMP%]   h1.ui.header[_ngcontent-%COMP%]{margin-top:1.5em;margin-bottom:0;font-size:3em;font-weight:400}.masthead[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;font-weight:400}.wrap[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.required-msg[_ngcontent-%COMP%]{font-weight:400!important}label[_ngcontent-%COMP%]{margin-right:1em}.ui.circular.label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-weight:700}.ui.circular.label[_ngcontent-%COMP%]:not(.no-color){color:#fff!important}.ui.circular.label.no-color[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}"]}),t})(),data:{title:"Upload file"}}];let ti=(()=>{class t{}return t.\u0275mod=a.Qb({type:t}),t.\u0275inj=a.Pb({factory:function(e){return new(e||t)},imports:[[Te.g.forChild(Qn)],Te.g]}),t})();var ei=n("PCNd");n.d(e,"OptimizerModule",(function(){return ni}));let ni=(()=>{class t{}return t.\u0275mod=a.Qb({type:t}),t.\u0275inj=a.Pb({factory:function(e){return new(e||t)},imports:[[i.c,ti,ei.a,c.b,F,_.c,s.o,re,Se,Xe.c]]}),t})()}}]);
//# sourceMappingURL=6-es2015.95f633b858d4c75e40ae.js.map