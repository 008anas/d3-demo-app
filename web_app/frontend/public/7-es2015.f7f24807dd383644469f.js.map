{"version":3,"sources":["webpack:///node_modules/ng-zorro-antd/__ivy_ngcc__/fesm2015/ng-zorro-antd-popover.js","webpack:///src/app/workspace/workspace.component.html","webpack:///src/app/workspace/workspace.component.ts","webpack:///src/app/workspace/shared/job.service.ts","webpack:///src/app/workspace/shared/history-loading/history-loading.component.ts","webpack:///src/app/workspace/shared/history-loading/history-loading.component.html","webpack:///src/app/workspace/shared/display-values/display-values.component.html","webpack:///src/app/workspace/shared/display-values/display-values.component.ts","webpack:///src/app/workspace/shared/display-threshold/display-threshold.component.html","webpack:///src/app/workspace/shared/display-threshold/display-threshold.component.ts","webpack:///src/app/workspace/shared/set-highlight/set-highlight.component.ts","webpack:///src/app/workspace/shared/set-highlight/set-highlight.component.html","webpack:///src/app/workspace/shared/results-viewer/results-viewer.component.html","webpack:///src/app/workspace/shared/results-viewer/results-viewer.component.ts","webpack:///src/app/workspace/history/history.component.html","webpack:///src/app/workspace/history/history.component.ts","webpack:///src/app/workspace/workspace-routing.module.ts","webpack:///src/app/workspace/workspace.module.ts"],"names":["_c0","_c1","NzPopoverComponent_ng_template_1_div_5_ng_container_1_Template","rf","ctx","ctx_r905","title","NzPopoverComponent_ng_template_1_div_5_Template","ctx_r903","NzPopoverComponent_ng_template_1_ng_container_7_Template","ctx_r904","content","NzPopoverComponent_ng_template_1_Template","ctx_r902","_classMap","nzOverlayStyle","noAnimation","nzNoAnimation","_c2","NzPopoverComponent","cdr","super","this","_prefix","ɵfac","t","ɵcmp","type","selectors","contentQueries","dirIndex","_t","nzTitleTemplate","first","nzContentTemplate","inputs","nzTitle","nzContent","exportAs","features","provide","useExisting","ngContentSelectors","decls","vars","consts","template","$event","hide","onPositionChange","origin","_hasBackdrop","_positions","_visible","directives","styles","encapsulation","data","animation","changeDetection","NzPopoverDirective","elementRef","hostView","resolver","renderer","tooltip","componentFactory","resolveComponentFactory","ɵdir","hostVars","hostBindings","isTooltipComponentVisible","specificTitle","specificContent","directiveNameTitle","specificTrigger","specificPlacement","NzPopoverModule","ɵmod","ɵinj","factory","imports","WorkspaceComponent","router","historySrvc","notify","navSrvc","histories","isLoading","routeReuseStrategy","shouldReuseRoute","getUserHistory","getAll","pipe","finalize","subscribe","map","h","deserialize","confirm","deleteAll","updateBadge","success","msg","id","delete","clearHistory","JobService","http","url","endpoints","api","get","HistoryLoadingComponent","DisplayValuesComponent","fileSrvc","values","_values","raw","v","raw_score","norm","norm_score","max_raw","Math","max","apply","min_raw","min","max_norm","min_norm","exportAsExcelFile","name","exportToExcel","DisplayThresholdComponent","SetHighlightComponent","builder","onSet","highlightForm","group","from","compose","required","to","value","emit","set","filters","ResultsViewerComponent","sqSrvc","modal","route","loader","isVisible","_data","isSearching","options","bulk","colors","enzimes","operators","desc","op","operatorsFn","a","b","results","construct","length","forEach","r","push","alias","display","scores","d","pos","start","score","color","getRandomColor","nav","nativeElement","dna_seq","document","querySelectorAll","x","setAttribute","dnaSeq","proteinSeq","proteinSeqProtvista","protein_seq","tracksElem","getTrackView","tracks","i","motif","motifInSeq","count","positions","charAt","substring","fixedHighlight","error","err","array_move","Object","assign","undefined","graph","operator","getByAlias","s","switchValues","cutoffs","getElementById","element","getElementsByTagName","innerHTML","find","o","style","visibility","clearThreshold","info","filter","f","key","track","accession","end","val","split","join","clearAllThreshold","setThreshold","create","nzWrapClassName","nzComponentParams","nzFooter","position","floor","random","export","startLoading","snapshot","history","stopLoading","saveFileAs","mimetype","filename","searchMotif","changeColors","applyFilters","addFilter","displayAll","hideAll","clearHighlight","HistoryComponent","jobSrvc","titleSrvc","isJobLoading","seq","trackHovered","attempts","setTitle","getJob","interval","clearInterval","getById","job_id","job","isDone","resultData","result","isActive","setInterval","navigate","str","txt","path","component","workspace","detail","resolve","WorkspaceRoutingModule","forChild","WorkspaceModule"],"mappings":"oNAgBA,MAAMA,EAAM,CAAC,qBACPC,EAAM,CAAC,cACb,SAASC,EAA+DC,EAAIC,GAI1E,GAJ0F,EAALD,IACnF,KAA+B,GAC/B,KAAc,GACd,QACO,EAALA,EAAQ,CACV,MAAME,EAAW,KAAqB,GACtC,KAAiB,GACjB,KAAyBA,EAASC,QAEtC,SAASC,EAAgDJ,EAAIC,GAI3D,GAJ2E,EAALD,IACpE,KAAsB,EAAG,MAAO,GAChC,KAAkB,EAAGD,EAAgE,EAAG,EAAG,eAAgB,GAC3G,QACO,EAALC,EAAQ,CACV,MAAMK,EAAW,KAAqB,GACtC,KAAiB,GACjB,KAAkB,yBAA0BA,EAASF,QAEzD,SAASG,EAAyDN,EAAIC,GAIpE,GAJoF,EAALD,IAC7E,KAA+B,GAC/B,KAAc,GACd,QACO,EAALA,EAAQ,CACV,MAAMO,EAAW,KAAqB,GACtC,KAAiB,GACjB,KAAyBA,EAASC,UAEtC,SAASC,EAA0CT,EAAIC,GAcrD,GAdqE,EAALD,IAC9D,KAAsB,EAAG,MAAO,GAChC,KAAsB,EAAG,MAAO,GAChC,KAAiB,EAAG,MAAO,GAC3B,KAAsB,EAAG,MAAO,GAChC,KAAsB,EAAG,OACzB,KAAkB,EAAGI,EAAiD,EAAG,EAAG,MAAO,GACnF,KAAsB,EAAG,MAAO,GAChC,KAAkB,EAAGE,EAA0D,EAAG,EAAG,eAAgB,GACrG,OACA,OACA,OACA,OACA,QACO,EAALN,EAAQ,CACV,MAAMU,EAAW,OACjB,KAAkB,UAAWA,EAASC,UAAtC,CAAiD,UAAWD,EAASE,eAArE,CAAqF,aAAsC,MAAxBF,EAASG,YAAsB,KAAOH,EAASG,YAAYC,cAA9J,CAA6K,gBAAyC,MAAxBJ,EAASG,YAAsB,KAAOH,EAASG,YAAYC,cAAzP,CAAwQ,iBAAkB,UAC1R,KAAiB,GACjB,KAAkB,OAAQJ,EAASP,OACnC,KAAiB,GACjB,KAAkB,yBAA0BO,EAASF,UAEzD,MAAMO,EAAM,CAAC,K,kBACPC,UAA2B,IAK7B,YAAYC,EAAKJ,GACbK,MAAMD,EAAKJ,GACXM,KAAKN,YAAcA,EACnBM,KAAKC,QAAU,yB,OAGvBJ,EAAmBK,UAAO,SAAoCC,GAAK,OAAO,IAAKA,GAAKN,GAAoB,KAAyB,KAA2B,KAAyB,IAA+B,KACpNA,EAAmBO,UAAO,KAAyB,CAAEC,KAAMR,EAAoBS,UAAW,CAAC,CAAC,eAAgBC,eAAgB,SAA2C1B,EAAIC,EAAK0B,GAIxK,IAAIC,EAJyL,EAAL5B,IACxL,KAA4B2B,EAAU9B,GAAK,GAC3C,KAA4B8B,EAAU7B,GAAK,IACpC,EAALE,IAEF,KAAsB4B,EAAK,UAA0B3B,EAAI4B,gBAAkBD,EAAGE,OAC9E,KAAsBF,EAAK,UAA0B3B,EAAI8B,kBAAoBH,EAAGE,SAC/EE,OAAQ,CAAEC,QAAS,UAAWC,UAAW,aAAeC,SAAU,CAAC,sBAAuBC,SAAU,CAAC,KAA0B,CAC5H,CACIC,QAAS,IACTC,YAAatB,KAEjB,MAAoCuB,mBAAoBxB,EAAKyB,MAAO,EAAGC,KAAM,EAAGC,OAAQ,CAAC,CAAC,sBAAuB,GAAI,qBAAsB,GAAI,EAAG,4BAA6B,iCAAkC,+BAAgC,0BAA2B,gBAAiB,SAAU,kBAAmB,CAAC,UAAW,uBAAwB,CAAC,EAAG,cAAe,EAAG,UAAW,UAAW,iBAAkB,CAAC,EAAG,uBAAwB,CAAC,EAAG,qBAAsB,CAAC,OAAQ,UAAW,EAAG,qBAAsB,CAAC,QAAS,oBAAqB,EAAG,QAAS,CAAC,EAAG,6BAA8B,CAAC,EAAG,0BAA2B,CAAC,EAAG,sBAAuBC,SAAU,SAAqC3C,EAAIC,GAAgB,EAALD,IACxsB,OACA,KAAoB,GACpB,KAAkB,EAAGS,EAA2C,EAAG,EAAG,cAAe,EAAG,EAAG,MAC3F,KAAkB,iBAAgB,SAA2EmC,GAAU,OAAO3C,EAAI4C,SAAlI,CAA6I,UAAS,SAAoED,GAAU,OAAO3C,EAAI4C,SAA/O,CAA0P,kBAAiB,SAA4ED,GAAU,OAAO3C,EAAI6C,iBAAiBF,OACtX,EAAL5C,IACF,KAAiB,GACjB,KAAkB,4BAA6BC,EAAI8C,OAAnD,CAA2D,iCAAkC9C,EAAI+C,aAAjG,CAA+G,+BAAgC/C,EAAIgD,WAAnJ,CAA+J,0BAA2BhD,EAAIiD,YAC7LC,WAAY,CAAC,IAA4B,IAAoC,IAAgB,IAAgB,IAA+B,IAAa,KAAyCC,OAAQ,CAAC,sEAAuEC,cAAe,EAAGC,KAAM,CAAEC,UAAW,CAAC,MAAkBC,gBAAiB,I,oBAwE9VC,UAA2B,IAS7B,YAAYC,EAAYC,EAAUC,EAAUC,EAAUC,EAASjD,GAC3DK,MAAMwC,EAAYC,EAAUC,EAAUC,EAAUC,EAASjD,GACzDM,KAAKN,YAAcA,EACnBM,KAAK4C,iBAAmB5C,KAAKyC,SAASI,wBAAwB,I,OAGtEP,EAAmBpC,UAAO,SAAoCC,GAAK,OAAO,IAAKA,GAAKmC,GAAoB,KAAyB,KAAoB,KAAyB,KAA0B,KAAyB,KAAkC,KAAyB,KAAmB,KAAyB,EAAoB,GAAI,KAAyB,IAA+B,KACxZA,EAAmBQ,UAAO,KAAyB,CAAEzC,KAAMiC,EAAoBhC,UAAW,CAAC,CAAC,GAAI,aAAc,KAAMyC,SAAU,EAAGC,aAAc,SAAyCnE,EAAIC,GAAgB,EAALD,GAC/L,KAAmB,mBAAoBC,EAAImE,4BAC1CpC,OAAQ,CAAEqC,cAAe,CAAC,iBAAkB,iBAAkBC,gBAAiB,CAAC,mBAAoB,mBAAoBC,mBAAoB,CAAC,aAAc,sBAAuBC,gBAAiB,CAAC,mBAAoB,mBAAoBC,kBAAmB,CAAC,qBAAsB,sBAAwBtC,SAAU,CAAC,aAAcC,SAAU,CAAC,Q,oBAsErVsC,G,OAENA,EAAgBC,UAAO,KAAwB,CAAEnD,KAAMkD,IACvDA,EAAgBE,UAAO,KAAwB,CAAEC,QAAS,SAAiCvD,GAAK,OAAO,IAAKA,GAAKoD,IAAuBI,QAAS,CAAC,CAAC,IAAc,IAAe,IAAe,IAAiB,IAAqB,Q,gICpO7N,iBACE,iBACE,eACA,gCACF,OACF,Q,6PAmBM,gBACE,aACE,aAAI,eAAyB,QAAU,OAAI,OAC7C,OACA,aACE,aAAI,eAAoB,QAAqB,OAAI,OACnD,OACA,aACE,SACF,OACA,cACE,mBACE,S,gBACF,OACF,OACA,cACE,kB,qBACE,mBAGF,OACF,OACA,iBACE,gBACE,gBACF,OACA,gBACE,gBACF,OACA,gBAAG,4FACD,gBACF,OACF,OACF,O,4BAjCI,oEAEO,2CAAsB,qBAGL,gCAGxB,8CAGM,sCACJ,kEAI+G,kDAC5E,sHAMlC,mCAGA,4C,gEA3Cb,iBAEE,mBAEE,gBACE,aACE,gBACE,yBACF,OACA,gBACE,QACF,OACF,OACF,OAEA,gBAEE,wBAkCF,OAEF,OACF,Q,oBAtD4B,sCAUlB,iDAOyE,qCC5CpF,Y,MAAMC,EAKX,YACUC,EACAC,EACAC,EACAC,GAHA,KAAAH,SACA,KAAAC,cACA,KAAAC,SACA,KAAAC,UAPV,KAAAC,UAA2B,GAC3B,KAAAC,WAAY,EAQVlE,KAAK6D,OAAOM,mBAAmBC,iBAAmB,KAAM,EAG1D,WACEpE,KAAKkE,WAAY,EACjBlE,KAAKqE,iBAGP,iBACErE,KAAKkE,WAAY,EACjBlE,KAAK8D,YAAYQ,SACdC,KAAK,OAAAC,EAAA,GAAS,IAAMxE,KAAKkE,WAAY,IACrCO,UAAUtC,GAAQnC,KAAKiE,UAAY9B,EAAKuC,IAAKC,QAAe,KAAcC,YAAYD,KAAO,IAGlG,eACME,QAAQ,mFACV7E,KAAKkE,WAAY,EACjBlE,KAAK8D,YAAYgB,YACdP,KAAK,OAAAC,EAAA,GAAS,IAAMxE,KAAKkE,WAAY,IACrCO,UAAUtC,IACTnC,KAAKgE,QAAQe,cACb/E,KAAKqE,iBACLrE,KAAK+D,OAAOiB,QAAQ7C,EAAK8C,QAKjC,cAAcC,GACRL,QAAQ,yFACV7E,KAAKkE,WAAY,EACjBlE,KAAK8D,YAAYqB,OAAOD,GACrBX,KAAK,OAAAC,EAAA,GAAS,IAAMxE,KAAKkE,WAAY,IACrCO,UAAU,KACTzE,KAAKgE,QAAQe,cACb/E,KAAKqE,iBACLrE,KAAK+D,OAAOiB,QAAQ,wB,6CA/CjBpB,GAAkB,0C,uBAAlBA,EAAkB,0yCDf/B,gBAEE,gBAEE,gBAEE,gBACE,eAAsB,yBAAc,OACpC,YACE,qDAAyC,iBAAQ,eAAI,OAAU,wBACjE,OACF,OAEF,OAEA,iBAEE,iBAIA,iBAEE,oBAA+D,iCAAS,EAAAwB,kBACtE,2BAAc,eAChB,OAEF,OAEF,OAEA,iBAEE,iBAEE,uBAOA,yBAwDF,OACF,OAEF,OAEF,Q,MAhFgG,4DAYpD,uDAO2B,wD,gIC3BhE,G,wCCLA,Y,MAAMC,EAIX,YAAoBC,GAAA,KAAAA,OAClBtF,KAAKuF,IAAM,IAAIC,UAAUC,IARb,kBAWd,QAAQP,GACN,OAAOlF,KAAKsF,KAAKI,IAAS,GAAG1F,KAAKuF,MAAML,KAAMX,Q,6CATrCc,GAAU,Y,yBAAVA,EAAU,QAAVA,EAAU,qBADG,S,GACnB,G,gBCHA,Y,MAAMM,G,6CAAAA,I,uBAAAA,EAAuB,ivBCPpC,gBAEE,gBAEE,gBAEE,gBAEE,gBAEE,gBAEE,gBACE,gBACE,gBACE,gBACA,iBACF,OACF,OACF,OAEA,kBAEE,iBAIA,kBAEE,gBACE,gBACA,4BACF,OAEF,OAEF,OAEA,iBACE,iBACE,kBACE,iBACA,iBACA,iBACF,OACF,OACF,OAEA,iBACE,kBACE,kBACE,iBACA,iBACA,iBACA,iBACA,iBACF,OACF,OACF,OAEF,OAEF,OAEF,OAEF,OAEA,iBAEE,iBAEE,iBAEE,kBAEE,kBACE,kBACE,cAAI,6BAAiB,OACvB,OACF,OAEA,kBAEE,iBAEE,kBACE,iBACE,kBACE,iBACF,OACF,OACF,OAEA,kBAEE,kBACE,iBACE,kBACE,iBACF,OACF,OACF,OAEA,kBACE,iBACE,kBACE,iBACF,OACF,OACF,OAEA,kBACE,iBACE,kBACE,iBACF,OACF,OACF,OAEA,kBACE,iBACE,kBACE,iBACF,OACF,OACF,OAEF,OAEF,OAEF,OAEA,kBAEE,iBACE,iBACE,gBACA,sBACF,OACF,OAEA,iBACE,kBACE,iBACA,iBACA,iBACA,iBACA,iBACF,OAEF,OAEF,OAEA,kBAEE,iBACE,iBACE,gBACA,sBACF,OACF,OAEA,iBACE,aAAI,gBAA0B,sDAAyC,OAEvE,oBAEE,iBACE,cACE,cAAI,eAAG,OACP,iBAEA,cACE,kBAAQ,kBAAM,OAChB,OACF,OACA,cACE,cAAI,mBAAO,OACX,iBAEA,cACE,kBAAQ,kBAAM,OAChB,OACF,OACF,OAEF,OACF,OAEF,OAEA,kBAEE,kBACE,kBACE,qBACF,OACF,OAEA,mBAIA,kBAEE,mBACE,mBAGF,OAEF,OAEF,OAEF,OAEF,OAEF,OAEF,OAEA,mBAEE,kBACE,kBACE,mBACE,kBACA,kBACA,kBACA,kBACA,kBACF,OACA,mBACE,kBACA,kBACA,kBACA,kBACA,kBACF,OACF,OACF,OAEF,OAEF,OAzPF,S,iBDOO,G,qDE0EG,aACE,aACE,QACF,OACA,aACE,QACF,OACA,aACE,QACF,OACA,aACE,QACF,OACF,Q,yBAXI,8BAGA,4BAGA,kCAGA,oCCjFP,Y,MAAMC,EAqBX,YACUC,EACA9B,GADA,KAAA8B,WACA,KAAA9B,SAfV,WAAoB+B,GAElB,GADA9F,KAAK+F,QAAU,GACXD,EAAQ,CACV9F,KAAK+F,QAAUD,EACf,MAAME,EAAMhG,KAAK+F,QAAQrB,IAAIuB,GAAKA,EAAEC,WAC9BC,EAAOnG,KAAK+F,QAAQrB,IAAIuB,GAAKA,EAAEG,YACrCpG,KAAKqG,QAAUC,KAAKC,IAAIC,MAAMF,KAAMN,GACpChG,KAAKyG,QAAUH,KAAKI,IAAIF,MAAMF,KAAMN,GACpChG,KAAK2G,SAAWL,KAAKC,IAAIC,MAAMF,KAAMH,GACrCnG,KAAK4G,SAAWN,KAAKI,IAAIF,MAAMF,KAAMH,IASzC,gBACMnG,KAAK8F,SACP9F,KAAK6F,SAASgB,kBAAkB,CAAC,CAAEC,KAAM,SAAU3E,KAAMnC,KAAK8F,SAAW,UACzE9F,KAAK+D,OAAOiB,QAAQ,4B,6CA7BbY,GAAsB,sB,uBAAtBA,EAAsB,2gBDVnC,gBAEE,gBACE,gBACE,iBAAS,wBAAY,OAAS,QAChC,OACA,gBACE,cACE,gBACE,cACA,oBACF,OACA,eACA,iBACE,iBACE,uBACF,OACA,gBAAgB,iCAAS,EAAAmB,mBACvB,gBACA,mBACF,OACA,gBACE,gBACA,qBACF,OACF,OACF,OACF,OACF,OAEA,kBACE,iBACE,oBACE,iBACE,cACE,cACA,cAAI,yBAAa,OACjB,cAAI,yBAAa,OACnB,OACF,OACA,iBACE,cACE,iBAAuB,sBAAU,OACjC,cAAI,SAAW,OACf,cAAI,SAAW,OACjB,OACA,cACE,iBAAuB,6BAAiB,OACxC,cAAI,SAAY,OAChB,cAAI,SAAY,OAClB,OACF,OACF,OACF,OACF,OAEA,kBAEE,iBACE,oBAEE,iBACE,cACE,cACE,mBACF,OACA,cACE,iBACF,OACA,cACE,wBACF,OACA,cACE,+BACF,OACF,OACF,OAEA,iBAEE,uBAeF,OAEF,OACF,OACF,OAEF,Q,MAjGoC,2DAuCpB,yBACA,wBAIA,yBACA,yBA+BF,qC,kWCtEP,G,yBCqCG,aACE,aACE,QACF,OACA,aACE,QACF,OACF,Q,yBALI,4BAGA,+BC1CP,Y,MAAMC,EAEX,YACUnB,EACA9B,GADA,KAAA8B,WACA,KAAA9B,SAKV,gBACM/D,KAAK8F,SACP9F,KAAK6F,SAASgB,kBAAkB7G,KAAK8F,OAAQ,UAC7C9F,KAAK+D,OAAOiB,QAAQ,4B,6CAZbgC,GAAyB,sB,uBAAzBA,EAAyB,udDVtC,gBAEE,gBACE,gBACE,iBAAS,wBAAY,OAAS,QAChC,OACA,gBACE,cACE,gBACE,cACA,oBACF,OACA,eACA,iBACE,iBACE,uBACF,OACA,gBAAgB,iCAAS,EAAAD,mBACvB,gBACA,mBACF,OACA,gBACE,gBACA,qBACF,OACF,OACF,OACF,OACF,OAEA,kBACE,iBACE,oBAEE,iBACE,cACE,cACE,uBACF,OACA,cACE,mBACF,OACF,OACF,OAEA,iBAEE,uBASF,OAEF,OACF,OACF,OAEF,Q,MA1DoC,yDA2CtB,oC,kCCrCP,G,8ECHA,a,MAAME,EAMX,YAAoBC,GAAA,KAAAA,UAHV,KAAAC,MAAQ,IAAI,IAKtB,WACE,OAAOnH,KAAKoH,cAAc1B,IAAI,QAGhC,SACE,OAAO1F,KAAKoH,cAAc1B,IAAI,MAGhC,WACE1F,KAAKoH,cAAgBpH,KAAKkH,QAAQG,MAAM,CACtCC,KAAM,CAAC,EAAG,IAAWC,QAAQ,CAC3B,IAAWb,IAAI,GACf,IAAWc,SACX,IAAWjB,IAAIvG,KAAKuG,IAAM,MAE5BkB,GAAI,CAACzH,KAAKuG,IAAK,IAAWgB,QAAQ,CAChC,IAAWC,SACX,IAAWd,IAAI,GACf,IAAWH,IAAIvG,KAAKuG,UAK1B,MACMvG,KAAKsH,KAAKI,MAAQ1H,KAAKyH,GAAGC,OAC5B1H,KAAKmH,MAAMQ,KAAK,GAAG3H,KAAKsH,KAAKI,SAAS1H,KAAKyH,GAAGC,U,6CAjCvCT,GAAqB,Y,uBAArBA,EAAqB,geCRlC,iBAAuD,oCAAY,EAAAW,SAEjE,gBAEE,gBACE,gBAAO,eAAI,OACX,kBACF,OAEA,gBACE,gBAAO,aAAE,OACT,kBACF,OAEF,OAEA,iBACE,oBAAyF,eAAG,OAC9F,OAEF,Q,MApB2B,kCAIJ,kFAKA,4EAEI,6CAM+B,mD,kEDTnD,G,kGEoBC,uB,yBAAqC,kBAAa,c,iFA8D9C,iBAEE,iBAEE,iBACE,gBACE,gBAAyC,QAAW,OACtD,OACF,OAEA,iBAEE,iBACE,cACE,kBACA,eACF,OACA,eACE,kBACA,eACF,OACA,eACE,oBACA,eACF,OAGA,oCACE,kBACE,kBACE,kBACE,2BACF,OACA,kBACA,gBAAgB,6FACd,0BACF,OACA,gBAAsE,wEAAiB,MACrF,gBACA,qBACF,OACA,gBAAyF,uEAAiB,MACxG,gBACA,uBACF,OACA,gBAAgB,sDAAsB,KACpC,gBACA,kBACF,OACA,kBACE,uBACF,OACA,gBAAgB,+FACd,mBACF,OACF,OACF,OACF,OAGA,oCACE,kBACE,kBACE,kBACE,qBACF,OACA,kBACA,gBAAgB,4FACd,oBACF,OACA,gBAAsD,+FACpD,iCACF,OACF,OACF,OACF,OAGA,oCACE,kBACE,kBACE,kBACE,oBACF,OACA,kBACA,kBACE,oBACF,OACA,gBAAgB,8FACd,gBACA,mBACF,OAKA,kBACE,+BACF,OACA,gBAAgB,gGACd,gBACA,qBACF,OACA,gBACE,gBACA,mBACF,OACF,OACF,OACF,OAEF,OAEA,kBACE,aACF,OAEA,kBACE,kBACE,kBACE,kBAAQ,oBAAQ,OAAS,SAC3B,OACA,eACF,OAGA,oCACE,iBACE,iBAAiB,iFAAsB,MAAO,EAAF,UAC1C,iBAAI,gBACN,OACA,iBAAiB,iFAAsB,OAAQ,EAAF,UAC3C,wBAAW,gBACb,OACF,OACF,OAMF,OAEF,OAEF,OAEA,8BACF,O,2FApJyB,0BAMwB,qBAOR,iCAIA,iCAIA,iCAgBX,6DAIA,+EAWmC,+CAkBnC,gDA6BoC,gDAIpC,+CAUE,0CAK+B,iCAE1B,uDAShB,sCAGO,uCAeqB,4B,yBA2BnD,uB,4CAAsC,uBAAmB,kBAAnB,CAAmB,0B,yBAazD,uB,yBAAuC,uBAAkB,iB,wCAjB/D,iBAEE,iBACE,uBAAW,sEACT,8BACF,OACF,OAEA,iBACE,uBAAW,uEACT,uBACA,uBACF,OACF,OAEA,iBACE,uBAAW,qEACT,+BACF,OACF,OAEA,kBACE,oBAAqB,wEAArB,OACF,OAEA,kBACE,gBAAiC,gEAASC,QAAA,SAAmB,MAAI,OACnE,OAEF,O,qCA1BmC,wCAApB,sBACE,kCAKF,+BAOA,6BACE,oCAKQ,iC,uEAkDvB,eAAoI,6EAClI,kBACA,mBAAoC,QAAU,OAChD,Q,yBAH6F,sCACxD,yCACC,sB,wCAoD1C,gCAA0D,mEAA+B,O,uBAAtE,8C,mDC5Vd,a,MAAMC,EAsEX,YACUC,EACAhE,EACAiE,EACAnC,EACA/B,EACAmE,EACAC,GANA,KAAAH,SACA,KAAAhE,SACA,KAAAiE,QACA,KAAAnC,WACA,KAAA/B,cACA,KAAAmE,QACA,KAAAC,SApDV,KAAAC,WAAY,EACZ,KAAAC,MAAa,KACb,KAAAC,aAAc,EACd,KAAAC,QAA2B,GAE3B,KAAAT,QAAoB,GACpB,KAAAU,MAAO,EACP,KAAAC,OAAS,CACP,MACA,OACA,QACA,QACA,SACA,UAEF,KAAAC,QAAU,CACR,SACA,SACA,QACA,QACA,SACA,SACA,SACA,UAEF,KAAAC,UAAY,CACV,CAAEC,KAAM,wBAAyBC,GAAI,MACrC,CAAED,KAAM,eAAgBC,GAAI,KAC5B,CAAED,KAAM,QAASC,GAAI,KACrB,CAAED,KAAM,sBAAuBC,GAAI,MACnC,CAAED,KAAM,aAAcC,GAAI,MAE5B,KAAAC,YAAc,CACZ,IAAK,CAACC,EAAWC,IAAcD,EAAIC,EACnC,KAAM,CAACD,EAAWC,IAAcD,GAAKC,EACrC,IAAK,CAACD,EAAWC,IAAcD,GAAKC,EACpC,IAAK,CAACD,EAAWC,IAAcD,EAAIC,EACnC,KAAM,CAACD,EAAWC,IAAcD,GAAKC,GA5DvC,SAAkB5G,GAChBnC,KAAKoI,MAAQjG,EACbnC,KAAKsI,QAAU,GACVtI,KAAKoI,MAAMY,SAAYhJ,KAAKoI,MAAMa,WAAcjJ,KAAKoI,MAAMY,QAAQE,QAGxElJ,KAAKoI,MAAMY,QAAQG,QAASC,IAC1BpJ,KAAKsI,QAAQe,KAAK,CAChBvC,KAAMsC,EAAEtC,KACRwC,MAAOF,EAAEE,MACTC,SAAS,EACTpH,KAAMiH,EAAEI,OAAO9E,IAAK+E,KAEhBC,IAAKD,EAAEE,MACPC,MAAOH,EAAEvD,aAGb7F,KAAM,MACNwJ,MAAO7J,KAAK8J,qBA4DlB,kBAEM9J,KAAKoI,OAASpI,KAAKsI,UACrBtI,KAAK+J,IAAIC,cAAsB,OAAIhK,KAAKoI,MAAMa,UAAUgB,QAAQf,OAChEgB,SAASC,iBAAiB,cAAchB,QAASiB,GAAWA,EAAEC,aAAa,SAAUrK,KAAKoI,MAAMa,UAAUgB,QAAQf,SAClHlJ,KAAKsK,OAAON,cAAoB,KAAIhK,KAAKoI,MAAMa,UAAUgB,QACzDjK,KAAKuK,WAAWP,cAAoB,KAAIlC,EAAuB0C,oBAAoBxK,KAAKoI,MAAMa,UAAUwB,aACxGzK,KAAK0K,WAAWV,cAAoB,KAAIlC,EAAuB6C,aAAa3K,KAAKoI,MAAMa,UAAU2B,QACjGV,SAASC,iBAAiB,gBAAgBhB,QAAQ,CAACiB,EAAQS,KACzDT,EAAEjI,KAAOnC,KAAKsI,QAAQuC,GAAG1I,KACzBiI,EAAEC,aAAa,QAASrK,KAAKsI,QAAQuC,GAAGhB,UAK9C,YAAYiB,GACNA,IACF9K,KAAKqI,aAAc,EACnBrI,KAAK+H,OAAOgD,WAAW/K,KAAKoI,MAAMa,UAAUgB,QAASa,GAClDvG,KAAK,OAAAC,EAAA,GAAS,IAAMxE,KAAKqI,aAAc,IACvC5D,UACEtC,IACC,GAAIA,EAAK6I,MAAQ,EAAG,CAClB,IAAIC,EAAY,GAChB9I,EAAKA,KAAKuC,IAAKgF,GAAkBuB,GAAa,IAAIvB,EAAI,MAAMA,EAAI,MACpC,MAAxBuB,EAAUC,OAAO,KACnBD,EAAYA,EAAUE,UAAU,IAElCjB,SAASC,iBAAiB,cAAchB,QAASiB,GAAWA,EAAEgB,eAAiBH,QAE/EjL,KAAK+D,OAAOsH,MAAM,uBAGtBC,GAAOtL,KAAK+D,OAAOsH,MAAMC,KAKjC,aACEtL,KAAKsI,QAAQ5D,IAAI0F,GAAKA,EAAEb,SAAU,GAGpC,UACEvJ,KAAKsI,QAAQ5D,IAAI0F,GAAKA,EAAEb,SAAU,GAGpC,KAAKa,EAAWS,GACd,MAAMnB,EAAMU,EAAIS,GACX,EAAInB,GAAOA,GAAO1J,KAAKsI,QAAQY,OAAS,IAC3ClJ,KAAKsI,QAAU,IAAMiD,WAAWC,OAAOC,OAAO,GAAIzL,KAAKsI,SAAU8B,EAAGV,IAIxE,aAAauB,GACPA,GACFf,SAASC,iBAAiB,cAAchB,QAASiB,GAAWA,EAAEgB,eAAiBH,GAInF,iBACEf,SAASC,iBAAiB,cAAchB,QAASiB,GAAWA,EAAEgB,oBAAiBM,GAGjF,aAAaC,EAAejE,EAAekE,EAAkBvL,GAC3D,GAAIsL,GAASC,EAAU,CACrB,MAAM9F,EAAS,GAOf,GANA9F,KAAK6L,WAAW7L,KAAKoI,MAAMY,QAAS2C,GAAOnC,OAAO9E,IAAKoH,IACrD,MAAMlC,EAAiB,QAATvJ,EAAiByL,EAAE5F,UAAY4F,EAAE1F,WAC3CpG,KAAK6I,YAAY+C,GAAUlE,EAAOkC,IACpC9D,EAAOuD,KAAK,CAAEK,IAAKoC,EAAEnC,MAAOC,YAG5B9D,EAAOoD,OAAQ,CACjBlJ,KAAK+L,aAAa1L,EAAMsL,GACxB3L,KAAK6L,WAAW7L,KAAKsI,QAASqD,GAAOK,QAAUlG,EAC/CoE,SAAS+B,eAAeN,GAAgB,QAAI7F,EAAOpB,IAAKuB,GAAWA,EAAEyD,KACrE,MAAMwC,EAAUhC,SAAS+B,eAAe,YAAcN,GAAOQ,qBAAqB,KAAK,GACvFD,EAAQE,UAAY,+BAA+BpM,KAAK0I,UAAU2D,KAAKC,GAAKA,EAAE1D,KAAOgD,GAAUjD,QAAQjB,IACvGwE,EAAQK,MAAMC,WAAa,eAE3BxM,KAAKyM,eAAed,GACpB3L,KAAK+D,OAAO2I,KAAK1M,KAAK6L,WAAW7L,KAAKsI,QAASqD,GAAO7E,KAAO,0BAKnE,eAAe6E,GACbzB,SAAS+B,eAAeN,GAAgB,aAAID,EAC5C1L,KAAK6L,WAAW7L,KAAKsI,QAASqD,GAAOK,QAAU,KAC/ChM,KAAK6H,QAAU7H,KAAK6H,QAAQ8E,OAAOC,GAAKA,EAAEC,MAAQlB,GAClDzB,SAAS+B,eAAe,YAAcN,GAAOQ,qBAAqB,KAAK,GAAGC,UAAY,GACtFlC,SAAS+B,eAAe,YAAcN,GAAOY,MAAMC,WAAa,SAGlE,oBACEtC,SAASC,iBAAiB,gBAAgBhB,QAASiB,GAAWA,EAAE4B,aAAUN,GAC1E1L,KAAKsI,QAAQ5D,IAAIkE,GAAMA,EAAGoD,QAAU,MAGtC,oBAAoBpB,GAClB,OAAOA,EAAOlG,IAAKoI,KAGbC,UAAW,QACXpD,MAAOmD,EAAMnD,MACbqD,IAAKF,EAAME,IACXnD,MAAOiD,EAAMjD,SAMrB,2BAA2BoD,GACzB,MAAO,IAAIA,EAAIC,MAAM,IAAIC,KAAK,SAGhC,eACEnN,KAAKoN,oBACLpN,KAAK6H,QAAQnD,IAAKkI,IACZA,EAAEC,KAAOD,EAAEhE,IACb5I,KAAKqN,aAAaT,EAAEC,IAAKD,EAAElF,MAAOkF,EAAEhE,GAAIgE,EAAEvM,QAG9CL,KAAKmI,WAAY,EAGnB,YACMnI,KAAK6H,QAAQqB,OAASlJ,KAAKsI,QAAQY,QACrClJ,KAAK6H,QAAQwB,KAAK,CAChBT,GAAI5I,KAAK0I,UAAU,GAAGE,GACtBiE,IAAK7M,KAAKsI,QAAQtI,KAAK6H,QAAQqB,QAAQI,MACvCjJ,KAAM,QAKZ,YAAYwM,GACV7M,KAAKgI,MAAMsF,OAAO,CAChBvM,UAAW,EACXwM,gBAAiB,eACjBC,kBAAmB,CACjB1H,OAAQ9F,KAAKoI,MAAMY,QAAQqD,KAAKjD,GAAKA,EAAEE,QAAUuD,GAAKrD,QAExDiE,SAAU,OAId,eAAeZ,GACb7M,KAAKgI,MAAMsF,OAAO,CAChBvM,UAAW,EACXwM,gBAAiB,eACjBC,kBAAmB,CACjB1H,OAAQ9F,KAAKsI,QAAQ+D,KAAKjD,GAAKA,EAAEE,QAAUuD,GAAKb,SAElDyB,SAAU,OAId,cAAcZ,GACZ,IAAI1K,EAAO,KACX,GAAI0K,EAAK,CACP,MAAMjE,EAAK5I,KAAK6L,WAAW7L,KAAKsI,QAASuE,GACzC1K,EAAO,CAAC,CAAE2E,KAAM8B,EAAG9B,KAAM3E,KAAMyG,EAAGzG,YAElCA,EAAOnC,KAAKoI,MAAMY,QAAQtE,IAAIuB,KAE1Ba,KAAMb,EAAEa,KACR3E,KAAM8D,EAAEuD,OAAO9E,IAAIoH,KAEf4B,SAAU5B,EAAEnC,MACZzD,UAAW4F,EAAE5F,UACbE,WAAY0F,EAAE1F,iBAMpBjE,GACFnC,KAAK6F,SAASgB,kBAAkB1E,EAAM0K,GAAO,cAC7C7M,KAAK+D,OAAOiB,QAAQ,+CAEpBhF,KAAK+D,OAAOsH,MAAM,qBAItB,aAAawB,GACPA,GACF7M,KAAK6L,WAAW7L,KAAKsI,QAASuE,GAAKhD,MAAQ7J,KAAK8J,iBAChDI,SAAS+B,eAAeY,GAAKxC,aAAa,QAASrK,KAAK6L,WAAW7L,KAAKsI,QAASuE,GAAKhD,SAEtF7J,KAAKsI,QAAQa,QAAQmD,GAAKA,EAAEzC,MAAQ7J,KAAK8J,kBACzCI,SAASC,iBAAiB,gBAAgBhB,QAAQ,CAACiB,EAAQS,IAAcT,EAAEC,aAAa,QAASrK,KAAKsI,QAAQuC,GAAGhB,SAIrH,iBAEE,IAAIA,EAAQ,IACZ,IAAK,IAAIgB,EAAI,EAAGA,EAAI,EAAGA,IACrBhB,GAHc,mBAGGvD,KAAKqH,MAAsB,GAAhBrH,KAAKsH,WAEnC,OAAO/D,EAGT,gBAAgBgD,GACd,GAAIA,EAAK,CACP,MAAMF,EAAS3M,KAAK6H,QAAQ8E,OAAOC,GAAKA,EAAEC,MAAQA,GAClD7M,KAAK6N,OAAOlB,IAIhB,OAAO9E,GACL7H,KAAKkI,OAAO4F,eACZ9N,KAAK8D,YAAY+J,OAAO7N,KAAKiI,MAAM8F,SAAS5L,KAAK6L,QAAQ9I,GAAI,CAAE2C,QAASA,GAAW,KAAMU,KAAMvI,KAAKuI,OAAQ,IACzGhE,KAAK,OAAAC,EAAA,GAAS,IAAMxE,KAAKkI,OAAO+F,gBAChCxJ,UAAWgF,IACVzJ,KAAK+D,OAAOiB,QAAQ,oCACpBhF,KAAK6F,SAASqI,WAAWzE,EAAEtH,KAAMsH,EAAE0E,SAAU1E,EAAE2E,WAE/C9C,GAAOtL,KAAK+D,OAAOsH,MAAMC,IAI/B,aAAajL,EAAciJ,GACzBY,SAAS+B,eAAe3C,GAAa,KAAItJ,KAAK6L,WAAW7L,KAAKoI,MAAMY,QAASM,GAAOE,OAAO9E,IAAKoH,KAE5FpC,IAAKoC,EAAEnC,MACPC,MAAgB,QAATvJ,EAAiByL,EAAE5F,UAAY4F,EAAE1F,cAG5CpG,KAAKsI,QAAQ+D,KAAKC,GAAKA,EAAEhD,QAAUA,GAAOjJ,KAAOA,EAGnD,WAAW8B,EAAamH,GACtB,OAAOnH,EAAKkK,KAAKC,GAAKA,EAAEhD,QAAUA,GAGpC,eAAeA,EAAejJ,GAC5BL,KAAKoI,MAAMY,QAAQqD,KAAKjD,GAAKA,EAAEE,QAAUA,GAAOE,OAAO9E,IAAKoH,KAExDpC,IAAKoC,EAAEnC,MACPC,MAAgB,QAATvJ,EAAiByL,EAAE5F,UAAY4F,EAAE1F,e,6CAjUnC0B,GAAsB,wE,uBAAtBA,EAAsB,2D,MAAA,M,2lIDtCnC,gBAEE,gBAEE,gBACE,cACE,sBACA,cACF,OACF,OAEA,gBACE,cACE,cACA,mBACA,eACF,OACF,OAEA,iBACE,iBACE,eACA,mBAAkD,uCAAe,EAAAuG,YAAA,mBAAjE,OACF,OACF,OAEA,iBACE,wBAA4D,yCAAiB,EAAAA,YAAA,KAAjB,CAAqC,kDAC/F,+BACF,OACF,OAEA,iBACE,aACE,gBAA0B,iBAAI,kBAAQ,gBAAI,OAAU,eAAE,kBAAQ,kBAAM,OAAU,sBAChF,OACF,OAEF,OAEA,kBAEE,kBAEE,gCACE,kBAEE,kBAEE,kBACE,sCACA,oCACA,oCACA,0CACF,OAEA,iBAEE,kBAEE,kBACE,gBAAG,8CAAqB,KACtB,gBACA,uBACF,OACF,OAEA,kBACE,gBAAG,iCAAS,EAAAC,kBACV,gBACA,2BACF,OACF,OAEA,kBAEE,kBACE,eACE,gBACA,wBACA,eACF,OACF,OAEF,OAEF,OAEF,OAEA,2BAqJF,OAEF,OACF,OAEF,OAEF,OAEF,OAEA,uBAA0B,4DAAyB,8CAAoG,IAA7H,CAAyB,6BAAqH,EAAAC,kBAEtK,mBAEE,kBACE,iBACE,gBAA4B,sCAC9B,OACF,OAEA,0BA+BA,kBACE,kBACE,gBACA,0CACF,OACA,qBAAsD,iCAAS,EAAAC,eAC7D,gBACA,2BACF,OACF,OAEA,kBACE,qBAAsD,iCAAS,EAAAA,eAC7D,gBACA,2BACF,OACF,OAEF,OAEF,OAKA,oCACE,kBACE,kBACE,kBACE,mCACF,OACA,kBACA,gBAAgB,iCAAS,EAAAC,gBACvB,gBACA,yBACF,OACA,gBAAgB,iCAAS,EAAAC,aACvB,gBACA,sBACF,OACA,kBACA,uBAIF,OACF,OACF,OAGA,oCACE,kBACE,kBACE,kBACE,yBACF,OACA,kBACA,gBAAgB,iCAAS,EAAA3H,mBACvB,iBACA,oBACF,OACA,mBACA,mBACE,sBACF,OACA,iBAAgB,0BAAqB,OAArB,QAAgB,EAAM,EAAA8G,OAAA,OACpC,iBACA,0BACF,OACA,iBAAgB,0BAAoB,OAApB,QAAgB,EAAK,EAAAA,OAAA,OACnC,iBACA,8BACA,mBACE,sBACF,OACF,OACF,OACF,OACF,OAGA,qCACE,kBACE,kBACE,iBACA,4BACF,OACA,kBAAiB,iCAAS,EAAAc,oBACxB,iBACA,8BACF,OACF,OACF,OAEA,6C,yDA5XuC,iCAOA,iCAQA,kDAO4E,iCAChG,kCAiDkC,kCAaO,kCAgKlD,4BAAe,wBAAf,CAAe,mCAUD,kCA+BgB,wCAK0C,mFAM3D,yCAC2D,mFA6BT,mCA0CiB,sC,8gBChVnF,G,sBCrCP,8B,wCAkCgB,eAA0C,6DACxC,eACA,4BACF,Q,uGA4MI,iBAAmB,2FAA8B,4DAA4B,QAE3E,iBACE,aAAI,QAAW,OACjB,OACA,iBACA,iBACE,QACF,OACF,O,sCANQ,sBAEa,uFAAiH,4BAElI,2B,uBA4BV,iBACE,iBACE,eACA,8GAAkG,eAA6B,qBAAU,OAAI,aAC/I,OACF,Q,MAFyG,uC,wCAIzG,iBACE,iBACE,eACA,4DACF,OACA,oBAAqD,6DACnD,oBAAQ,eACV,OACF,O,wBAH0E,yC,yBAK1E,gC,qBAAoB,2B,+UAnSlC,gBAEE,gBAEE,gBAEE,gBAEE,gBAEE,gBAEE,gBACE,eACE,QACF,OACF,OAEA,iBAEE,iBACE,mBACE,mBAAsC,S,gBAAmD,OAC3F,OACA,kBACE,mBACA,mBAAoC,S,qBAAmC,OACzE,OACF,OAEA,kBAEE,uBAKA,gBAAsB,mEACpB,gBACA,4BACF,OAEF,OAEF,OAEA,kBACE,kBACE,kBACE,gBACA,kBACE,gBAA+D,qBAAS,OACxE,aAAG,mCAAuB,OAC5B,OACF,OACA,kBACE,gBACA,kBACE,gBAA6D,qBAAS,OACtE,aAAG,2CAA+B,OACpC,OACF,OACF,OACF,OAEA,kBACE,kBACE,oBACA,qBACE,kBAAK,gBACP,OACF,OACF,OAEF,OAEF,OAEF,OAEF,OAEA,kBAEE,iBAEE,iBAEE,kBAEE,kBACE,kBACE,cAAI,6BAAiB,OACvB,OACF,OAEA,kBAEE,iBAEE,kBACE,aAAG,SAAiC,OACtC,OAEA,kBAEE,kBACE,iBAAO,kBAAM,OACb,SACF,OAEA,kBACE,iBAAO,6BAAiB,OACxB,SACF,OAEA,kBACE,iBAAO,qBAAS,OAChB,gBACF,OAEA,kBACE,gBAAqF,+BAAmB,gBAAmC,OAC7I,OAEA,kBACE,gBAA0C,oCAAwB,gBAAmC,OACvG,OAEF,OAEF,OAEF,OAEA,kBAEE,iBACE,iBACE,gBACA,sBACF,OACF,OAEA,iBACE,aAAG,oBAAQ,gBAAgE,iCAAqB,OAAK,0BAAa,OAElH,kBACE,kBACE,iBAAO,iBAAK,OACZ,gBACE,SACF,OACF,OACA,kBACE,iBAAO,yBAAY,OACnB,UACF,OACF,OAEF,OAEF,OAEA,mBAEE,kBACE,kBACE,iBACA,uBACF,OACF,OAEA,kBACE,cAAI,iBAA0B,uDAAyC,OAEvE,qBAEE,kBACE,eACE,eAAI,gBAAG,OACP,kBAAiB,oGACf,UACF,OACA,eACE,mBAAQ,mBAAM,OACd,UACF,OACF,OACA,eACE,eAAI,oBAAO,OACX,kBAAiB,wGACf,UACF,OACA,eACE,mBAAQ,mBAAM,OACd,UACF,OACF,OACF,OAEF,OACF,OAEF,OAEA,mBAEE,kBACE,kBACE,qBACF,OACF,OAEA,mBACE,kBACE,mBACE,cAAI,iBAA0B,kDAAoC,OACpE,OACA,mBACE,mBAAQ,mBAAM,OAAU,UAC1B,OACA,mBACE,mBAAQ,iBAAI,OAAU,UACxB,OACA,mBACE,mBAAQ,oBAAO,OAAU,UAC3B,OACA,mBACE,iBAAgB,UAAqC,OACvD,OACF,OACF,OAEA,kBAEE,mBACE,mBAEE,0BAWF,OACF,OAEF,OAEF,OAEF,OAEF,OAEF,OAEF,OAEA,mBAEE,kBACE,mBAEE,mBAEE,mBAEE,0BAOA,0BAUA,yCAEF,OAEF,OAEF,OACF,OAEF,OAEF,OA9SF,O,uBAcgB,qCAQQ,8CAAgC,oEAGH,kGACC,wEAMvB,0CAmCI,oCAC4D,2CAgC5D,yDACd,8CAOD,+CAKA,mDAKuB,+FAIY,+DAIhC,oDAmBO,+DAKP,8DACD,sDAKF,wDA0BI,mDAIA,6DAMA,sDAIA,6DAuBwC,wCACpB,qEAEoB,uCACtB,mEAEsB,uCACnB,mFAGT,wDAUmE,mDAiCtD,mDAEC,2CAOA,0CAUI,yCC7Q/C,a,MAAMC,EAaX,YACU3G,EACApE,EACAC,EACA+K,EACA7G,EACAjE,EACA+K,EACA9K,GAPA,KAAAiE,QACA,KAAApE,SACA,KAAAC,cACA,KAAA+K,UACA,KAAA7G,QACA,KAAAjE,SACA,KAAA+K,YACA,KAAA9K,UAnBV,KAAAgK,QAAuB,KACvB,KAAA9J,WAAY,EACZ,KAAA6K,cAAe,EACf,KAAA1G,aAAc,EACd,KAAApD,IAAc,KACd,KAAA+J,IAAc,KAEd,KAAAC,aAAsB,KAEtB,KAAAC,SAAW,EAaX,WACElP,KAAKkE,WAAY,EACjBlE,KAAKgO,aAAc,KAAcpJ,YAAY5E,KAAKiI,MAAM8F,SAAS5L,KAAK6L,SACtEhO,KAAK8O,UAAUK,SAASnP,KAAKgO,QAAQlH,MACrC9G,KAAKoP,SAGP,cACMpP,KAAKqP,UACPC,cAActP,KAAKqP,UAIvB,SACErP,KAAK+O,cAAe,EACpB/O,KAAK6O,QAAQU,QAAQvP,KAAKgO,QAAQwB,QAC/BjL,KAAK,OAAAC,EAAA,GAAS,KACbxE,KAAKkE,WAAY,EACjBlE,KAAK+O,cAAe,KAErBtK,UACEtC,IACCnC,KAAKgO,QAAQyB,IAAMtN,EACfnC,KAAKgO,QAAQ0B,UACX1P,KAAKqP,UACPC,cAActP,KAAKqP,UAErBrP,KAAK2P,WAAa,CAChB1G,UAAWjJ,KAAKgO,QAAQ/E,UACxBD,QAAShJ,KAAKgO,QAAQyB,IAAIG,SAEnB5P,KAAKgO,QAAQ6B,aACjB7P,KAAKqP,WACRrP,KAAKqP,SAAWS,YAAY,IAAM9P,KAAKoP,SAhEpC,KAiEHpP,KAAKkP,SAAW,GAElBlP,KAAKkP,WACDlP,KAAKkP,UArEA,IAqE4BI,cAActP,KAAKqP,YAG5D/D,GAAOtL,KAAK+D,OAAOsH,MAAMC,IAI/B,gBACMzG,QAAQ,mBACV7E,KAAKkE,WAAY,EACjBlE,KAAK8D,YAAYqB,OAAOnF,KAAKgO,QAAQ9I,IAClCX,KAAK,OAAAC,EAAA,GAAS,IAAMxE,KAAKkE,WAAY,IACrCO,UAAU,KACTzE,KAAKgE,QAAQe,cACb/E,KAAK+D,OAAOiB,QAAQ,oBACpBhF,KAAK6D,OAAOkM,SAAS,CAAC,gBAEtBzE,GAAOtL,KAAK+D,OAAOsH,MAAMC,GAAO,8BAKxC,UAAU0E,GACRhQ,KAAKgI,MAAMsF,OAAO,CAChBvM,UAAW,IACXwM,gBAAiB,eACjBC,kBAAmB,CACjByC,IAAKD,GAEPvC,SAAU,Q,6CA1FHmB,GAAgB,gF,uBAAhBA,EAAgB,6lFDxB7B,uCAEA,2B,MAFqB,yBAEyB,oC,m/FCsBvC,G,iBCjBP,MAAM,GAAiB,CACrB,CAAEsB,KAAM,GAAIC,UAAW,GACvB,CAAED,K,UAAM,EAAIE,UAAUC,OAAQF,UAAW,GAAkBG,QAAS,CAAEtC,QAAS,QAQ1E,a,MAAMuC,G,8BAAAA,I,oDAAAA,IAAsB,UAFtB,CAAC,MAAgB,SAFnB,CAAC,IAAaC,SAAS,KACtB,O,GAGL,G,iBCjBP,iDA2CO,a,MAAMC,G,8BAAAA,I,oDAAAA,IAAe,SAdjB,CACP,IACA,GACA,KACA,IACA,IACA,IACA,EACA,Q,GAMG","file":"x","sourcesContent":["import { Component, ChangeDetectionStrategy, ViewEncapsulation, ChangeDetectorRef, Host, Optional, Input, ContentChild, Directive, ElementRef, ViewContainerRef, ComponentFactoryResolver, Renderer2, NgModule } from '@angular/core';\nimport { zoomBigMotion, NzNoAnimationDirective, NzAddOnModule, NzOverlayModule, NzNoAnimationModule } from 'ng-zorro-antd/core';\nimport { NzToolTipComponent, NzTooltipBaseComponentLegacy, NzTooltipBaseDirective, NzToolTipModule } from 'ng-zorro-antd/tooltip';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-popover.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core';\nimport * as ɵngcc2 from '@angular/cdk/overlay';\nimport * as ɵngcc3 from '@angular/common';\n\nconst _c0 = [\"neverUsedTemplate\"];\nconst _c1 = [\"nzTemplate\"];\nfunction NzPopoverComponent_ng_template_1_div_5_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r905 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r905.title);\n} }\nfunction NzPopoverComponent_ng_template_1_div_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵtemplate(1, NzPopoverComponent_ng_template_1_div_5_ng_container_1_Template, 2, 1, \"ng-container\", 8);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r903 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"nzStringTemplateOutlet\", ctx_r903.title);\n} }\nfunction NzPopoverComponent_ng_template_1_ng_container_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r904 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r904.content);\n} }\nfunction NzPopoverComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 2);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 3);\n    ɵngcc0.ɵɵelement(2, \"div\", 4);\n    ɵngcc0.ɵɵelementStart(3, \"div\", 5);\n    ɵngcc0.ɵɵelementStart(4, \"div\");\n    ɵngcc0.ɵɵtemplate(5, NzPopoverComponent_ng_template_1_div_5_Template, 2, 1, \"div\", 6);\n    ɵngcc0.ɵɵelementStart(6, \"div\", 7);\n    ɵngcc0.ɵɵtemplate(7, NzPopoverComponent_ng_template_1_ng_container_7_Template, 2, 1, \"ng-container\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r902 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r902._classMap)(\"ngStyle\", ctx_r902.nzOverlayStyle)(\"@.disabled\", ctx_r902.noAnimation == null ? null : ctx_r902.noAnimation.nzNoAnimation)(\"nzNoAnimation\", ctx_r902.noAnimation == null ? null : ctx_r902.noAnimation.nzNoAnimation)(\"@zoomBigMotion\", \"active\");\n    ɵngcc0.ɵɵadvance(5);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r902.title);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"nzStringTemplateOutlet\", ctx_r902.content);\n} }\nconst _c2 = [\"*\"];\nclass NzPopoverComponent extends NzToolTipComponent {\n    /**\n     * @param {?} cdr\n     * @param {?=} noAnimation\n     */\n    constructor(cdr, noAnimation) {\n        super(cdr, noAnimation);\n        this.noAnimation = noAnimation;\n        this._prefix = 'ant-popover-placement';\n    }\n}\nNzPopoverComponent.ɵfac = function NzPopoverComponent_Factory(t) { return new (t || NzPopoverComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzNoAnimationDirective, 9)); };\nNzPopoverComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzPopoverComponent, selectors: [[\"nz-popover\"]], contentQueries: function NzPopoverComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticContentQuery(dirIndex, _c0, true);\n        ɵngcc0.ɵɵstaticContentQuery(dirIndex, _c1, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.nzTitleTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.nzContentTemplate = _t.first);\n    } }, inputs: { nzTitle: \"nzTitle\", nzContent: \"nzContent\" }, exportAs: [\"nzPopoverComponent\"], features: [ɵngcc0.ɵɵProvidersFeature([\n            {\n                provide: NzTooltipBaseComponentLegacy,\n                useExisting: NzPopoverComponent\n            }\n        ]), ɵngcc0.ɵɵInheritDefinitionFeature], ngContentSelectors: _c2, decls: 3, vars: 4, consts: [[\"cdkConnectedOverlay\", \"\", \"nzConnectedOverlay\", \"\", 3, \"cdkConnectedOverlayOrigin\", \"cdkConnectedOverlayHasBackdrop\", \"cdkConnectedOverlayPositions\", \"cdkConnectedOverlayOpen\", \"backdropClick\", \"detach\", \"positionChange\"], [\"overlay\", \"cdkConnectedOverlay\"], [1, \"ant-popover\", 3, \"ngClass\", \"ngStyle\", \"nzNoAnimation\"], [1, \"ant-popover-content\"], [1, \"ant-popover-arrow\"], [\"role\", \"tooltip\", 1, \"ant-popover-inner\"], [\"class\", \"ant-popover-title\", 4, \"ngIf\"], [1, \"ant-popover-inner-content\"], [4, \"nzStringTemplateOutlet\"], [1, \"ant-popover-title\"]], template: function NzPopoverComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵprojection(0);\n        ɵngcc0.ɵɵtemplate(1, NzPopoverComponent_ng_template_1_Template, 8, 7, \"ng-template\", 0, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵlistener(\"backdropClick\", function NzPopoverComponent_Template_ng_template_backdropClick_1_listener($event) { return ctx.hide(); })(\"detach\", function NzPopoverComponent_Template_ng_template_detach_1_listener($event) { return ctx.hide(); })(\"positionChange\", function NzPopoverComponent_Template_ng_template_positionChange_1_listener($event) { return ctx.onPositionChange($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"cdkConnectedOverlayOrigin\", ctx.origin)(\"cdkConnectedOverlayHasBackdrop\", ctx._hasBackdrop)(\"cdkConnectedOverlayPositions\", ctx._positions)(\"cdkConnectedOverlayOpen\", ctx._visible);\n    } }, directives: [ɵngcc2.CdkConnectedOverlay, ɵngcc1.NzConnectedOverlayDirective, ɵngcc3.NgClass, ɵngcc3.NgStyle, ɵngcc1.NzNoAnimationDirective, ɵngcc3.NgIf, ɵngcc1.NzStringTemplateOutletDirective], styles: [\"\\n      .ant-popover {\\n        position: relative;\\n      }\\n    \"], encapsulation: 2, data: { animation: [zoomBigMotion] }, changeDetection: 0 });\n/** @nocollapse */\nNzPopoverComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: NzNoAnimationDirective, decorators: [{ type: Host }, { type: Optional }] }\n];\nNzPopoverComponent.propDecorators = {\n    nzTitle: [{ type: Input }],\n    nzTitleTemplate: [{ type: ContentChild, args: ['neverUsedTemplate', { static: true },] }],\n    nzContent: [{ type: Input }],\n    nzContentTemplate: [{ type: ContentChild, args: ['nzTemplate', { static: true },] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzPopoverComponent, [{\n        type: Component,\n        args: [{\n                selector: 'nz-popover',\n                exportAs: 'nzPopoverComponent',\n                animations: [zoomBigMotion],\n                template: \"<ng-content></ng-content>\\n<ng-template\\n  #overlay=\\\"cdkConnectedOverlay\\\"\\n  cdkConnectedOverlay\\n  nzConnectedOverlay\\n  [cdkConnectedOverlayOrigin]=\\\"origin\\\"\\n  [cdkConnectedOverlayHasBackdrop]=\\\"_hasBackdrop\\\"\\n  (backdropClick)=\\\"hide()\\\"\\n  (detach)=\\\"hide()\\\"\\n  (positionChange)=\\\"onPositionChange($event)\\\"\\n  [cdkConnectedOverlayPositions]=\\\"_positions\\\"\\n  [cdkConnectedOverlayOpen]=\\\"_visible\\\">\\n  <div class=\\\"ant-popover\\\"\\n    [ngClass]=\\\"_classMap\\\"\\n    [ngStyle]=\\\"nzOverlayStyle\\\"\\n    [@.disabled]=\\\"noAnimation?.nzNoAnimation\\\"\\n    [nzNoAnimation]=\\\"noAnimation?.nzNoAnimation\\\"\\n    [@zoomBigMotion]=\\\"'active'\\\">\\n    <div class=\\\"ant-popover-content\\\">\\n      <div class=\\\"ant-popover-arrow\\\"></div>\\n      <div class=\\\"ant-popover-inner\\\" role=\\\"tooltip\\\">\\n        <div>\\n          <div class=\\\"ant-popover-title\\\" *ngIf=\\\"title\\\">\\n            <ng-container *nzStringTemplateOutlet=\\\"title\\\">{{ title }}</ng-container>\\n          </div>\\n          <div class=\\\"ant-popover-inner-content\\\">\\n            <ng-container *nzStringTemplateOutlet=\\\"content\\\">{{ content }}</ng-container>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ng-template>\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                providers: [\n                    {\n                        provide: NzTooltipBaseComponentLegacy,\n                        useExisting: NzPopoverComponent\n                    }\n                ],\n                preserveWhitespaces: false,\n                styles: [`\n      .ant-popover {\n        position: relative;\n      }\n    `]\n            }]\n    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.NzNoAnimationDirective, decorators: [{\n                type: Host\n            }, {\n                type: Optional\n            }] }]; }, { nzTitle: [{\n            type: Input\n        }], nzTitleTemplate: [{\n            type: ContentChild,\n            args: ['neverUsedTemplate', { static: true }]\n        }], nzContent: [{\n            type: Input\n        }], nzContentTemplate: [{\n            type: ContentChild,\n            args: ['nzTemplate', { static: true }]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    NzPopoverComponent.prototype._prefix;\n    /**\n     * Use `neverUsedTemplate` to force `nzTemplate` to be catched by `nzPopoverContent`.\n     * @type {?}\n     */\n    NzPopoverComponent.prototype.nzTitle;\n    /** @type {?} */\n    NzPopoverComponent.prototype.nzTitleTemplate;\n    /** @type {?} */\n    NzPopoverComponent.prototype.nzContent;\n    /** @type {?} */\n    NzPopoverComponent.prototype.nzContentTemplate;\n    /** @type {?} */\n    NzPopoverComponent.prototype.noAnimation;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-popover.directive.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzPopoverDirective extends NzTooltipBaseDirective {\n    /**\n     * @param {?} elementRef\n     * @param {?} hostView\n     * @param {?} resolver\n     * @param {?} renderer\n     * @param {?} tooltip\n     * @param {?=} noAnimation\n     */\n    constructor(elementRef, hostView, resolver, renderer, tooltip, noAnimation) {\n        super(elementRef, hostView, resolver, renderer, tooltip, noAnimation);\n        this.noAnimation = noAnimation;\n        this.componentFactory = this.resolver.resolveComponentFactory(NzPopoverComponent);\n    }\n}\nNzPopoverDirective.ɵfac = function NzPopoverDirective_Factory(t) { return new (t || NzPopoverDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(NzPopoverComponent, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzNoAnimationDirective, 9)); };\nNzPopoverDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: NzPopoverDirective, selectors: [[\"\", \"nz-popover\", \"\"]], hostVars: 2, hostBindings: function NzPopoverDirective_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"ant-popover-open\", ctx.isTooltipComponentVisible);\n    } }, inputs: { specificTitle: [\"nzPopoverTitle\", \"specificTitle\"], specificContent: [\"nzPopoverContent\", \"specificContent\"], directiveNameTitle: [\"nz-popover\", \"directiveNameTitle\"], specificTrigger: [\"nzPopoverTrigger\", \"specificTrigger\"], specificPlacement: [\"nzPopoverPlacement\", \"specificPlacement\"] }, exportAs: [\"nzPopover\"], features: [ɵngcc0.ɵɵInheritDefinitionFeature] });\n/** @nocollapse */\nNzPopoverDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ViewContainerRef },\n    { type: ComponentFactoryResolver },\n    { type: Renderer2 },\n    { type: NzPopoverComponent, decorators: [{ type: Optional }] },\n    { type: NzNoAnimationDirective, decorators: [{ type: Host }, { type: Optional }] }\n];\nNzPopoverDirective.propDecorators = {\n    specificTitle: [{ type: Input, args: ['nzPopoverTitle',] }],\n    specificContent: [{ type: Input, args: ['nzPopoverContent',] }],\n    directiveNameTitle: [{ type: Input, args: ['nz-popover',] }],\n    specificTrigger: [{ type: Input, args: ['nzPopoverTrigger',] }],\n    specificPlacement: [{ type: Input, args: ['nzPopoverPlacement',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzPopoverDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[nz-popover]',\n                exportAs: 'nzPopover',\n                host: {\n                    '[class.ant-popover-open]': 'isTooltipComponentVisible'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc0.ComponentFactoryResolver }, { type: ɵngcc0.Renderer2 }, { type: NzPopoverComponent, decorators: [{\n                type: Optional\n            }] }, { type: ɵngcc1.NzNoAnimationDirective, decorators: [{\n                type: Host\n            }, {\n                type: Optional\n            }] }]; }, { specificTitle: [{\n            type: Input,\n            args: ['nzPopoverTitle']\n        }], specificContent: [{\n            type: Input,\n            args: ['nzPopoverContent']\n        }], directiveNameTitle: [{\n            type: Input,\n            args: ['nz-popover']\n        }], specificTrigger: [{\n            type: Input,\n            args: ['nzPopoverTrigger']\n        }], specificPlacement: [{\n            type: Input,\n            args: ['nzPopoverPlacement']\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    NzPopoverDirective.prototype.specificTitle;\n    /** @type {?} */\n    NzPopoverDirective.prototype.specificContent;\n    /** @type {?} */\n    NzPopoverDirective.prototype.directiveNameTitle;\n    /** @type {?} */\n    NzPopoverDirective.prototype.specificTrigger;\n    /** @type {?} */\n    NzPopoverDirective.prototype.specificPlacement;\n    /** @type {?} */\n    NzPopoverDirective.prototype.componentFactory;\n    /** @type {?} */\n    NzPopoverDirective.prototype.noAnimation;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-popover.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzPopoverModule {\n}\nNzPopoverModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NzPopoverModule });\nNzPopoverModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NzPopoverModule_Factory(t) { return new (t || NzPopoverModule)(); }, imports: [[CommonModule, OverlayModule, NzAddOnModule, NzOverlayModule, NzNoAnimationModule, NzToolTipModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzPopoverModule, { declarations: function () { return [NzPopoverDirective,\n        NzPopoverComponent]; }, imports: function () { return [CommonModule, OverlayModule, NzAddOnModule, NzOverlayModule, NzNoAnimationModule, NzToolTipModule]; }, exports: function () { return [NzPopoverDirective,\n        NzPopoverComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzPopoverModule, [{\n        type: NgModule,\n        args: [{\n                entryComponents: [NzPopoverComponent],\n                exports: [NzPopoverDirective, NzPopoverComponent],\n                declarations: [NzPopoverDirective, NzPopoverComponent],\n                imports: [CommonModule, OverlayModule, NzAddOnModule, NzOverlayModule, NzNoAnimationModule, NzToolTipModule]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ng-zorro-antd-popover.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { NzPopoverComponent, NzPopoverDirective, NzPopoverModule };\n\n//# sourceMappingURL=ng-zorro-antd-popover.js.map","<div class=\"ui main container\">\n\n  <div class=\"ui padded grid p-4\">\n\n    <div class=\"one column row\">\n\n      <div class=\"column\">\n        <h1 class=\"ui header\">Recent history</h1>\n        <p>\n          Here you can find the history of all the <strong>jobs</strong> submitted.\n        </p>\n      </div>\n\n    </div>\n\n    <div class=\"two column row\">\n\n      <div class=\"column\">\n\n      </div>\n\n      <div class=\"column right aligned\">\n\n        <button type=\"button\" class=\"ui red right labeled icon button\" (click)=\"clearHistory()\" [disabled]=\"!isLoading && !histories.length\" name=\"button\">\n          Clear history <i class=\"trash icon\"></i>\n        </button>\n\n      </div>\n\n    </div>\n\n    <div class=\"one column row\">\n\n      <div class=\"column\">\n\n        <div class=\"ui placeholder segment\" *ngIf=\"!isLoading && !histories.length\">\n          <div class=\"ui icon header\">\n            <i class=\"list ul icon\"></i>\n            Yo have no history.\n          </div>\n        </div>\n\n        <div class=\"ui segment p-0\" [ngClass]=\"{'loading': isLoading}\" *ngIf=\"!isLoading && histories.length\">\n\n          <table class=\"ui very padded selectable basic table b-0\">\n\n            <thead>\n              <tr>\n                <th colspan=\"5\">\n                  Your history\n                </th>\n                <th class=\"right aligned\">\n                  {{histories.length}} entries\n                </th>\n              </tr>\n            </thead>\n\n            <tbody>\n\n              <tr [ngClass]=\"{'warning':  h.status != 'failed' && h.status != 'finished'}\" *ngFor=\"let h of histories\">\n                <td>\n                  <h3><a [routerLink]=\"[h.id]\">{{h.name}}</a></h3>\n                </td>\n                <td>\n                  <h3><a class=\"disabled\">{{h.construct.label}}</a></h3>\n                </td>\n                <td>\n                  {{h.construct.specie.name}}\n                </td>\n                <td>\n                  <time [dateTime]=\"h.created_at\">\n                    {{h.created_at | date: 'DD/MM/YYYY hh:mm'}}\n                  </time>\n                </td>\n                <td>\n                  <div class=\"ant-badge ant-badge-status ant-badge-not-a-wrapper link\" data-inverted=\"\" data-position=\"top center\" [attr.data-tooltip]=\"h.status | titlecase\">\n                    <span class=\"ant-badge-status-dot\" [ngClass]=\"{'ant-badge-status-error': h.status === 'failed',\n                      'ant-badge-status-success':  h.status === 'finished',\n                      'ant-badge-status-processing': h.status != 'failed' && h.status != 'finished'}\"></span>\n                  </div>\n                </td>\n                <td class=\"ui center aligned\">\n                  <a [sqy-clipboard]=\"h.id\" data-inverted=\"\" data-position=\"top center\" data-tooltip=\"Copy ID\">\n                    <i class=\"copy icon\"></i>\n                  </a>\n                  <a [routerLink]=\"['/editor', h.id]\" data-inverted=\"\" data-position=\"top center\" data-tooltip=\"Load on vector editor\">\n                    <i class=\"external link icon\"></i>\n                  </a>\n                  <a (click)=\"deleteHistory(h.id)\" data-inverted=\"\" data-position=\"top center\" data-tooltip=\"Delete\">\n                    <i class=\"trash link red icon\"></i>\n                  </a>\n                </td>\n              </tr>\n            </tbody>\n\n          </table>\n        </div>\n\n      </div>\n    </div>\n\n  </div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { finalize } from 'rxjs/operators';\n\nimport { NzMessageService } from 'ng-zorro-antd/message';\n\nimport { HistoryService } from './shared/history.service';\nimport { UserHistory } from './shared/user-history';\nimport { NavService } from '@services/nav.service';\n\n@Component({\n  selector: 'sqy-workspace',\n  templateUrl: './workspace.component.html',\n  styleUrls: ['./workspace.component.scss']\n})\nexport class WorkspaceComponent implements OnInit {\n\n  histories: UserHistory[] = [];\n  isLoading = false;\n\n  constructor(\n    private router: Router,\n    private historySrvc: HistoryService,\n    private notify: NzMessageService,\n    private navSrvc: NavService\n  ) {\n    this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n  }\n\n  ngOnInit() {\n    this.isLoading = true;\n    this.getUserHistory();\n  }\n\n  getUserHistory() {\n    this.isLoading = true;\n    this.historySrvc.getAll()\n      .pipe(finalize(() => this.isLoading = false))\n      .subscribe(data => this.histories = data.map((h: any) => new UserHistory().deserialize(h)) || []);\n  }\n\n  clearHistory() {\n    if (confirm('Are you sure that you want to clear history?. This action cannot be reverted.')) {\n      this.isLoading = true;\n      this.historySrvc.deleteAll()\n        .pipe(finalize(() => this.isLoading = false))\n        .subscribe(data => {\n          this.navSrvc.updateBadge();\n          this.getUserHistory();\n          this.notify.success(data.msg);\n        });\n    }\n  }\n\n  deleteHistory(id: string) {\n    if (confirm('Are you sure that you want to delete such history?. This action cannot be reverted.')) {\n      this.isLoading = true;\n      this.historySrvc.delete(id)\n        .pipe(finalize(() => this.isLoading = false))\n        .subscribe(() => {\n          this.navSrvc.updateBadge();\n          this.getUserHistory();\n          this.notify.success('History deleted!');\n        });\n    }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nimport { environment as env } from '@env/environment';\nimport { Job } from './job';\n\nconst URL_ENV = '/workspace/job/';\n\n@Injectable({ providedIn: 'root' })\nexport class JobService {\n\n  private url: string;  // URL to web api\n\n  constructor(private http: HttpClient) {\n    this.url = env.endpoints.api + URL_ENV;\n  }\n\n  getById(id: string): Observable<Job> {\n    return this.http.get<Job>(`${this.url}${id}`).pipe();\n  }\n\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'sqy-history-loading',\n  templateUrl: './history-loading.component.html',\n  styleUrls: ['./history-loading.component.scss']\n})\nexport class HistoryLoadingComponent {\n\n}\n","<div class=\"ui main fluid container p-4 mt-6\">\n\n  <div class=\"ui grid\">\n\n    <div class=\"row\">\n\n      <div class=\"ui container\">\n\n        <div class=\"sixteen wide column\">\n\n          <div class=\"ui padded one column grid\">\n\n            <div class=\"column\">\n              <div class=\"ui fluid placeholder\">\n                <div class=\"header\">\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"two column row\">\n\n              <div class=\"column\">\n\n              </div>\n\n              <div class=\"column txt-r\">\n\n                <a class=\"disabled\">\n                  <i class=\"trash icon\"></i>\n                  Delete history\n                </a>\n\n              </div>\n\n            </div>\n\n            <div class=\"column\">\n              <div class=\"ui fluid placeholder\">\n                <div class=\"paragraph\">\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"column\">\n              <div class=\"ui placeholder\">\n                <div class=\"paragraph\">\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n    <div class=\"row\">\n\n      <div class=\"ui container\">\n\n        <div class=\"sixteen wide column\">\n\n          <div class=\"ui padded form grid\">\n\n            <div class=\"one column row\">\n              <div class=\"column txt-c\">\n                <h2>Construct summary</h2>\n              </div>\n            </div>\n\n            <div class=\"one column row\">\n\n              <div class=\"column\">\n\n                <div class=\"field\">\n                  <div class=\"ui fluid placeholder\">\n                    <div class=\"paragraph\">\n                      <div class=\"line\"></div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"four inline fields\">\n\n                  <div class=\"field\">\n                    <div class=\"ui fluid placeholder\">\n                      <div class=\"paragraph\">\n                        <div class=\"line\"></div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"field\">\n                    <div class=\"ui fluid placeholder\">\n                      <div class=\"paragraph\">\n                        <div class=\"line\"></div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"field\">\n                    <div class=\"ui fluid placeholder\">\n                      <div class=\"paragraph\">\n                        <div class=\"line\"></div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"field\">\n                    <div class=\"ui fluid placeholder\">\n                      <div class=\"paragraph\">\n                        <div class=\"line\"></div>\n                      </div>\n                    </div>\n                  </div>\n\n                </div>\n\n              </div>\n\n            </div>\n\n            <div class=\"one column row\">\n\n              <div class=\"column\">\n                <h4 class=\"ui horizontal divider header\">\n                  <i class=\"bug icon\"></i>\n                  Organism\n                </h4>\n              </div>\n\n              <div class=\"column\">\n                <div class=\"ui placeholder\">\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                  <div class=\"line\"></div>\n                </div>\n\n              </div>\n\n            </div>\n\n            <div class=\"one column row\">\n\n              <div class=\"column\">\n                <h4 class=\"ui horizontal divider header\">\n                  <i class=\"dna icon\"></i>\n                  Sequence\n                </h4>\n              </div>\n\n              <div class=\"column\">\n                <p> <i class=\"info icon\"></i> Click on sequence to display full content</p>\n\n                <table class=\"ui blue padded sequence definition table\">\n\n                  <tbody>\n                    <tr>\n                      <th>DNA</th>\n                      <td class=\"link\">\n                      </td>\n                      <td>\n                        <strong>Total:</strong>\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>Protein</th>\n                      <td class=\"link\">\n                      </td>\n                      <td>\n                        <strong>Total:</strong>\n                      </td>\n                    </tr>\n                  </tbody>\n\n                </table>\n              </div>\n\n            </div>\n\n            <div class=\"one column row\">\n\n              <div class=\"column\">\n                <h4 class=\"ui horizontal divider header\">\n                  Tracks\n                </h4>\n              </div>\n\n              <div class=\"column txt-r\">\n                <!-- <p class=\"meta\">{{history.construct.n_tracks}} tracks</p> -->\n              </div>\n\n              <div class=\"column\">\n\n                <div class=\"construct\">\n                  <div class=\"strand\">\n\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n    <div class=\"one column row\">\n\n      <div class=\"column\">\n        <div class=\"ui fluid placeholder\">\n          <div class=\"paragraph\">\n            <div class=\"line\"></div>\n            <div class=\"line\"></div>\n            <div class=\"line\"></div>\n            <div class=\"line\"></div>\n            <div class=\"line\"></div>\n          </div>\n          <div class=\"paragraph\">\n            <div class=\"line\"></div>\n            <div class=\"line\"></div>\n            <div class=\"line\"></div>\n            <div class=\"line\"></div>\n            <div class=\"line\"></div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n  </div>\n","<!-- Values viewer modal-->\n<div class=\"ui padded grid\">\n\n  <div class=\"two column row\">\n    <div class=\"column\">\n      <strong> Total score:</strong>{{_values?.length}}\n    </div>\n    <div class=\"column pr-5 right aligned\">\n      <a class=\"ui simple dropdown\">\n        <div class=\"text\">\n          <i class=\"download icon\"></i>\n          Export\n        </div>\n        <i class=\"dropdown icon\"></i>\n        <div class=\"menu\">\n          <div class=\"header\">\n            Export As\n          </div>\n          <a class=\"item\" (click)=\"exportToExcel()\">\n            <i class=\"file excel icon\"></i>\n            Excel\n          </a>\n          <a class=\"item\">\n            <i class=\"dna icon\"></i>\n            GenBank\n          </a>\n        </div>\n      </a>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"column\">\n      <table class=\"ui definition small table\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Maximum value</th>\n            <th>Minimum value</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td class=\"collapsing\">Raw scores</td>\n            <td>{{max_raw}}</td>\n            <td>{{min_raw}}</td>\n          </tr>\n          <tr>\n            <td class=\"collapsing\">Normalized scores</td>\n            <td>{{max_norm}}</td>\n            <td>{{min_norm}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  <div class=\"row\">\n\n    <div class=\"column\">\n      <table class=\"ui selectable small table\">\n\n        <thead>\n          <tr>\n            <th>\n              Start\n            </th>\n            <th>\n              End\n            </th>\n            <th>\n              Raw values\n            </th>\n            <th>\n              Normalized values\n            </th>\n          </tr>\n        </thead>\n\n        <tbody>\n\n          <tr *ngFor=\"let v of _values\">\n            <td>\n              {{v.start}}\n            </td>\n            <td>\n              {{v.end}}\n            </td>\n            <td>\n              {{v.raw_score}}\n            </td>\n            <td>\n              {{v.norm_score}}\n            </td>\n          </tr>\n\n        </tbody>\n\n      </table>\n    </div>\n  </div>\n\n</div>\n","import { Component, Input } from '@angular/core';\n\nimport { NzMessageService } from 'ng-zorro-antd/message';\n\nimport { FileService } from '@services/file.service';\n\n@Component({\n  selector: 'sqy-display-values',\n  templateUrl: './display-values.component.html',\n  styleUrls: ['./display-values.component.scss']\n})\nexport class DisplayValuesComponent {\n\n  _values: any[];\n  max_raw: number;\n  min_raw: number;\n  max_norm: number;\n  min_norm: number;\n\n  @Input() set values(values: any[]) {\n    this._values = [];\n    if (values) {\n      this._values = values;\n      const raw = this._values.map(v => v.raw_score);\n      const norm = this._values.map(v => v.norm_score);\n      this.max_raw = Math.max.apply(Math, raw);\n      this.min_raw = Math.min.apply(Math, raw);\n      this.max_norm = Math.max.apply(Math, norm);\n      this.min_norm = Math.min.apply(Math, norm);\n    }\n  }\n\n  constructor(\n    private fileSrvc: FileService,\n    private notify: NzMessageService\n  ) { }\n\n  exportToExcel() {\n    if (this.values) {\n      this.fileSrvc.exportAsExcelFile([{ name: 'Scores', data: this.values }], 'sample');\n      this.notify.success('Exported successfully!');\n    }\n  }\n\n}\n","<!-- Values viewer modal-->\n<div class=\"ui padded grid\">\n\n  <div class=\"two column row\">\n    <div class=\"column\">\n      <strong> Total score:</strong>{{values?.length}}\n    </div>\n    <div class=\"column pr-5 right aligned\">\n      <a class=\"ui simple dropdown\">\n        <div class=\"text\">\n          <i class=\"download icon\"></i>\n          Export\n        </div>\n        <i class=\"dropdown icon\"></i>\n        <div class=\"menu\">\n          <div class=\"header\">\n            Export As\n          </div>\n          <a class=\"item\" (click)=\"exportToExcel()\">\n            <i class=\"file excel icon\"></i>\n            Excel\n          </a>\n          <a class=\"item\">\n            <i class=\"dna icon\"></i>\n            GenBank\n          </a>\n        </div>\n      </a>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"column\">\n      <table class=\"ui selectable small table\">\n\n        <thead>\n          <tr>\n            <th>\n              Positions\n            </th>\n            <th>\n              Score\n            </th>\n          </tr>\n        </thead>\n\n        <tbody>\n\n          <tr *ngFor=\"let v of values\">\n            <td>\n              {{v.pos}}\n            </td>\n            <td>\n              {{v.score}}\n            </td>\n          </tr>\n\n        </tbody>\n\n      </table>\n    </div>\n  </div>\n\n</div>\n","import { Component, Input } from '@angular/core';\n\nimport { NzMessageService } from 'ng-zorro-antd/message';\n\nimport { FileService } from '@services/file.service';\n\n@Component({\n  selector: 'sqy-display-threshold',\n  templateUrl: './display-threshold.component.html',\n  styleUrls: ['./display-threshold.component.scss']\n})\nexport class DisplayThresholdComponent {\n\n  constructor(\n    private fileSrvc: FileService,\n    private notify: NzMessageService\n  ) { }\n\n  @Input() values: any[];\n\n  exportToExcel() {\n    if (this.values) {\n      this.fileSrvc.exportAsExcelFile(this.values, 'sample');\n      this.notify.success('Exported successfully!');\n    }\n  }\n\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\n\n@Component({\n  selector: 'sqy-set-highlight',\n  templateUrl: './set-highlight.component.html',\n  styleUrls: ['./set-highlight.component.scss']\n})\nexport class SetHighlightComponent implements OnInit {\n\n  @Input() max: number;\n  @Output() onSet = new EventEmitter<string>();\n  highlightForm: FormGroup;\n\n  constructor(private builder: FormBuilder) { }\n\n  get from() {\n    return this.highlightForm.get('from');\n  }\n\n  get to() {\n    return this.highlightForm.get('to');\n  }\n\n  ngOnInit(): void {\n    this.highlightForm = this.builder.group({\n      from: [0, Validators.compose([\n        Validators.min(0),\n        Validators.required,\n        Validators.max(this.max - 1)\n      ])],\n      to: [this.max, Validators.compose([\n        Validators.required,\n        Validators.min(1),\n        Validators.max(this.max)\n      ])]\n    });\n  }\n\n  set() {\n    if (this.from.value < this.to.value) {\n      this.onSet.emit(`${this.from.value}:${this.to.value}`);\n    }\n  }\n\n}\n","<form class=\"ui tiny form\" [formGroup]=\"highlightForm\" (ngSubmit)=\"set()\">\n\n  <div class=\"fields\">\n\n    <div class=\"field\" [ngClass]=\"{'error': from.invalid && (from.dirty || from.touched)}\">\n      <label>From</label>\n      <input type=\"number\" placeholder=\"From\" required name=\"highl-from\" formControlName=\"from\">\n    </div>\n\n    <div class=\"field\" [ngClass]=\"{'error': to.invalid && (to.dirty || to.touched)}\">\n      <label>To</label>\n      <input type=\"number\" placeholder=\"Max: {{max}}\" required name=\"highl-to\" formControlName=\"to\">\n    </div>\n\n  </div>\n\n  <div class=\"field\">\n    <button type=\"submit\" class=\"ui fluid primary button\" [disabled]=\"highlightForm.invalid\">Set</button>\n  </div>\n\n</form>\n","<div class=\"ui vertically divided grid\">\n\n  <div class=\"equal width center aligned middle aligned row\" style=\"padding: 0em\">\n\n    <div class=\"column\">\n      <a nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"hgMenu\" nzPlacement=\"bottomCenter\">\n        Highlight\n        <i class=\"dropdown icon\"></i>\n      </a>\n    </div>\n\n    <div class=\"column\">\n      <a nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"exMenu\">\n        <i class=\"download icon\"></i>\n        Export\n        <i class=\"dropdown icon\"></i>\n      </a>\n    </div>\n\n    <div class=\"column\">\n      <div class=\"ui icon fluid input\" [ngClass]=\"{'loading disabled': isSearching}\">\n        <i class=\"search icon\"></i>\n        <input type=\"text\" placeholder=\"Search for motif\" (keyup.enter)=\"searchMotif($event.target.value)\">\n      </div>\n    </div>\n\n    <div class=\"column\">\n      <nz-select class=\"w-1-1\" nzPlaceHolder=\"Restriction enzyme\" (ngModelChange)=\"searchMotif($event)\" nzDisabled [(ngModel)]=\"enzime\" ngDefaultControl nzAllowClear>\n        <nz-option *ngFor=\"let e of enzimes\" [nzLabel]=\"e\" [nzValue]=\"e\"></nz-option>\n      </nz-select>\n    </div>\n\n    <div class=\"column\">\n      <p>\n        <i class=\"zoom icon\"></i> Use <strong>Ctrl</strong> + <strong>Scroll</strong> to zoom.\n      </p>\n    </div>\n\n  </div>\n\n  <div class=\"one column row\">\n\n    <div class=\"column mt-0\">\n\n      <protvista-manager attributes=\"length displaystart displayend highlight\">\n        <div class=\"ui very padded grid graphs\">\n\n          <div class=\"one column row\">\n\n            <div class=\"column mb-4\">\n              <protvista-navigation #navigator class=\"protvista\"></protvista-navigation>\n              <protvista-sequence class=\"protvista\" highlight-event=\"onmouseover\" use-ctrl-to-zoom #dnaSeq></protvista-sequence>\n              <protvista-sequence class=\"protvista\" highlight-event=\"onmouseover\" use-ctrl-to-zoom #proteinSeq></protvista-sequence>\n              <protvista-interpro-track class=\"protvista\" shape=\"roundRectangle\" use-ctrl-to-zoom highlight-event=\"onmouseover\" #tracksView></protvista-interpro-track>\n            </div>\n\n            <div class=\"column\">\n\n              <div class=\"ui top attached menu\">\n\n                <div class=\"item\">\n                  <a (click)=\"isVisible = true\">\n                    <i class=\"filter icon\"></i>\n                    Threshold\n                  </a>\n                </div>\n\n                <div class=\"item\">\n                  <a (click)=\"changeColors()\">\n                    <i class=\"sync icon\"></i>\n                    Change colors\n                  </a>\n                </div>\n\n                <div class=\"right menu\">\n\n                  <div class=\"item\">\n                    <a nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"vsMenu\">\n                      <i class=\"eye icon\"></i>\n                      Visibility\n                      <i class=\"dropdown icon\"></i>\n                    </a>\n                  </div>\n\n                </div>\n\n              </div>\n\n            </div>\n\n            <div class=\"column pt-5\" [hidden]=\"!op.display\" *ngFor=\"let op of options; let i = index\">\n\n              <div class=\"ui padded grid\">\n\n                <div class=\"row\">\n                  <div class=\"column\">\n                    <h3 class=\"ui horizontal divider header\">{{op.name}}</h3>\n                  </div>\n                </div>\n\n                <div class=\"three column row mb-3\">\n\n                  <div class=\"column s-action\">\n                    <a nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"acMenu\">\n                      Chart\n                      <i class=\"dropdown icon\"></i>\n                    </a>\n                    <a nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"dataMenu\">\n                      Data\n                      <i class=\"dropdown icon\"></i>\n                    </a>\n                    <a nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"sExMenu\">\n                      Export\n                      <i class=\"dropdown icon\"></i>\n                    </a>\n\n                    <!-- Action -->\n                    <nz-dropdown-menu #acMenu=\"nzDropdownMenu\">\n                      <div class=\"ui floating multiple dropdown\">\n                        <div class=\"menu transition visible\">\n                          <div class=\"header\">\n                            Graph options\n                          </div>\n                          <div class=\"divider\"></div>\n                          <a class=\"item\" (click)=\"changeColors(op.alias)\">\n                            Change color\n                          </a>\n                          <a class=\"item\" [ngClass]=\"{'disabled': i < 1 || options.length < 2}\" (click)=\"move(i, -1)\">\n                            <i class=\"up arrow icon\"></i>\n                            Move up\n                          </a>\n                          <a class=\"item\" [ngClass]=\"{'disabled': i === options.length - 1 || options.length < 2}\" (click)=\"move(i, 1)\">\n                            <i class=\"down arrow icon\"></i>\n                            Move down\n                          </a>\n                          <a class=\"item\" (click)=\"op.display = false\">\n                            <i class=\"eye slash icon\"></i>\n                            Hide\n                          </a>\n                          <div class=\"header\">\n                            Threshold\n                          </div>\n                          <a class=\"item\" (click)=\"clearThreshold(op.alias)\" [ngClass]=\"{'disabled': !op.cutoffs}\">\n                            Clear\n                          </a>\n                        </div>\n                      </div>\n                    </nz-dropdown-menu>\n\n                    <!-- Data -->\n                    <nz-dropdown-menu #dataMenu=\"nzDropdownMenu\">\n                      <div class=\"ui floating multiple dropdown\">\n                        <div class=\"menu transition visible\">\n                          <div class=\"header\">\n                            Display\n                          </div>\n                          <div class=\"divider\"></div>\n                          <a class=\"item\" (click)=\"valuesModal(op.alias)\">\n                            Scores\n                          </a>\n                          <a class=\"item\" [ngClass]=\"{'disabled': !op.cutoffs}\" (click)=\"thresholdModal(op.alias)\">\n                            Threshold positions\n                          </a>\n                        </div>\n                      </div>\n                    </nz-dropdown-menu>\n\n                    <!-- Single Graph Export -->\n                    <nz-dropdown-menu #sExMenu=\"nzDropdownMenu\">\n                      <div class=\"ui floating multiple dropdown\">\n                        <div class=\"menu transition visible\">\n                          <div class=\"header\">\n                            Export\n                          </div>\n                          <div class=\"divider\"></div>\n                          <div class=\"header\">\n                            Scores\n                          </div>\n                          <a class=\"item\" (click)=\"exportToExcel(op.alias)\">\n                            <i class=\"file excel outline icon\"></i>\n                            Excel\n                          </a>\n                          <!-- <a class=\"item\" (click)=\"bulk = false;export([])\">\n                            <i class=\"dna icon\"></i>\n                            GenBank\n                          </a> -->\n                          <div class=\"header\">\n                            Current threshold\n                          </div>\n                          <a class=\"item\" (click)=\"exportThreshold(op.alias)\" [ngClass]=\"{'disabled': !op.cutoffs}\">\n                            <i class=\"dna icon\"></i>\n                            GenBank\n                          </a>\n                          <a class=\"item\" [ngClass]=\"{'disabled': !op.cutoffs}\">\n                            <i class=\"file excel outline icon\"></i>\n                            Excel\n                          </a>\n                        </div>\n                      </div>\n                    </nz-dropdown-menu>\n\n                  </div>\n\n                  <div class=\"column txt-c\" id=\"cutoffRes{{op.alias}}\" style=\"visibility: hidden\">\n                    <p></p>\n                  </div>\n\n                  <div class=\"column right aligned\">\n                    <div class=\"ui dropdown\" nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"vlMenu\">\n                      <div class=\"text\">\n                        <strong>Values: </strong>{{op.type === 'raw' ? 'Raw' : 'Normalized'}}\n                      </div>\n                      <i class=\"dropdown icon\"></i>\n                    </div>\n\n                    <!-- Values -->\n                    <nz-dropdown-menu #vlMenu=\"nzDropdownMenu\">\n                      <ul nz-menu nzSelectable>\n                        <li nz-menu-item (click)=\"switchValues('raw', op.alias)\">\n                          Raw <i [hidden]=\"op.type !== 'raw'\" class=\"check small icon\"></i>\n                        </li>\n                        <li nz-menu-item (click)=\"switchValues('norm', op.alias)\">\n                          Normalized <i [hidden]=\"op.type !== 'norm'\" class=\"check small icon\"></i>\n                        </li>\n                      </ul>\n                    </nz-dropdown-menu>\n\n                    <!-- <a href=\"#\"> -->\n                      <!-- <i class=\"info circle link icon\"></i> -->\n                    <!-- </a> -->\n\n                  </div>\n\n                </div>\n\n              </div>\n\n              <sqrutiny-matrix class=\"protvista score-graph\" id=\"{{op.alias}}\" height=\"60\" use-ctrl-to-zoom></sqrutiny-matrix>\n            </div>\n          </div>\n\n        </div>\n      </protvista-manager>\n\n    </div>\n\n  </div>\n\n</div>\n\n<nz-modal [nzWidth]=\"800\" [(nzVisible)]=\"isVisible\" nzTitle=\"Threshold\" [nzOkDisabled]=\"filters.length < 1\" nzOkText=\"Apply\" (nzOnCancel)=\"isVisible = false\" (nzOnOk)=\"applyFilters()\">\n\n  <form class=\"ui very padded form\">\n\n    <div class=\"field\">\n      <h1 class=\"ui header\" style=\"font-weight: normal\">\n        <i class=\"filter icon\"></i> Set threshold for graphs\n      </h1>\n    </div>\n\n    <div class=\"fields\" *ngFor=\"let f of filters; let in = index\">\n\n      <div class=\"required four wide field field\">\n        <nz-select [(ngModel)]=\"f.key\" name=\"filter-{{f.key}}\" nzPlaceHolder=\"Graph\">\n          <nz-option *ngFor=\"let op of options\" [nzLabel]=\"op.name\" [nzValue]=\"op.alias\" [nzDisabled]=\"f.disabled\"></nz-option>\n        </nz-select>\n      </div>\n\n      <div class=\"required four wide field field\">\n        <nz-select [(ngModel)]=\"f.type\" name=\"filter-type\" nzPlaceHolder=\"Type\">\n          <nz-option nzValue=\"norm\" nzLabel=\"Normalized value\"></nz-option>\n          <nz-option nzValue=\"raw\" nzLabel=\"Raw value\"></nz-option>\n        </nz-select>\n      </div>\n\n      <div class=\"required four wide field field\">\n        <nz-select [(ngModel)]=\"f.op\" name=\"filter-operator\" nzPlaceHolder=\"Operator\">\n          <nz-option *ngFor=\"let o of operators\" [nzLabel]=\"o.desc\" [nzValue]=\"o.op\"></nz-option>\n        </nz-select>\n      </div>\n\n      <div class=\"required four wide field field\">\n        <input type=\"number\" [(ngModel)]=\"f.value\" name=\"filter-score\" placeholder=\"Score\" />\n      </div>\n\n      <div class=\"one wide field txt-c\">\n        <i class=\"x red link large icon\" (click)=\"filters.splice(in, 1)\"></i>\n      </div>\n\n    </div>\n\n    <div class=\"ui placeholder segment\" [hidden]=\"filters.length\">\n      <div class=\"ui icon header\">\n        <i class=\"inbox icon\"></i>\n        There is no threshold setted\n      </div>\n      <button type=\"button\" class=\"ui fluid primary button\" (click)=\"addFilter()\" [disabled]=\"filters?.length >= options.length\">\n        <i class=\"plus icon\"></i>\n        Add threshold\n      </button>\n    </div>\n\n    <div class=\"field\" [hidden]=\"!filters.length\">\n      <button type=\"button\" class=\"ui fluid primary button\" (click)=\"addFilter()\" [disabled]=\"filters?.length >= options.length\">\n        <i class=\"plus icon\"></i>\n        Add threshold\n      </button>\n    </div>\n\n  </form>\n\n</nz-modal>\n\n<!-- Menus -->\n\n<!-- Visibility -->\n<nz-dropdown-menu #vsMenu=\"nzDropdownMenu\">\n  <div class=\"ui floating multiple dropdown\">\n    <div class=\"scrolling menu transition visible\">\n      <div class=\"header\">\n        Click to Show or Hide\n      </div>\n      <div class=\"divider\"></div>\n      <a class=\"item\" (click)=\"displayAll()\">\n        <i class=\"eye icon\"></i>\n        Display all\n      </a>\n      <a class=\"item\" (click)=\"hideAll()\">\n        <i class=\"eye slash icon\"></i>\n        Hide all\n      </a>\n      <div class=\"divider\"></div>\n      <a class=\"ant-badge ant-badge-status ant-badge-not-a-wrapper item\" *ngFor=\"let o of options\" [ngClass]=\"{'non-active': !o.display}\" (click)=\"o.display = !o.display\">\n        <span class=\"ant-badge-status-dot\" [style.background-color]=\"o.color\"></span>\n        <span class=\"ant-badge-status-text\">{{o.name}}</span>\n      </a>\n    </div>\n  </div>\n</nz-dropdown-menu>\n\n<!-- General Export -->\n<nz-dropdown-menu #exMenu=\"nzDropdownMenu\">\n  <div class=\"ui floating multiple dropdown\">\n    <div class=\"menu transition visible\">\n      <div class=\"header\">\n        Download as\n      </div>\n      <div class=\"divider\"></div>\n      <a class=\"item\" (click)=\"exportToExcel()\">\n        <i class=\"file excel outline icon\"></i>\n        Excel\n      </a>\n      <div class=\"divider\"></div>\n      <div class=\"header\">\n        GenBank\n      </div>\n      <a class=\"item\" (click)=\"bulk = false;export([])\">\n        <i class=\"file outline icon\"></i>\n        Only tracks\n      </a>\n      <a class=\"item\" (click)=\"bulk = true;export([])\">\n        <i class=\"file outline icon\"></i>\n        With all scores\n        <div class=\"description\">\n          (heavy)\n        </div>\n      </a>\n    </div>\n  </div>\n</nz-dropdown-menu>\n\n<!-- Highlight -->\n<nz-dropdown-menu #hgMenu=\"nzDropdownMenu\">\n  <ul nz-menu nzSelectable>\n    <li nz-menu-item nz-popover nzType=\"primary\" nzPopoverTitle=\"Set highlight positions\" [nzPopoverContent]=\"contentTemplate\">\n      <i class=\"crosshairs icon\"></i>\n      Set highlight\n    </li>\n    <li nz-menu-item (click)=\"clearHighlight()\">\n      <i class=\"eraser icon\"></i>\n      Clear highlight\n    </li>\n  </ul>\n</nz-dropdown-menu>\n\n<ng-template #contentTemplate>\n  <sqy-set-highlight [max]=\"_data.construct.dna_seq.length\" (onSet)=\"setHighlight($event)\"></sqy-set-highlight>\n</ng-template>\n","import { Component, Input, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { finalize } from 'rxjs/operators';\n\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzModalService } from 'ng-zorro-antd/modal';\n\nimport { SqrutinyService } from '@services/sqrutiny.service';\nimport Utils from 'app/shared/utils';\nimport { Track } from 'app/optimizer/shared/track';\nimport { DisplayValuesComponent } from '../display-values/display-values.component';\nimport { HistoryService } from '../history.service';\nimport { FileService } from '@services/file.service';\nimport { LoaderService } from '@services/loader.service';\nimport { DisplayThresholdComponent } from '../display-threshold/display-threshold.component';\n\nclass GraphsOptions {\n  name: string;\n  alias: string;\n  display: boolean;\n  data: any;\n  type: string;\n  cutoffs?: number[];\n  color: string;\n}\n\nclass Filter {\n  op: string;\n  value?: number;\n  key: string;\n  type: string;\n}\n\n@Component({\n  selector: 'sqy-results-viewer',\n  templateUrl: './results-viewer.component.html',\n  styleUrls: ['./results-viewer.component.scss']\n})\nexport class ResultsViewerComponent implements AfterViewInit {\n\n  @Input() set data(data: any) {\n    this._data = data;\n    this.options = [];\n    if (!this._data.results || !this._data.construct || !this._data.results.length) {\n      return;\n    }\n    this._data.results.forEach((r: { name: any; alias: any; scores: any[]; }) => {\n      this.options.push({\n        name: r.name,\n        alias: r.alias,\n        display: true,\n        data: r.scores.map((d: any) => {\n          return {\n            pos: d.start,\n            score: d.raw_score\n          };\r\n        }),\n        type: 'raw',\n        color: this.getRandomColor()\n      });\n    });\n  }\n\n  isVisible = false;\n  _data: any = null; // Original data\n  isSearching = false;\n  options: GraphsOptions[] = [];\n  enzime: string;\n  filters: Filter[] = [];\n  bulk = false;\n  colors = [\n    'red',\n    'blue',\n    'black',\n    'green',\n    'orange',\n    'purple'\n  ];\n  enzimes = [\n    'GAATTC',\n    'CTTAAG',\n    'CCWGG',\n    'GGWCC',\n    'GGATCC',\n    'CCTAGG',\n    'AAGCTT',\n    'TTCGAA'\n  ];\n  operators = [\n    { desc: 'Greater or equal than', op: '<=' },\n    { desc: 'Greater than', op: '>' },\n    { desc: 'Equal', op: '=' },\n    { desc: 'Lower or equal than', op: '>=' },\n    { desc: 'Lower than', op: '<' }\n  ];\n  operatorsFn = {\n    '<': (a: number, b: number) => a < b,\n    '<=': (a: number, b: number) => a <= b,\n    '=': (a: number, b: number) => a == b,\n    '>': (a: number, b: number) => a > b,\n    '>=': (a: number, b: number) => a >= b,\n  };\n\n  @ViewChild('dnaSeq') dnaSeq: ElementRef<HTMLElement>;\n  @ViewChild('proteinSeq') proteinSeq: ElementRef<HTMLElement>;\n  @ViewChild('tracksView') tracksElem: ElementRef<HTMLElement>;\n  @ViewChild('navigator') nav: ElementRef<HTMLElement>;\n\n  constructor(\n    private sqSrvc: SqrutinyService,\n    private notify: NzMessageService,\n    private modal: NzModalService,\n    private fileSrvc: FileService,\n    private historySrvc: HistoryService,\n    private route: ActivatedRoute,\n    private loader: LoaderService\n  ) { }\n\n  ngAfterViewInit() {\n    // Init graphs\n    if (this._data && this.options) {\n      this.nav.nativeElement['length'] = this._data.construct.dna_seq.length\n      document.querySelectorAll('.protvista').forEach((x: any) => x.setAttribute('length', this._data.construct.dna_seq.length));\n      this.dnaSeq.nativeElement['data'] = this._data.construct.dna_seq;\n      this.proteinSeq.nativeElement['data'] = ResultsViewerComponent.proteinSeqProtvista(this._data.construct.protein_seq);\n      this.tracksElem.nativeElement['data'] = ResultsViewerComponent.getTrackView(this._data.construct.tracks);\n      document.querySelectorAll('.score-graph').forEach((x: any, i: number) => {\n        x.data = this.options[i].data;\n        x.setAttribute('color', this.options[i].color);\n      });\n    }\n  }\n\n  searchMotif(motif: any) {\n    if (motif) {\n      this.isSearching = true;\n      this.sqSrvc.motifInSeq(this._data.construct.dna_seq, motif)\n        .pipe(finalize(() => this.isSearching = false))\n        .subscribe(\n          (data: any) => {\n            if (data.count > 0) {\n              let positions = '';\n              data.data.map((pos: number[]) => positions += `,${pos[0]}:${pos[1]}`);\n              if (positions.charAt(0) === ',') {\n                positions = positions.substring(1);\n              }\n              document.querySelectorAll('.protvista').forEach((x: any) => x.fixedHighlight = positions);\n            } else {\n              this.notify.error('No match was found');\n            }\n          },\n          err => this.notify.error(err)\n        );\n    }\n  }\n\n  displayAll() {\n    this.options.map(x => x.display = true);\n  }\n\n  hideAll() {\n    this.options.map(x => x.display = false);\n  }\n\n  move(x: number, i: number) {\n    const pos = x + i;\n    if (-1 < pos && pos <= this.options.length - 1) {\n      this.options = Utils.array_move(Object.assign([], this.options), x, pos);\n    }\n  }\n\n  setHighlight(positions: string) {\n    if (positions) {\n      document.querySelectorAll('.protvista').forEach((x: any) => x.fixedHighlight = positions);\n    }\n  }\n\n  clearHighlight() {\n    document.querySelectorAll('.protvista').forEach((x: any) => x.fixedHighlight = undefined);\n  }\n\n  setThreshold(graph: string, value: number, operator: string, type: string) {\n    if (graph && operator) {\n      const values = [];\n      this.getByAlias(this._data.results, graph).scores.map((s: any) => {\n        const score = type === 'raw' ? s.raw_score : s.norm_score;\n        if (this.operatorsFn[operator](value, score)) {\n          values.push({ pos: s.start, score });\n        }\n      });\n      if (values.length) {\n        this.switchValues(type, graph);\n        this.getByAlias(this.options, graph).cutoffs = values;\n        document.getElementById(graph)['cutoffs'] = values.map((v: any) => v.pos);\n        const element = document.getElementById('cutoffRes' + graph).getElementsByTagName('p')[0];\n        element.innerHTML = `<i class=\"filter icon\"></i> ${this.operators.find(o => o.op === operator).desc} ${value}`;\n        element.style.visibility = 'visible';\n      } else {\n        this.clearThreshold(graph);\n        this.notify.info(this.getByAlias(this.options, graph).name + ': No result was found');\n      }\n    }\n  }\n\n  clearThreshold(graph: string) {\n    document.getElementById(graph)['cutoffs'] = undefined;\n    this.getByAlias(this.options, graph).cutoffs = null;\n    this.filters = this.filters.filter(f => f.key !== graph);\n    document.getElementById('cutoffRes' + graph).getElementsByTagName('p')[0].innerHTML = '';\n    document.getElementById('cutoffRes' + graph).style.visibility = 'hidden';\n  }\n\n  clearAllThreshold() {\n    document.querySelectorAll('.score-graph').forEach((x: any) => x.cutoffs = undefined);\n    this.options.map(op => op.cutoffs = null);\n  }\n\n  static getTrackView(tracks: Track[]) {\n    return tracks.map((track: Track) => {\n      {\n        return {\n          accession: 'XXXXX',\n          start: track.start,\n          end: track.end,\n          color: track.color\n        };\n      }\n    });\n  }\n\n  static proteinSeqProtvista(val: string) {\n    return ` ${val.split('').join('  ')} `;\n  }\n\n  applyFilters() {\n    this.clearAllThreshold();\n    this.filters.map((f: Filter) => {\n      if (f.key && f.op) {\n        this.setThreshold(f.key, f.value, f.op, f.type);\n      }\n    });\n    this.isVisible = false;\n  }\n\n  addFilter() {\n    if (this.filters.length < this.options.length) {\n      this.filters.push({\n        op: this.operators[0].op,\n        key: this.options[this.filters.length].alias,\n        type: 'raw'\n      });\n    }\n  }\n\n  valuesModal(key: string) {\n    this.modal.create({\n      nzContent: DisplayValuesComponent,\n      nzWrapClassName: 'center-modal',\n      nzComponentParams: {\n        values: this._data.results.find(r => r.alias === key).scores\n      },\n      nzFooter: null\n    });\n  }\n\n  thresholdModal(key: string) {\n    this.modal.create({\n      nzContent: DisplayThresholdComponent,\n      nzWrapClassName: 'center-modal',\n      nzComponentParams: {\n        values: this.options.find(r => r.alias === key).cutoffs\n      },\n      nzFooter: null\n    });\n  }\n\n  exportToExcel(key?: string) {\n    let data = null;\n    if (key) {\n      const op = this.getByAlias(this.options, key);\n      data = [{ name: op.name, data: op.data }];\n    } else {\n      data = this._data.results.map(v => {\n        return {\n          name: v.name,\n          data: v.scores.map(s => {\n            return {\r\n              position: s.start,\n              raw_score: s.raw_score,\n              norm_score: s.norm_score\r\n            }\n          })\n        };\n      });\n    }\n    if (data) {\n      this.fileSrvc.exportAsExcelFile(data, key || 'export_all');\n      this.notify.success('Exported! Your download is about to start.');\n    } else {\n      this.notify.error('Unable to export.');\n    }\n  }\n\n  changeColors(key?: string) {\n    if (key) {\n      this.getByAlias(this.options, key).color = this.getRandomColor();\n      document.getElementById(key).setAttribute('color', this.getByAlias(this.options, key).color);\n    } else {\n      this.options.forEach(o => o.color = this.getRandomColor());\n      document.querySelectorAll('.score-graph').forEach((x: any, i: number) => x.setAttribute('color', this.options[i].color));\n    }\n  }\n\n  getRandomColor() {\n    const letters = '0123456789ABCDEF';\n    let color = '#';\n    for (let i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n  }\n\n  exportThreshold(key?: string) {\n    if (key) {\n      const filter = this.filters.filter(f => f.key === key);\n      this.export(filter);\n    }\n  }\n\n  export(filters: Filter[]) {\n    this.loader.startLoading();\n    this.historySrvc.export(this.route.snapshot.data.history.id, { filters: filters || null, bulk: this.bulk || false })\n      .pipe(finalize(() => this.loader.stopLoading()))\n      .subscribe((d: any) => {\n        this.notify.success('Your download is about to start.');\n        this.fileSrvc.saveFileAs(d.data, d.mimetype, d.filename);\n      },\n        err => this.notify.error(err)\n      );\n  }\n\n  switchValues(type: string, alias: string) {\n    document.getElementById(alias)['data'] = this.getByAlias(this._data.results, alias).scores.map((s: any) => {\n      return {\n        pos: s.start,\n        score: type === 'raw' ? s.raw_score : s.norm_score\n      };\n    });\n    this.options.find(o => o.alias === alias).type = type;\n  }\n\n  getByAlias(data: any[], alias: string): any {\n    return data.find(o => o.alias === alias);\n  }\n\n  getByScoreType(alias: string, type: string) {\n    this._data.results.find(r => r.alias === alias).scores.map((s: any) => {\n      return {\n        pos: s.start,\n        score: type === 'raw' ? s.raw_score : s.norm_score\n      };\n    });\n  }\n}\n","<!-- Loading placeholder -->\n<sqy-history-loading *ngIf=\"isLoading\"></sqy-history-loading>\n\n<div class=\"ui main fluid container p-4 mt-6\" *ngIf=\"!isLoading\">\n\n  <div class=\"ui grid\">\n\n    <div class=\"row\" id=\"history\">\n\n      <div class=\"ui container\">\n\n        <div class=\"sixteen wide column\">\n\n          <div class=\"ui padded one column grid\">\n\n            <div class=\"column\">\n              <h1 class=\"ui header\">\n                {{history.name}}\n              </h1>\n            </div>\n\n            <div class=\"two column row\">\n\n              <div class=\"column\">\n                <span class=\"date\">\n                  <time [dateTime]=\"history.created_at\">{{history.created_at | date: 'd MMMM, YYYY hh:mm'}}</time>\n                </span>\n                <div class=\"ant-badge ant-badge-status ant-badge-not-a-wrapper\">\n                  <span class=\"ant-badge-status-dot\" [ngClass]=\"{'ant-badge-status-error': history.hasFailed(), 'ant-badge-status-processing': history.isActive(), 'ant-badge-status-success': history.isDone()}\"></span>\n                  <span class=\"ant-badge-status-text\">{{history.job?.status | titlecase}}</span>\n                </div>\n              </div>\n\n              <div class=\"column txt-r\">\n\n                <a class=\"m-4\" *ngIf=\"history.isActive()\" (click)=\"getJob()\">\n                  <i class=\"sync icon\"></i>\n                  Refresh content\n                </a>\n\n                <a class=\"m-4 delete\" (click)=\"deleteHistory()\">\n                  <i class=\"trash icon\"></i>\n                  Delete history\n                </a>\n\n              </div>\n\n            </div>\n\n            <div class=\"eleven wide column\">\n              <div class=\"ui very relaxed horizontal selection large list\">\n                <div class=\"item\">\n                  <i class=\"barcode large icon\"></i>\n                  <div class=\"content\">\n                    <a class=\"header\" onclick=\"window.location.hash = 'construct'\">Construct</a>\n                    <p>Check Construct details</p>\n                  </div>\n                </div>\n                <div class=\"item\">\n                  <i class=\"chart bar outline large icon\"></i>\n                  <div class=\"content\">\n                    <a class=\"header\" onclick=\"window.location.hash = 'results'\">Plot area</a>\n                    <p>Go to results visualizator area</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"five wide column right aligned\">\n              <div class=\"ui action fluid input\">\n                <input type=\"text\" [value]=\"history.id\" name=\"history-id\">\n                <button type=\"button\" class=\"ui right labeled icon primary button\" name=\"copy\" [sqy-clipboard]=\"history.id\">\n                  Copy <i class=\"copy icon\"></i>\n                </button>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n    <div class=\"row\" id=\"construct\">\n\n      <div class=\"ui container\">\n\n        <div class=\"sixteen wide column\">\n\n          <div class=\"ui padded form construct-summary grid\">\n\n            <div class=\"one column row\">\n              <div class=\"column txt-c\">\n                <h2>Construct summary</h2>\n              </div>\n            </div>\n\n            <div class=\"one column row\">\n\n              <div class=\"column\">\n\n                <div class=\"field\" [hidden]=\"!history.construct.description\">\n                  <p>{{history.construct.description}}</p>\n                </div>\n\n                <div class=\"four inline fields\">\n\n                  <div class=\"field\">\n                    <label>Label:</label>\n                    {{history.construct.name}}\n                  </div>\n\n                  <div class=\"field\">\n                    <label>Number of tracks:</label>\n                    {{history.construct.n_tracks}}\n                  </div>\n\n                  <div class=\"field\">\n                    <label>Circular:</label>\n                    <i class=\"circle icon\" [ngClass]=\"{'check green': history.construct.circular, 'times red': !history.construct.circular}\"></i>\n                  </div>\n\n                  <div class=\"field\">\n                    <a routerLink=\"/optimize/sketcher\" [queryParams]=\"{construct: history.construct.id}\">See it on Sketcher <i class=\"external link icon\"></i> </a>\n                  </div>\n\n                  <div class=\"field\">\n                    <a [routerLink]=\"['/editor', history.id]\">See it on Vector Editor <i class=\"external link icon\"></i> </a>\n                  </div>\n\n                </div>\n\n              </div>\n\n            </div>\n\n            <div class=\"one column row\">\n\n              <div class=\"column\">\n                <h4 class=\"ui horizontal divider header\">\n                  <i class=\"bug icon\"></i>\n                  Organism\n                </h4>\n              </div>\n\n              <div class=\"column\">\n                <p>Open on <a href=\"{{history.construct.specie.tax_link}}\" target=\"_blank\">NCBI Taxonomy browser</a> organism info</p>\n\n                <div class=\"two inline fields\">\n                  <div class=\"inline field\">\n                    <label>Name:</label>\n                    <a href=\"{{history.construct.specie.tax_link}}\" target=\"_blank\">\n                      {{history.construct.specie.name}}\n                    </a>\n                  </div>\n                  <div class=\"inline field\">\n                    <label>Taxonomy ID:</label>\n                    {{history.construct.specie.tax_id}}\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n\n            <div class=\"one column row\">\n\n              <div class=\"column\">\n                <h4 class=\"ui horizontal divider header\">\n                  <i class=\"dna icon\"></i>\n                  Sequence\n                </h4>\n              </div>\n\n              <div class=\"column\">\n                <p> <i class=\"info icon\"></i> Click on sequence to display full content</p>\n\n                <table class=\"ui blue padded sequence definition table\">\n\n                  <tbody>\n                    <tr>\n                      <th>DNA</th>\n                      <td class=\"link\" (click)=\"textModal(history.construct.dna_seq)\">\n                        {{history.construct.dna_seq}}\n                      </td>\n                      <td>\n                        <strong>Total:</strong>\n                        {{history.construct.dna_seq.length}} bps\n                      </td>\n                    </tr>\n                    <tr>\n                      <th>Protein</th>\n                      <td class=\"link\" (click)=\"textModal(history.construct.protein_seq)\">\n                        {{history.construct.protein_seq}}\n                      </td>\n                      <td>\n                        <strong>Total:</strong>\n                        {{history.construct.protein_seq.length}}\n                      </td>\n                    </tr>\n                  </tbody>\n\n                </table>\n              </div>\n\n            </div>\n\n            <div class=\"one column row\">\n\n              <div class=\"column\">\n                <h4 class=\"ui horizontal divider header\">\n                  Tracks\n                </h4>\n              </div>\n\n              <div class=\"column\" style=\"min-height: 18px\">\n                <div class=\"ui grid\">\n                  <div class=\"four wide column\">\n                    <p> <i class=\"info icon\"></i> Hover a track to display information</p>\n                  </div>\n                  <div class=\"three wide column center aligned\" [hidden]=\"!trackHovered\">\n                    <strong>Start:</strong> {{trackHovered?.start}}\n                  </div>\n                  <div class=\"three wide column center aligned\" [hidden]=\"!trackHovered\">\n                    <strong>End:</strong> {{trackHovered?.end}}\n                  </div>\n                  <div class=\"three wide column center aligned\" [hidden]=\"!trackHovered\">\n                    <strong>Length:</strong> {{trackHovered?.sequence.length}} bps\n                  </div>\n                  <div class=\"right floated two wide column right aligned\">\n                    <p class=\"meta\">{{history.construct.n_tracks}} tracks</p>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"column\">\n\n                <div class=\"construct\">\n                  <div class=\"strand\">\n\n                    <div class=\"track\" (mouseover)=\"trackHovered = t\" (mouseout)=\"trackHovered = null\" *ngFor=\"let t of history.construct.tracks; let i = index\">\n\n                      <div class=\"header\">\n                        <h4>{{t.label}}</h4>\n                      </div>\n                      <div class=\"image\" [ngStyle]=\"{background: 'url('+t.glyph_thumbnail+')', 'border-bottom': '1.5px solid '+t.color}\" data-inverted=\"\" [attr.data-tooltip]=\"t.name\" data-position=\"bottom center\"></div>\n                      <div class=\"index\">\n                        {{i + 1}}\n                      </div>\n                    </div>\n\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n    <div class=\"one column row\" id=\"results\">\n\n      <div class=\"column\">\n        <div class=\"ui protvista padded grid\">\n\n          <div class=\"one column row\">\n\n            <div class=\"ui basic segment column\" [ngClass]=\"{'disabled loading': isJobLoading}\">\n\n              <div class=\"ui placeholder segment\" *ngIf=\"history.hasFailed()\">\n                <div class=\"ui icon header\">\n                  <i class=\"times circle red icon\"></i>\n                  It was not possible to show you the results due to an internal problem. Please try again later or <a [routerLink]=\"'/contact'\">contact us</a>.\n                </div>\n              </div>\n\n              <div class=\"ui placeholder segment\" *ngIf=\"history.isActive()\">\n                <div class=\"ui icon header\">\n                  <i class=\"spinner loading icon\"></i>\n                  The results are processing please be patient...\n                </div>\n                <button class=\"ui primary right labeled icon button\" (click)=\"getJob()\" [disabled]=\"isJobLoading\" type=\"button\" name=\"refresh\">\n                  Refresh <i class=\"sync icon\"></i>\n                </button>\n              </div>\n\n              <sqy-results-viewer [data]=\"resultData\" *ngIf=\"history.isDone()\"></sqy-results-viewer>\n\n            </div>\n\n          </div>\n\n        </div>\n      </div>\n\n    </div>\n\n  </div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { finalize } from 'rxjs/operators';\n\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { NzMessageService } from 'ng-zorro-antd/message';\n\nimport { UserHistory } from '../shared/user-history';\nimport { HistoryService } from '../shared/history.service';\nimport { JobService } from '../shared/job.service';\nimport { Job } from '../shared/job';\nimport { Construct } from '@models/construct';\nimport { TextModalComponent } from '@components/text-modal/text-modal.component';\nimport { TitleService } from '@services/title.service';\nimport { Track } from 'app/optimizer/shared/track';\nimport { NavService } from '@services/nav.service';\n\nconst MAX_ATTEMPTS = 20;\nconst RETRY_IN = 4000;\n\n@Component({\n  selector: 'sqy-history',\n  templateUrl: './history.component.html',\n  styleUrls: ['./history.component.scss']\n})\nexport class HistoryComponent implements OnInit, OnDestroy {\n\n  history: UserHistory = null;\n  isLoading = false;\n  isJobLoading = false;\n  isSearching = false;\n  msg: string = null;\n  seq: string = null;\n  resultData: { construct: Construct; results: any };\n  trackHovered: Track = null;\n  interval: any;\n  attempts = 0;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private historySrvc: HistoryService,\n    private jobSrvc: JobService,\n    private modal: NzModalService,\n    private notify: NzMessageService,\n    private titleSrvc: TitleService,\n    private navSrvc: NavService\n  ) { }\n\n  ngOnInit() {\n    this.isLoading = true;\n    this.history = new UserHistory().deserialize(this.route.snapshot.data.history);\n    this.titleSrvc.setTitle(this.history.name);\n    this.getJob();\n  }\n\n  ngOnDestroy() {\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n\n  getJob() {\n    this.isJobLoading = true;\n    this.jobSrvc.getById(this.history.job_id)\n      .pipe(finalize(() => {\n        this.isLoading = false;\n        this.isJobLoading = false;\n      }))\n      .subscribe(\n        (data: Job) => {\n          this.history.job = data;\n          if (this.history.isDone()) {\n            if (this.interval) {\n              clearInterval(this.interval);\n            }\n            this.resultData = {\n              construct: this.history.construct,\n              results: this.history.job.result\n            };\n          } else if (this.history.isActive()) {\n            if (!this.interval) {\n              this.interval = setInterval(() => this.getJob(), RETRY_IN);\n              this.attempts = 0;\n            }\n            this.attempts++;\n            if (this.attempts >= MAX_ATTEMPTS) { clearInterval(this.interval); }\n          }\n        },\n        err => this.notify.error(err)\n      );\n  }\n\n  deleteHistory() {\n    if (confirm('Are you sure?')) {\n      this.isLoading = true;\n      this.historySrvc.delete(this.history.id)\n        .pipe(finalize(() => this.isLoading = false))\n        .subscribe(() => {\n          this.navSrvc.updateBadge();\n          this.notify.success('History deleted!');\n          this.router.navigate(['/workspace']);\n        },\n          err => this.notify.error(err || 'Unable to delete history')\n        );\n    }\n  }\n\n  textModal(str: string) {\n    this.modal.create({\n      nzContent: TextModalComponent,\n      nzWrapClassName: 'center-modal',\n      nzComponentParams: {\n        txt: str\n      },\n      nzFooter: null\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WorkspaceComponent } from './workspace.component';\nimport { HistoryComponent } from './history/history.component';\nimport { HistoryResolver } from './shared/history.resolver';\nimport { routes as rts } from '@config/routes';\n\nconst routes: Routes = [\n  { path: '', component: WorkspaceComponent },\n  { path: rts.workspace.detail, component: HistoryComponent, resolve: { history: HistoryResolver } }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n  providers: [HistoryResolver]\n})\nexport class WorkspaceRoutingModule { }\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { NzModalModule } from 'ng-zorro-antd/modal';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\nimport { NzPopoverModule } from 'ng-zorro-antd/popover';\n\nimport { WorkspaceRoutingModule } from './workspace-routing.module';\nimport { WorkspaceComponent } from './workspace.component';\nimport { HistoryComponent } from './history/history.component';\nimport { HistoryLoadingComponent } from './shared/history-loading/history-loading.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { ResultsViewerComponent } from './shared/results-viewer/results-viewer.component';\nimport { DisplayValuesComponent } from './shared/display-values/display-values.component';\nimport { DisplayThresholdComponent } from './shared/display-threshold/display-threshold.component';\nimport { SetHighlightComponent } from './shared/set-highlight/set-highlight.component';\n\n\n@NgModule({\n  declarations: [\n    WorkspaceComponent,\n    HistoryComponent,\n    HistoryLoadingComponent,\n    ResultsViewerComponent,\n    DisplayValuesComponent,\n    DisplayThresholdComponent,\n    SetHighlightComponent\n  ],\n  imports: [\n    CommonModule,\n    WorkspaceRoutingModule,\n    SharedModule,\n    NzModalModule,\n    NzSelectModule,\n    NzDropDownModule,\n    NzPopoverModule,\n    ReactiveFormsModule\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ]\n})\nexport class WorkspaceModule { }\n"]}