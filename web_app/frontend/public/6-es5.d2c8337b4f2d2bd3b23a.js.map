{"version":3,"sources":["webpack:///node_modules/rxjs/_esm2015/internal/operators/pluck.js","webpack:///node_modules/ng-zorro-antd/__ivy_ngcc__/fesm2015/ng-zorro-antd-slider.js","webpack:///node_modules/ng-zorro-antd/__ivy_ngcc__/fesm2015/ng-zorro-antd-progress.js","webpack:///node_modules/ng-zorro-antd/__ivy_ngcc__/fesm2015/ng-zorro-antd-upload.js","webpack:///node_modules/ng-zorro-antd/__ivy_ngcc__/fesm2015/ng-zorro-antd-drawer.js","webpack:///src/app/shared/services/construct.service.ts","webpack:///src/app/optimizer/shared/track.service.ts","webpack:///src/app/shared/components/if-not-icon/if-not-icon.component.ts","webpack:///src/app/optimizer/shared/sketcher-loading/sketcher-loading.component.ts","webpack:///src/app/shared/models/construct.ts","webpack:///src/app/optimizer/shared/sketcher-loading/sketcher-loading.component.html","webpack:///src/app/optimizer/track-details/track-details.component.html","webpack:///src/app/optimizer/track-details/track-details.component.ts","webpack:///src/app/optimizer/shared/filter-tracks.pipe.ts","webpack:///src/app/optimizer/sketcher/sketcher.component.html","webpack:///src/app/optimizer/sketcher/sketcher.component.ts","webpack:///src/app/optimizer/from-file/from-file.component.html","webpack:///src/app/optimizer/optimizer-routing.module.ts","webpack:///src/app/optimizer/from-file/from-file.component.ts","webpack:///src/app/optimizer/optimizer.module.ts"],"names":["pluck","properties","length","Error","source","map","props","x","currentProp","i","p","_c0","NzSliderComponent_nz_slider_step_4_Template","rf","ctx","ctx_r960","nzVertical","bounds","lower","upper","marksArray","nzIncluded","NzSliderComponent_nz_slider_handle_5_Template","handle_r963","$implicit","ctx_r961","offset","value","active","nzTipFormatter","nzTooltipVisible","nzTooltipPlacement","NzSliderComponent_nz_slider_marks_6_Template","ctx_r962","nzMin","nzMax","NzSliderHandleComponent_div_0_Template","ctx_r964","style","tooltipTitle","NzSliderHandleComponent_div_1_Template","ctx_r965","NzSliderMarksComponent_span_1_Template","attr_r967","label","NzSliderStepComponent_span_1_Template","mark_r969","isValueARange","Array","isConfigAObject","config","Object","NzSliderModule","NzSliderTrackComponent","NzSliderStepComponent","NzSliderMarksComponent","NzSliderHandleComponent","NzSliderComponent","cdr","platform","this","nzDisabled","nzDots","nzRange","nzDefaultValue","nzMarks","nzStep","nzOnAfterChange","cacheSliderStart","cacheSliderLength","activeValueIndex","track","isDragging","handles","generateHandles","sliderDOM","slider","nativeElement","generateMarkItems","isBrowser","createDraggingObservables","toggleDragDisabled","getValue","setValue","formatValue","changes","firstChange","currentValue","unsubscribeDrag","val","_value","fn","onValueChange","onTouched","isDisabled","isWriteValue","updateTrackAndHandles","valuesEqual","cloneAndSort","sort","a","b","normalizedValue","valueToOffset","pointerValue","gap","minimal","activeIndex","forEach","index","Math","abs","newValue","getValueToOffset","valueSorted","offsetSorted","boundParts","trackParts","handle","markForCheck","toggleDragMoving","cacheSliderProperty","setActiveValueIndex","setActiveValue","showHandleTooltip","emit","hideAllHandleTooltip","orientField","mouse","start","move","end","pluckKey","touch","filter","e","TouchEvent","filterFunc","startPlucked$","fromEvent","pipe","tap","position","findClosestValue","end$","document","moveResolved$","distinctUntilChanged","takeUntil","dragStart$","merge","dragMove$","dragEnd$","periods","indexOf","dragStart_","subscribe","onDragStart","bind","dragMove_","onDragMove","dragEnd_","onDragEnd","unsubscribe","movable","subscribeDrag","disabled","sliderStart","getSliderStartPosition","sliderLength","getSliderLength","ratio","points","keys","parseFloat","closestOne","round","push","gaps","point","closest","min","toFixed","top","left","clientHeight","clientWidth","remove","assertValueValid","isArray","isNaN","assertValueTypeMatch","valA","valB","handleIndex","amount","fill","marks","key","mark","ɵfac","t","ɵcmp","type","selectors","viewQuery","_t","first","inputs","outputs","exportAs","features","provide","useExisting","multi","decls","vars","consts","template","directives","encapsulation","changeDetection","prototype","Boolean","sliderComponent","nzActive","hovers_","Subscription","enterHandle","toggleTooltip","updateTooltipPosition","detectChanges","leaveHandle","nzOffset","nzValue","updateStyle","updateTooltipTitle","Promise","resolve","then","show","force","tooltip","hide","updatePosition","hostBindings","$event","nzLowerBound","nzUpperBound","nzMarksArray","buildMarks","togglePointActive","_index","range","getMarkStyles","marginBottom","bottom","transform","assign","trackById","buildSteps","step","orient","steps","visibility","nzLength","height","width","Number","ɵmod","ɵinj","factory","imports","NzProgressComponent_ng_template_0_span_0_ng_container_1_Template","ctx_r911","icon","NzProgressComponent_ng_template_0_span_0_ng_template_2_Template","ctx_r913","formatter","nzPercent","NzProgressComponent_ng_template_0_span_0_Template","_r912","ctx_r910","status","nzFormat","NzProgressComponent_ng_template_0_Template","ctx_r907","nzShowInfo","NzProgressComponent_div_3_div_4_Template","ctx_r914","nzSuccessPercent","nzStrokeLinecap","strokeWidth","NzProgressComponent_div_3_ng_template_5_Template","NzProgressComponent_div_3_Template","ctx_r908","_r906","isGradient","nzStrokeColor","lineGradient","NzProgressComponent_div_4__svg_defs_2__svg_stop_2_Template","i_r920","color","NzProgressComponent_div_4__svg_defs_2_Template","ctx_r916","gradientId","circleGradient","NzProgressComponent_div_4__svg_path_4_Template","p_r921","ctx_r917","strokePathStyle","pathString","stroke","NzProgressComponent_div_4_ng_template_5_Template","NzProgressComponent_div_4_Template","ctx_r909","nzWidth","trailPathStyle","progressCirclePath","trackByFn","NzProgressModule","NzProgressComponent","sortGradient","gradients","tempArr","formatKey","replace","gradientIdSeed","statusIconNameMap","Map","statusColorMap","defaultFormatter","nzConfigService","nzType","cachedStatus","inferredStatus","destroy$","Subject","nzGapPosition","nzGapDegree","nzStatus","parseInt","toString","updateIcon","setStrokeColor","getCirclePaths","getConfigChangeEventForComponent","next","complete","ret","get","isCircleStyle","values","radius","len","PI","gapDegree","beginPositionX","beginPositionY","endPositionX","endPositionY","strokeDasharray","strokeDashoffset","transition","isSuccessPercent","reverse","strokeColor","from","to","direction","rest","join","nzStrokeWidth","nzSize","String","_c1","_c2","NzUploadListComponent_div_0_ng_template_1_ng_container_0_div_1_Template","ctx_r1303","locale","uploading","NzUploadListComponent_div_0_ng_template_1_ng_container_0_Template","_r1295","file_r1283","ctx_r1294","listType","NzUploadListComponent_div_0_ng_template_1_ng_template_1_i_0_Template","NzUploadListComponent_div_0_ng_template_1_ng_template_1_Template","_r1297","thumbUrl","url","NzUploadListComponent_div_0_ng_template_1_ng_template_3_img_1_Template","name","NzUploadListComponent_div_0_ng_template_1_ng_template_3_Template","_r1311","handlePreview","_r1299","ctx_r1298","isImageUrl","NzUploadListComponent_div_0_ng_template_1_ng_template_5_Template","NzUploadListComponent_div_0_ng_template_1_ng_template_7_Template","NzUploadListComponent_div_0_ng_template_1_Template","_r1301","ctx_r1285","showPic","NzUploadListComponent_div_0_ng_template_3_ng_container_0_Template","_r1319","linkProps","download","NzUploadListComponent_div_0_ng_template_3_ng_template_1_Template","_r1323","NzUploadListComponent_div_0_ng_template_3_Template","_r1315","NzUploadListComponent_div_0_span_6_ng_template_1_Template","NzUploadListComponent_div_0_span_6_ng_template_2_Template","NzUploadListComponent_div_0_span_6_Template","_r1284","_r1286","message","NzUploadListComponent_div_0_span_7_ng_template_1_Template","NzUploadListComponent_div_0_span_7_ng_template_2_Template","NzUploadListComponent_div_0_span_7_Template","_c3","NzUploadListComponent_div_0_ng_container_8_a_2_Template","_r1335","ctx_r1331","previewFile","NzUploadListComponent_div_0_ng_container_8_i_3_Template","_r1339","handleRemove","ctx_r1332","removeFile","NzUploadListComponent_div_0_ng_container_8_Template","ctx_r1290","showPreview","icons","showRemoveIcon","NzUploadListComponent_div_0_ng_template_9_i_0_Template","_r1344","ctx_r1341","NzUploadListComponent_div_0_ng_template_9_Template","ctx_r1292","NzUploadListComponent_div_0_div_11_Template","percent","NzUploadListComponent_div_0_Template","_r1291","ctx_r1282","_c4","_c5","_c6","NzUploadComponent_ng_template_0_Template","ctx_r1347","nzShowUploadList","nzListType","nzFileList","nzPreview","onRemove","NzUploadComponent_ng_template_2_Template","NzUploadComponent_ng_template_4_ng_template_3_Template","NzUploadComponent_ng_template_4_Template","ctx_r1351","_r1348","nzShowButton","classList","_btnOptions","NzUploadComponent_ng_container_6_ng_template_5_Template","NzUploadComponent_ng_container_6_ng_template_6_Template","_c7","NzUploadComponent_ng_container_6_Template","_r1364","fileDrop","ctx_r1352","_r1346","NzUploadComponent_ng_template_7_ng_container_0_ng_template_1_Template","NzUploadComponent_ng_template_7_ng_container_0_ng_template_2_Template","NzUploadComponent_ng_template_7_ng_container_0_Template","_r1350","NzUploadComponent_ng_template_7_Template","ctx_r1354","_r1355","NzUploadComponent_ng_template_9_ng_template_0_Template","NzUploadComponent_ng_template_9_ng_template_1_Template","NzUploadComponent_ng_template_9_Template","NzUploadModule","NzUploadComponent","NzUploadListComponent","NzUploadBtnComponent","http","el","updateHostClassService","reqs","inited","destroy","classes","prefixCls","options","openFileDialogOnClick","file","click","keyCode","onClick","preventDefault","directory","traverseFileTree","items","files","slice","call","attrAccept","accept","uploadFiles","hie","_traverseFileTree","item","path","isFile","isDirectory","createReader","readEntries","entries","entrieItem","webkitGetAsEntry","acceptedFiles","acceptedFilesArray","split","fileName","mimeType","baseMimeType","some","validType","trim","charAt","toLowerCase","test","uid","random","substring","fileList","filters$","of","filters","f","switchMap","list","fnRes","Observable","attachUid","upload","beforeUpload","post","before","processedFile","processedFileType","opt","data","headers","args","action","withCredentials","onProgress","onSuccess","xhr","clean","onError","req$","customRequest","formData","FormData","append","req","reportProgress","request","event","UploadProgress","loaded","body","err","abort","classMap","updateHostClass","setClassMap","hostVars","onKeyDown","onFileDrop","attrs","ngContentSelectors","onChange","multiple","imageTypes","temp","filenameWithoutSuffix","exec","extension","extname","callback","reader","FileReader","onloadend","readAsDataURL","win","File","originFileObj","previewDataUrl","showPreviewIcon","hidePreviewIconInNonImage","onPreview","genThumb","JSON","parse","_items","animation","opacity","i18n","nzLimit","nzDirectory","nzOpenFileDialogOnClick","nzFilter","nzMultiple","nzName","_showUploadList","nzWithCredentials","nzChange","nzFileListChange","onStart","targetItem","fileToObject","concat","detectChangesList","getFileItem","res","response","error","genErr","uploadComp","nzRemove","removeFileItem","findIndex","w","size","nzFileType","types","nzAccept","nzAction","nzBeforeUpload","nzCustomRequest","nzData","nzHeaders","lastModified","lastModifiedDate","filename","statusText","uploadError","dragState","listComp","subCls","i18n$","localeChange","getLocaleData","zipOptions","_r1353","NzDrawerComponent_ng_template_0_div_1_Template","_r643","maskClick","ctx_r637","nzMaskStyle","NzDrawerComponent_ng_template_0_div_5_div_1_ng_container_1_Template","ctx_r646","nzTitle","NzDrawerComponent_ng_template_0_div_5_div_1_Template","ctx_r644","NzDrawerComponent_ng_template_0_div_5_button_2_Template","_r648","closeClick","NzDrawerComponent_ng_template_0_div_5_Template","ctx_r638","nzClosable","NzDrawerComponent_ng_template_0_ng_template_7_Template","NzDrawerComponent_ng_template_0_ng_container_8_ng_container_1_Template","NzDrawerComponent_ng_template_0_ng_container_8_Template","ctx_r640","nzContent","templateContext","NzDrawerComponent_ng_template_0_9_Template","NzDrawerComponent_ng_template_0_Template","ctx_r636","offsetTransform","nzZIndex","isOpen","nzPlacement","nzNoAnimation","nzMask","nzWrapClassName","isLeftOrRight","nzBodyStyle","isTemplateRef","NzDrawerModule","NzDrawerServiceModule","NzDrawerComponent","ConstructService","TrackService","IfNotIconComponent","SketcherLoadingComponent","NzDrawerRef","renderer","overlay","injector","changeDetectorRef","focusTrapFactory","viewContainerRef","overlayKeyboardDispatcher","super","nzKeyboard","nzHeight","nzOffsetX","nzOffsetY","nzOnViewInit","nzOnClose","drawerRef","nzAfterOpen","nzAfterClose","attachOverlay","updateOverlayStyle","updateBodyOverflow","nzContentParams","attachBodyContent","setTimeout","hasOwnProperty","nzVisible","open","close","disposeOverlay","result","restoreFocus","getAnimationDuration","add","savePreviouslyFocusedElement","trapFocus","nzMaskClosable","bodyPortalOutlet","dispose","childInjector","WeakMap","componentPortal","componentRef","attachComponentPortal","instance","overlayRef","portal","drawerTemplate","create","getOverlayConfig","hasAttached","attach","keydownEvents","positionStrategy","global","scrollStrategy","scrollStrategies","block","overlayElement","setStyle","getConfig","enable","disable","previouslyFocusedElement","blur","focusTrap","focusInitialElement","focus","asObservable","endpoints","api","id","iconColor","TrackDetailsComponent","FilterTracksPipe","builder","onSave","changePos","display","_track","colors","trackForm","group","sequence","pattern","dnaSeqRegex","updateTrackForm","patchValue","pos","touched","valid","updateTrack","max","reset","change","query","includes","SketcherComponent","route","specieSrvc","trackSrvc","constructSrvc","sqrutinySrvc","featureSrvc","fileSrvc","router","notify","modal","navSrvc","tracks","trackHovered","hoveredName","isLoading","categories","specie","species","submitted","showPicker","zoom","isTracksLoading","history","showIndexes","view","locked","autoSave","featuresArray","isFeaturesLoading","sub","queryParams","params","slug","construct","getConstruct","initConstruct","getSpecie","getTracks","getSpecies","getFromSession","isObjectEmpty","obj","getBySlug","finalize","deserialize","getFeatures","getById","saveInSession","getExample","warning","getAll","default","getByCategories","new","tax_id","alias","isChecked","str","nzComponentParams","txt","nzFooter","find","confirm","dna_seq","clearSession","splice","c","elements","selected","someSelected","flag","getExampleConstruct","checkTracks","specie_tax_id","fromConstruct","updateBadge","navigate","getElementById","openSidebar","array_move","target","checked","op","ext","toUpperCase","jsonToGenbank","jsonToFasta","stringify","saveFileAs","success","sessionStorage","getItem","setItem","removeItem","FromFileComponent","OptimizerRoutingModule","component","title","optimize","sketcher","from_file","loader","isSubmitting","allowedExt","customReq","startLoading","stopLoading","total","endpoint","tplModal","loading","nzCancelText","nzOnOk","forChild","OptimizerModule"],"mappings":"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","file":"x","sourcesContent":["import { map } from './map';\nexport function pluck(...properties) {\n    const length = properties.length;\n    if (length === 0) {\n        throw new Error('list of properties cannot be empty.');\n    }\n    return (source) => map(plucker(properties, length))(source);\n}\nfunction plucker(props, length) {\n    const mapper = (x) => {\n        let currentProp = x;\n        for (let i = 0; i < length; i++) {\n            const p = currentProp[props[i]];\n            if (typeof p !== 'undefined') {\n                currentProp = p;\n            }\n            else {\n                return undefined;\n            }\n        }\n        return currentProp;\n    };\n    return mapper;\n}\n//# sourceMappingURL=pluck.js.map","import { __decorate, __metadata } from 'tslib';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, forwardRef, ChangeDetectorRef, ViewChild, Input, Output, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { fromEvent, merge, Subscription } from 'rxjs';\nimport { filter, tap, pluck, map, distinctUntilChanged, takeUntil } from 'rxjs/operators';\nimport { shallowCopyArray, silentEvent, ensureNumberInRange, getPrecision, getPercent, getElementOffset, arraysEqual, InputBoolean, InputNumber } from 'ng-zorro-antd/core';\nimport { CommonModule } from '@angular/common';\nimport { NzTooltipDirective, NzToolTipModule } from 'ng-zorro-antd/tooltip';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-slider-definitions.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * @record\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/platform';\nimport * as ɵngcc2 from '@angular/common';\nimport * as ɵngcc3 from 'ng-zorro-antd/tooltip';\n\nconst _c0 = [\"slider\"];\nfunction NzSliderComponent_nz_slider_step_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"nz-slider-step\", 7);\n} if (rf & 2) {\n    const ctx_r960 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"nzVertical\", ctx_r960.nzVertical)(\"nzLowerBound\", ctx_r960.bounds.lower)(\"nzUpperBound\", ctx_r960.bounds.upper)(\"nzMarksArray\", ctx_r960.marksArray)(\"nzIncluded\", ctx_r960.nzIncluded);\n} }\nfunction NzSliderComponent_nz_slider_handle_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"nz-slider-handle\", 8);\n} if (rf & 2) {\n    const handle_r963 = ctx.$implicit;\n    const ctx_r961 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"nzVertical\", ctx_r961.nzVertical)(\"nzOffset\", handle_r963.offset)(\"nzValue\", handle_r963.value)(\"nzActive\", handle_r963.active)(\"nzTipFormatter\", ctx_r961.nzTipFormatter)(\"nzTooltipVisible\", ctx_r961.nzTooltipVisible)(\"nzTooltipPlacement\", ctx_r961.nzTooltipPlacement);\n} }\nfunction NzSliderComponent_nz_slider_marks_6_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"nz-slider-marks\", 9);\n} if (rf & 2) {\n    const ctx_r962 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"nzVertical\", ctx_r962.nzVertical)(\"nzMin\", ctx_r962.nzMin)(\"nzMax\", ctx_r962.nzMax)(\"nzLowerBound\", ctx_r962.bounds.lower)(\"nzUpperBound\", ctx_r962.bounds.upper)(\"nzMarksArray\", ctx_r962.marksArray)(\"nzIncluded\", ctx_r962.nzIncluded);\n} }\nfunction NzSliderHandleComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 2);\n} if (rf & 2) {\n    const ctx_r964 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ctx_r964.style)(\"nzTitle\", ctx_r964.tooltipTitle)(\"nzTrigger\", null)(\"nzPlacement\", ctx_r964.nzTooltipPlacement);\n} }\nfunction NzSliderHandleComponent_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 3);\n} if (rf & 2) {\n    const ctx_r965 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ctx_r965.style);\n} }\nfunction NzSliderMarksComponent_span_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"span\", 2);\n} if (rf & 2) {\n    const attr_r967 = ctx.$implicit;\n    ɵngcc0.ɵɵclassProp(\"ant-slider-mark-active\", attr_r967.active);\n    ɵngcc0.ɵɵproperty(\"ngStyle\", attr_r967.style)(\"innerHTML\", attr_r967.label, ɵngcc0.ɵɵsanitizeHtml);\n} }\nfunction NzSliderStepComponent_span_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"span\", 2);\n} if (rf & 2) {\n    const mark_r969 = ctx.$implicit;\n    ɵngcc0.ɵɵclassProp(\"ant-slider-dot-active\", mark_r969.active);\n    ɵngcc0.ɵɵproperty(\"ngStyle\", mark_r969.style);\n} }\nfunction MarkObj() { }\nif (false) {\n    /** @type {?|undefined} */\n    MarkObj.prototype.style;\n    /** @type {?} */\n    MarkObj.prototype.label;\n}\nclass Marks {\n}\n/**\n * Processed steps that would be passed to sub components.\n * @record\n */\nfunction ExtendedMark() { }\nif (false) {\n    /** @type {?} */\n    ExtendedMark.prototype.value;\n    /** @type {?} */\n    ExtendedMark.prototype.offset;\n    /** @type {?} */\n    ExtendedMark.prototype.config;\n}\n/**\n * Marks that would be rendered.\n * @record\n */\nfunction DisplayedMark() { }\nif (false) {\n    /** @type {?} */\n    DisplayedMark.prototype.active;\n    /** @type {?} */\n    DisplayedMark.prototype.label;\n    /** @type {?|undefined} */\n    DisplayedMark.prototype.style;\n}\n/**\n * Steps that would be rendered.\n * @record\n */\nfunction DisplayedStep() { }\nif (false) {\n    /** @type {?} */\n    DisplayedStep.prototype.active;\n    /** @type {?|undefined} */\n    DisplayedStep.prototype.style;\n}\n/**\n * @record\n */\nfunction SliderHandler() { }\nif (false) {\n    /** @type {?} */\n    SliderHandler.prototype.offset;\n    /** @type {?} */\n    SliderHandler.prototype.value;\n    /** @type {?} */\n    SliderHandler.prototype.active;\n}\n/**\n * @param {?} value\n * @return {?}\n */\nfunction isValueARange(value) {\n    if (value instanceof Array) {\n        return value.length === 2;\n    }\n    else {\n        return false;\n    }\n}\n/**\n * @param {?} config\n * @return {?}\n */\nfunction isConfigAObject(config) {\n    return config instanceof Object;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-slider-error.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * @return {?}\n */\nfunction getValueTypeNotMatchError() {\n    return new Error(`The \"nzRange\" can't match the \"ngModel\"'s type, please check these properties: \"nzRange\", \"ngModel\", \"nzDefaultValue\".`);\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-slider.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzSliderComponent {\n    /**\n     * @param {?} cdr\n     * @param {?} platform\n     */\n    constructor(cdr, platform) {\n        this.cdr = cdr;\n        this.platform = platform;\n        this.nzDisabled = false;\n        this.nzDots = false;\n        this.nzIncluded = true;\n        this.nzRange = false;\n        this.nzVertical = false;\n        this.nzDefaultValue = null;\n        this.nzMarks = null;\n        this.nzMax = 100;\n        this.nzMin = 0;\n        this.nzStep = 1;\n        this.nzTooltipVisible = 'default';\n        this.nzTooltipPlacement = 'top';\n        this.nzOnAfterChange = new EventEmitter();\n        this.value = null;\n        this.cacheSliderStart = null;\n        this.cacheSliderLength = null;\n        this.activeValueIndex = undefined; // Current activated handle's index ONLY for range=true\n        // Current activated handle's index ONLY for range=true\n        this.track = { offset: null, length: null }; // Track's offset and length\n        // \"steps\" in array type with more data & FILTER out the invalid mark\n        this.bounds = { lower: null, upper: null }; // now for nz-slider-step\n        // now for nz-slider-step\n        this.isDragging = false; // Current dragging state\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.handles = this.generateHandles(this.nzRange ? 2 : 1);\n        this.sliderDOM = this.slider.nativeElement;\n        this.marksArray = this.nzMarks ? this.generateMarkItems(this.nzMarks) : null;\n        if (this.platform.isBrowser) {\n            this.createDraggingObservables();\n        }\n        this.toggleDragDisabled(this.nzDisabled);\n        if (this.getValue() === null) {\n            this.setValue(this.formatValue(null));\n        }\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        const { nzDisabled, nzMarks, nzRange } = changes;\n        if (nzDisabled && !nzDisabled.firstChange) {\n            this.toggleDragDisabled(nzDisabled.currentValue);\n        }\n        else if (nzMarks && !nzMarks.firstChange) {\n            this.marksArray = this.nzMarks ? this.generateMarkItems(this.nzMarks) : null;\n        }\n        else if (nzRange && !nzRange.firstChange) {\n            this.setValue(this.formatValue(null));\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.unsubscribeDrag();\n    }\n    /**\n     * @param {?} val\n     * @return {?}\n     */\n    writeValue(val) {\n        this.setValue(val, true);\n    }\n    /**\n     * @param {?} _value\n     * @return {?}\n     */\n    onValueChange(_value) { }\n    /**\n     * @return {?}\n     */\n    onTouched() { }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnChange(fn) {\n        this.onValueChange = fn;\n    }\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    /**\n     * @param {?} isDisabled\n     * @return {?}\n     */\n    setDisabledState(isDisabled) {\n        this.nzDisabled = isDisabled;\n        this.toggleDragDisabled(isDisabled);\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @param {?=} isWriteValue\n     * @return {?}\n     */\n    setValue(value, isWriteValue = false) {\n        if (isWriteValue) {\n            this.value = this.formatValue(value);\n            this.updateTrackAndHandles();\n        }\n        else if (!this.valuesEqual((/** @type {?} */ (this.value)), (/** @type {?} */ (value)))) {\n            this.value = value;\n            this.updateTrackAndHandles();\n            this.onValueChange(this.getValue(true));\n        }\n    }\n    /**\n     * @private\n     * @param {?=} cloneAndSort\n     * @return {?}\n     */\n    getValue(cloneAndSort = false) {\n        if (cloneAndSort && this.value && isValueARange(this.value)) {\n            return shallowCopyArray(this.value).sort((/**\n             * @param {?} a\n             * @param {?} b\n             * @return {?}\n             */\n            (a, b) => a - b));\n        }\n        return (/** @type {?} */ (this.value));\n    }\n    /**\n     * Clone & sort current value and convert them to offsets, then return the new one.\n     * @private\n     * @param {?=} value\n     * @return {?}\n     */\n    getValueToOffset(value) {\n        /** @type {?} */\n        let normalizedValue = value;\n        if (typeof normalizedValue === 'undefined') {\n            normalizedValue = this.getValue(true);\n        }\n        return isValueARange(normalizedValue)\n            ? normalizedValue.map((/**\n             * @param {?} val\n             * @return {?}\n             */\n            val => this.valueToOffset(val)))\n            : this.valueToOffset(normalizedValue);\n    }\n    /**\n     * Find the closest value to be activated (only for range = true).\n     * @private\n     * @param {?} pointerValue\n     * @return {?}\n     */\n    setActiveValueIndex(pointerValue) {\n        /** @type {?} */\n        const value = this.getValue();\n        if (isValueARange(value)) {\n            /** @type {?} */\n            let minimal = null;\n            /** @type {?} */\n            let gap;\n            /** @type {?} */\n            let activeIndex = -1;\n            value.forEach((/**\n             * @param {?} val\n             * @param {?} index\n             * @return {?}\n             */\n            (val, index) => {\n                gap = Math.abs(pointerValue - val);\n                if (minimal === null || gap < (/** @type {?} */ (minimal))) {\n                    minimal = gap;\n                    activeIndex = index;\n                }\n            }));\n            this.activeValueIndex = activeIndex;\n        }\n    }\n    /**\n     * @private\n     * @param {?} pointerValue\n     * @return {?}\n     */\n    setActiveValue(pointerValue) {\n        if (isValueARange((/** @type {?} */ (this.value)))) {\n            /** @type {?} */\n            const newValue = shallowCopyArray((/** @type {?} */ (this.value)));\n            newValue[(/** @type {?} */ (this.activeValueIndex))] = pointerValue;\n            this.setValue(newValue);\n        }\n        else {\n            this.setValue(pointerValue);\n        }\n    }\n    /**\n     * Update track and handles' position and length.\n     * @private\n     * @return {?}\n     */\n    updateTrackAndHandles() {\n        /** @type {?} */\n        const value = this.getValue();\n        /** @type {?} */\n        const offset = this.getValueToOffset(value);\n        /** @type {?} */\n        const valueSorted = this.getValue(true);\n        /** @type {?} */\n        const offsetSorted = this.getValueToOffset(valueSorted);\n        /** @type {?} */\n        const boundParts = isValueARange(valueSorted) ? valueSorted : [0, valueSorted];\n        /** @type {?} */\n        const trackParts = isValueARange(offsetSorted)\n            ? [offsetSorted[0], offsetSorted[1] - offsetSorted[0]]\n            : [0, offsetSorted];\n        this.handles.forEach((/**\n         * @param {?} handle\n         * @param {?} index\n         * @return {?}\n         */\n        (handle, index) => {\n            handle.offset = isValueARange(offset) ? offset[index] : offset;\n            handle.value = isValueARange(value) ? value[index] : value || 0;\n        }));\n        [this.bounds.lower, this.bounds.upper] = boundParts;\n        [this.track.offset, this.track.length] = trackParts;\n        this.cdr.markForCheck();\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    onDragStart(value) {\n        this.toggleDragMoving(true);\n        this.cacheSliderProperty();\n        this.setActiveValueIndex(value);\n        this.setActiveValue(value);\n        this.showHandleTooltip(this.nzRange ? this.activeValueIndex : 0);\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    onDragMove(value) {\n        this.setActiveValue(value);\n        this.cdr.markForCheck();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    onDragEnd() {\n        this.nzOnAfterChange.emit(this.getValue(true));\n        this.toggleDragMoving(false);\n        this.cacheSliderProperty(true);\n        this.hideAllHandleTooltip();\n        this.cdr.markForCheck();\n    }\n    /**\n     * Create user interactions handles.\n     * @private\n     * @return {?}\n     */\n    createDraggingObservables() {\n        /** @type {?} */\n        const sliderDOM = this.sliderDOM;\n        /** @type {?} */\n        const orientField = this.nzVertical ? 'pageY' : 'pageX';\n        /** @type {?} */\n        const mouse = {\n            start: 'mousedown',\n            move: 'mousemove',\n            end: 'mouseup',\n            pluckKey: [orientField]\n        };\n        /** @type {?} */\n        const touch = {\n            start: 'touchstart',\n            move: 'touchmove',\n            end: 'touchend',\n            pluckKey: ['touches', '0', orientField],\n            filter: (/**\n             * @param {?} e\n             * @return {?}\n             */\n            (e) => e instanceof TouchEvent)\n        };\n        [mouse, touch].forEach((/**\n         * @param {?} source\n         * @return {?}\n         */\n        source => {\n            const { start, move, end, pluckKey, filter: filterFunc = (/**\n             * @return {?}\n             */\n            () => true) } = source;\n            source.startPlucked$ = fromEvent(sliderDOM, start).pipe(filter(filterFunc), tap(silentEvent), pluck(...pluckKey), map((/**\n             * @param {?} position\n             * @return {?}\n             */\n            (position) => this.findClosestValue(position))));\n            source.end$ = fromEvent(document, end);\n            source.moveResolved$ = fromEvent(document, move).pipe(filter(filterFunc), tap(silentEvent), pluck(...pluckKey), distinctUntilChanged(), map((/**\n             * @param {?} position\n             * @return {?}\n             */\n            (position) => this.findClosestValue(position))), distinctUntilChanged(), takeUntil(source.end$));\n        }));\n        this.dragStart$ = merge((/** @type {?} */ (mouse.startPlucked$)), (/** @type {?} */ (touch.startPlucked$)));\n        this.dragMove$ = merge((/** @type {?} */ (mouse.moveResolved$)), (/** @type {?} */ (touch.moveResolved$)));\n        this.dragEnd$ = merge((/** @type {?} */ (mouse.end$)), (/** @type {?} */ (touch.end$)));\n    }\n    /**\n     * @private\n     * @param {?=} periods\n     * @return {?}\n     */\n    subscribeDrag(periods = ['start', 'move', 'end']) {\n        if (periods.indexOf('start') !== -1 && this.dragStart$ && !this.dragStart_) {\n            this.dragStart_ = this.dragStart$.subscribe(this.onDragStart.bind(this));\n        }\n        if (periods.indexOf('move') !== -1 && this.dragMove$ && !this.dragMove_) {\n            this.dragMove_ = this.dragMove$.subscribe(this.onDragMove.bind(this));\n        }\n        if (periods.indexOf('end') !== -1 && this.dragEnd$ && !this.dragEnd_) {\n            this.dragEnd_ = this.dragEnd$.subscribe(this.onDragEnd.bind(this));\n        }\n    }\n    /**\n     * @private\n     * @param {?=} periods\n     * @return {?}\n     */\n    unsubscribeDrag(periods = ['start', 'move', 'end']) {\n        if (periods.indexOf('start') !== -1 && this.dragStart_) {\n            this.dragStart_.unsubscribe();\n            this.dragStart_ = null;\n        }\n        if (periods.indexOf('move') !== -1 && this.dragMove_) {\n            this.dragMove_.unsubscribe();\n            this.dragMove_ = null;\n        }\n        if (periods.indexOf('end') !== -1 && this.dragEnd_) {\n            this.dragEnd_.unsubscribe();\n            this.dragEnd_ = null;\n        }\n    }\n    /**\n     * @private\n     * @param {?} movable\n     * @return {?}\n     */\n    toggleDragMoving(movable) {\n        /** @type {?} */\n        const periods = ['move', 'end'];\n        if (movable) {\n            this.isDragging = true;\n            this.subscribeDrag(periods);\n        }\n        else {\n            this.isDragging = false;\n            this.unsubscribeDrag(periods);\n        }\n    }\n    /**\n     * @private\n     * @param {?} disabled\n     * @return {?}\n     */\n    toggleDragDisabled(disabled) {\n        if (disabled) {\n            this.unsubscribeDrag();\n        }\n        else {\n            this.subscribeDrag(['start']);\n        }\n    }\n    /**\n     * @private\n     * @param {?} position\n     * @return {?}\n     */\n    findClosestValue(position) {\n        /** @type {?} */\n        const sliderStart = this.getSliderStartPosition();\n        /** @type {?} */\n        const sliderLength = this.getSliderLength();\n        /** @type {?} */\n        const ratio = ensureNumberInRange((position - sliderStart) / sliderLength, 0, 1);\n        /** @type {?} */\n        const val = (this.nzMax - this.nzMin) * (this.nzVertical ? 1 - ratio : ratio) + this.nzMin;\n        /** @type {?} */\n        const points = this.nzMarks === null ? [] : Object.keys(this.nzMarks).map(parseFloat);\n        if (this.nzStep !== null && !this.nzDots) {\n            /** @type {?} */\n            const closestOne = Math.round(val / this.nzStep) * this.nzStep;\n            points.push(closestOne);\n        }\n        /** @type {?} */\n        const gaps = points.map((/**\n         * @param {?} point\n         * @return {?}\n         */\n        point => Math.abs(val - point)));\n        /** @type {?} */\n        const closest = points[gaps.indexOf(Math.min(...gaps))];\n        return this.nzStep === null ? closest : parseFloat(closest.toFixed(getPrecision(this.nzStep)));\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    valueToOffset(value) {\n        return getPercent(this.nzMin, this.nzMax, value);\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getSliderStartPosition() {\n        if (this.cacheSliderStart !== null) {\n            return this.cacheSliderStart;\n        }\n        /** @type {?} */\n        const offset = getElementOffset(this.sliderDOM);\n        return this.nzVertical ? offset.top : offset.left;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getSliderLength() {\n        if (this.cacheSliderLength !== null) {\n            return this.cacheSliderLength;\n        }\n        /** @type {?} */\n        const sliderDOM = this.sliderDOM;\n        return this.nzVertical ? sliderDOM.clientHeight : sliderDOM.clientWidth;\n    }\n    /**\n     * Cache DOM layout/reflow operations for performance (may not necessary?)\n     * @private\n     * @param {?=} remove\n     * @return {?}\n     */\n    cacheSliderProperty(remove = false) {\n        this.cacheSliderStart = remove ? null : this.getSliderStartPosition();\n        this.cacheSliderLength = remove ? null : this.getSliderLength();\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    formatValue(value) {\n        /** @type {?} */\n        let res = value;\n        if (!this.assertValueValid((/** @type {?} */ (value)))) {\n            res = this.nzDefaultValue === null ? (this.nzRange ? [this.nzMin, this.nzMax] : this.nzMin) : this.nzDefaultValue;\n        }\n        else {\n            res = isValueARange((/** @type {?} */ (value)))\n                ? ((/** @type {?} */ (value))).map((/**\n                 * @param {?} val\n                 * @return {?}\n                 */\n                val => ensureNumberInRange(val, this.nzMin, this.nzMax)))\n                : ensureNumberInRange((/** @type {?} */ (value)), this.nzMin, this.nzMax);\n        }\n        return res;\n    }\n    /**\n     * Check if value is valid and throw error if value-type/range not match.\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    assertValueValid(value) {\n        if (!Array.isArray(value) && isNaN(typeof value !== 'number' ? parseFloat(value) : value)) {\n            return false;\n        }\n        return this.assertValueTypeMatch(value);\n    }\n    /**\n     * Assert that if `this.nzRange` is `true`, value is also a range, vice versa.\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    assertValueTypeMatch(value) {\n        if (!value) {\n            return true;\n        }\n        else if (isValueARange(value) !== this.nzRange) {\n            throw getValueTypeNotMatchError();\n        }\n        else {\n            return true;\n        }\n    }\n    /**\n     * @private\n     * @param {?} valA\n     * @param {?} valB\n     * @return {?}\n     */\n    valuesEqual(valA, valB) {\n        if (typeof valA !== typeof valB) {\n            return false;\n        }\n        return isValueARange(valA) && isValueARange(valB) ? arraysEqual(valA, valB) : valA === valB;\n    }\n    /**\n     * Show one handle's tooltip and hide others'.\n     * @private\n     * @param {?=} handleIndex\n     * @return {?}\n     */\n    showHandleTooltip(handleIndex = 0) {\n        this.handles.forEach((/**\n         * @param {?} handle\n         * @param {?} index\n         * @return {?}\n         */\n        (handle, index) => {\n            handle.active = index === handleIndex;\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    hideAllHandleTooltip() {\n        this.handles.forEach((/**\n         * @param {?} handle\n         * @return {?}\n         */\n        handle => (handle.active = false)));\n    }\n    /**\n     * @private\n     * @param {?} amount\n     * @return {?}\n     */\n    generateHandles(amount) {\n        return Array(amount)\n            .fill(0)\n            .map((/**\n         * @return {?}\n         */\n        () => ({ offset: null, value: null, active: false })));\n    }\n    /**\n     * @private\n     * @param {?} marks\n     * @return {?}\n     */\n    generateMarkItems(marks) {\n        /** @type {?} */\n        const marksArray = [];\n        for (const key in marks) {\n            /** @type {?} */\n            const mark = marks[key];\n            /** @type {?} */\n            const val = typeof key === 'number' ? key : parseFloat(key);\n            if (val >= this.nzMin && val <= this.nzMax) {\n                marksArray.push({ value: val, offset: this.valueToOffset(val), config: mark });\n            }\n        }\n        return marksArray.length ? marksArray : null;\n    }\n}\nNzSliderComponent.ɵfac = function NzSliderComponent_Factory(t) { return new (t || NzSliderComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Platform)); };\nNzSliderComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzSliderComponent, selectors: [[\"nz-slider\"]], viewQuery: function NzSliderComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticViewQuery(_c0, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.slider = _t.first);\n    } }, inputs: { nzDisabled: \"nzDisabled\", nzDots: \"nzDots\", nzIncluded: \"nzIncluded\", nzRange: \"nzRange\", nzVertical: \"nzVertical\", nzDefaultValue: \"nzDefaultValue\", nzMarks: \"nzMarks\", nzMax: \"nzMax\", nzMin: \"nzMin\", nzStep: \"nzStep\", nzTooltipVisible: \"nzTooltipVisible\", nzTooltipPlacement: \"nzTooltipPlacement\", nzTipFormatter: \"nzTipFormatter\" }, outputs: { nzOnAfterChange: \"nzOnAfterChange\" }, exportAs: [\"nzSlider\"], features: [ɵngcc0.ɵɵProvidersFeature([\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: forwardRef(( /**\n                 * @return {?}\n                 */() => NzSliderComponent)),\n                multi: true\n            }\n        ]), ɵngcc0.ɵɵNgOnChangesFeature()], decls: 7, vars: 13, consts: [[1, \"ant-slider\"], [\"slider\", \"\"], [1, \"ant-slider-rail\"], [3, \"nzVertical\", \"nzIncluded\", \"nzOffset\", \"nzLength\"], [3, \"nzVertical\", \"nzLowerBound\", \"nzUpperBound\", \"nzMarksArray\", \"nzIncluded\", 4, \"ngIf\"], [3, \"nzVertical\", \"nzOffset\", \"nzValue\", \"nzActive\", \"nzTipFormatter\", \"nzTooltipVisible\", \"nzTooltipPlacement\", 4, \"ngFor\", \"ngForOf\"], [3, \"nzVertical\", \"nzMin\", \"nzMax\", \"nzLowerBound\", \"nzUpperBound\", \"nzMarksArray\", \"nzIncluded\", 4, \"ngIf\"], [3, \"nzVertical\", \"nzLowerBound\", \"nzUpperBound\", \"nzMarksArray\", \"nzIncluded\"], [3, \"nzVertical\", \"nzOffset\", \"nzValue\", \"nzActive\", \"nzTipFormatter\", \"nzTooltipVisible\", \"nzTooltipPlacement\"], [3, \"nzVertical\", \"nzMin\", \"nzMax\", \"nzLowerBound\", \"nzUpperBound\", \"nzMarksArray\", \"nzIncluded\"]], template: function NzSliderComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0, 1);\n        ɵngcc0.ɵɵelement(2, \"div\", 2);\n        ɵngcc0.ɵɵelement(3, \"nz-slider-track\", 3);\n        ɵngcc0.ɵɵtemplate(4, NzSliderComponent_nz_slider_step_4_Template, 1, 5, \"nz-slider-step\", 4);\n        ɵngcc0.ɵɵtemplate(5, NzSliderComponent_nz_slider_handle_5_Template, 1, 7, \"nz-slider-handle\", 5);\n        ɵngcc0.ɵɵtemplate(6, NzSliderComponent_nz_slider_marks_6_Template, 1, 7, \"nz-slider-marks\", 6);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"ant-slider-disabled\", ctx.nzDisabled)(\"ant-slider-vertical\", ctx.nzVertical)(\"ant-slider-with-marks\", ctx.marksArray);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"nzVertical\", ctx.nzVertical)(\"nzIncluded\", ctx.nzIncluded)(\"nzOffset\", ctx.track.offset)(\"nzLength\", ctx.track.length);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.marksArray);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.handles);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.marksArray);\n    } }, directives: function () { return [NzSliderTrackComponent, ɵngcc2.NgIf, ɵngcc2.NgForOf, NzSliderStepComponent,\n        NzSliderHandleComponent,\n        NzSliderMarksComponent]; }, encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nNzSliderComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: Platform }\n];\nNzSliderComponent.propDecorators = {\n    slider: [{ type: ViewChild, args: ['slider', { static: true },] }],\n    nzDisabled: [{ type: Input }],\n    nzDots: [{ type: Input }],\n    nzIncluded: [{ type: Input }],\n    nzRange: [{ type: Input }],\n    nzVertical: [{ type: Input }],\n    nzDefaultValue: [{ type: Input }],\n    nzMarks: [{ type: Input }],\n    nzMax: [{ type: Input }],\n    nzMin: [{ type: Input }],\n    nzStep: [{ type: Input }],\n    nzTooltipVisible: [{ type: Input }],\n    nzTooltipPlacement: [{ type: Input }],\n    nzTipFormatter: [{ type: Input }],\n    nzOnAfterChange: [{ type: Output }]\n};\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzSliderComponent.prototype, \"nzDisabled\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzSliderComponent.prototype, \"nzDots\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzSliderComponent.prototype, \"nzIncluded\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzSliderComponent.prototype, \"nzRange\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzSliderComponent.prototype, \"nzVertical\", void 0);\nif (false) {\n    /** @type {?} */\n    NzSliderComponent.prototype.slider;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzDisabled;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzDots;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzIncluded;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzRange;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzVertical;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzDefaultValue;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzMarks;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzMax;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzMin;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzStep;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzTooltipVisible;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzTooltipPlacement;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzTipFormatter;\n    /** @type {?} */\n    NzSliderComponent.prototype.nzOnAfterChange;\n    /** @type {?} */\n    NzSliderComponent.prototype.value;\n    /** @type {?} */\n    NzSliderComponent.prototype.sliderDOM;\n    /** @type {?} */\n    NzSliderComponent.prototype.cacheSliderStart;\n    /** @type {?} */\n    NzSliderComponent.prototype.cacheSliderLength;\n    /** @type {?} */\n    NzSliderComponent.prototype.activeValueIndex;\n    /** @type {?} */\n    NzSliderComponent.prototype.track;\n    /** @type {?} */\n    NzSliderComponent.prototype.handles;\n    /** @type {?} */\n    NzSliderComponent.prototype.marksArray;\n    /** @type {?} */\n    NzSliderComponent.prototype.bounds;\n    /** @type {?} */\n    NzSliderComponent.prototype.isDragging;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderComponent.prototype.dragStart$;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderComponent.prototype.dragMove$;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderComponent.prototype.dragEnd$;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderComponent.prototype.dragStart_;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderComponent.prototype.dragMove_;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderComponent.prototype.dragEnd_;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderComponent.prototype.cdr;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderComponent.prototype.platform;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-slider-handle.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzSliderHandleComponent {\n    /**\n     * @param {?} sliderComponent\n     * @param {?} cdr\n     */\n    constructor(sliderComponent, cdr) {\n        this.sliderComponent = sliderComponent;\n        this.cdr = cdr;\n        this.nzTooltipVisible = 'default';\n        this.nzActive = false;\n        this.style = {};\n        this.hovers_ = new Subscription();\n        this.enterHandle = (/**\n         * @return {?}\n         */\n        () => {\n            if (!this.sliderComponent.isDragging) {\n                this.toggleTooltip(true);\n                this.updateTooltipPosition();\n                this.cdr.detectChanges();\n            }\n        });\n        this.leaveHandle = (/**\n         * @return {?}\n         */\n        () => {\n            if (!this.sliderComponent.isDragging) {\n                this.toggleTooltip(false);\n                this.cdr.detectChanges();\n            }\n        });\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        const { nzOffset, nzValue, nzActive, nzTooltipVisible } = changes;\n        if (nzOffset) {\n            this.updateStyle();\n        }\n        if (nzValue) {\n            this.updateTooltipTitle();\n            this.updateTooltipPosition();\n        }\n        if (nzActive) {\n            if (nzActive.currentValue) {\n                this.toggleTooltip(true);\n            }\n            else {\n                this.toggleTooltip(false);\n            }\n        }\n        if (nzTooltipVisible && nzTooltipVisible.currentValue === 'always') {\n            Promise.resolve().then((/**\n             * @return {?}\n             */\n            () => this.toggleTooltip(true, true)));\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.hovers_.unsubscribe();\n    }\n    /**\n     * @private\n     * @param {?} show\n     * @param {?=} force\n     * @return {?}\n     */\n    toggleTooltip(show, force = false) {\n        if (!force && (this.nzTooltipVisible !== 'default' || !this.tooltip)) {\n            return;\n        }\n        if (show) {\n            this.tooltip.show();\n        }\n        else {\n            this.tooltip.hide();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    updateTooltipTitle() {\n        this.tooltipTitle = this.nzTipFormatter ? this.nzTipFormatter(this.nzValue) : `${this.nzValue}`;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    updateTooltipPosition() {\n        if (this.tooltip) {\n            Promise.resolve().then((/**\n             * @return {?}\n             */\n            () => this.tooltip.updatePosition()));\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    updateStyle() {\n        this.style[this.nzVertical ? 'bottom' : 'left'] = `${this.nzOffset}%`;\n        this.cdr.markForCheck();\n    }\n}\nNzSliderHandleComponent.ɵfac = function NzSliderHandleComponent_Factory(t) { return new (t || NzSliderHandleComponent)(ɵngcc0.ɵɵdirectiveInject(NzSliderComponent), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nNzSliderHandleComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzSliderHandleComponent, selectors: [[\"nz-slider-handle\"]], viewQuery: function NzSliderHandleComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(NzTooltipDirective, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tooltip = _t.first);\n    } }, hostBindings: function NzSliderHandleComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"mouseenter\", function NzSliderHandleComponent_mouseenter_HostBindingHandler($event) { return ctx.enterHandle(); })(\"mouseleave\", function NzSliderHandleComponent_mouseleave_HostBindingHandler($event) { return ctx.leaveHandle(); });\n    } }, inputs: { nzTooltipVisible: \"nzTooltipVisible\", nzActive: \"nzActive\", nzVertical: \"nzVertical\", nzOffset: \"nzOffset\", nzValue: \"nzValue\", nzTooltipPlacement: \"nzTooltipPlacement\", nzTipFormatter: \"nzTipFormatter\" }, exportAs: [\"nzSliderHandle\"], features: [ɵngcc0.ɵɵNgOnChangesFeature()], decls: 2, vars: 2, consts: [[\"nz-tooltip\", \"\", \"class\", \"ant-slider-handle\", 3, \"ngStyle\", \"nzTitle\", \"nzTrigger\", \"nzPlacement\", 4, \"ngIf\"], [\"class\", \"ant-slider-handle\", 3, \"ngStyle\", 4, \"ngIf\"], [\"nz-tooltip\", \"\", 1, \"ant-slider-handle\", 3, \"ngStyle\", \"nzTitle\", \"nzTrigger\", \"nzPlacement\"], [1, \"ant-slider-handle\", 3, \"ngStyle\"]], template: function NzSliderHandleComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, NzSliderHandleComponent_div_0_Template, 1, 4, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, NzSliderHandleComponent_div_1_Template, 1, 1, \"div\", 1);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzTipFormatter !== null && ctx.nzTooltipVisible !== \"never\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzTipFormatter === null || ctx.nzTooltipVisible === \"never\");\n    } }, directives: [ɵngcc2.NgIf, ɵngcc3.NzTooltipDirective, ɵngcc2.NgStyle], encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nNzSliderHandleComponent.ctorParameters = () => [\n    { type: NzSliderComponent },\n    { type: ChangeDetectorRef }\n];\nNzSliderHandleComponent.propDecorators = {\n    tooltip: [{ type: ViewChild, args: [NzTooltipDirective, { static: false },] }],\n    nzVertical: [{ type: Input }],\n    nzOffset: [{ type: Input }],\n    nzValue: [{ type: Input }],\n    nzTooltipVisible: [{ type: Input }],\n    nzTooltipPlacement: [{ type: Input }],\n    nzTipFormatter: [{ type: Input }],\n    nzActive: [{ type: Input }]\n};\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzSliderHandleComponent.prototype, \"nzActive\", void 0);\nif (false) {\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.tooltip;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.nzVertical;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.nzOffset;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.nzValue;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.nzTooltipVisible;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.nzTooltipPlacement;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.nzTipFormatter;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.nzActive;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.tooltipTitle;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.style;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderHandleComponent.prototype.hovers_;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.enterHandle;\n    /** @type {?} */\n    NzSliderHandleComponent.prototype.leaveHandle;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderHandleComponent.prototype.sliderComponent;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzSliderHandleComponent.prototype.cdr;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-slider-marks.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzSliderMarksComponent {\n    constructor() {\n        this.nzLowerBound = null;\n        this.nzUpperBound = null;\n        this.nzVertical = false;\n        this.nzIncluded = false;\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.nzMarksArray) {\n            this.buildMarks();\n        }\n        if (changes.nzMarksArray || changes.nzLowerBound || changes.nzUpperBound) {\n            this.togglePointActive();\n        }\n    }\n    /**\n     * @param {?} _index\n     * @param {?} mark\n     * @return {?}\n     */\n    trackById(_index, mark) {\n        return mark.value;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    buildMarks() {\n        /** @type {?} */\n        const range = this.nzMax - this.nzMin;\n        this.marks = this.nzMarksArray.map((/**\n         * @param {?} mark\n         * @return {?}\n         */\n        mark => {\n            const { value, offset, config } = mark;\n            /** @type {?} */\n            const style = this.getMarkStyles(value, range, config);\n            /** @type {?} */\n            const label = isConfigAObject(config) ? config.label : config;\n            return {\n                label,\n                offset,\n                style,\n                value,\n                config,\n                active: false\n            };\n        }));\n    }\n    /**\n     * @private\n     * @param {?} value\n     * @param {?} range\n     * @param {?} config\n     * @return {?}\n     */\n    getMarkStyles(value, range, config) {\n        /** @type {?} */\n        let style;\n        if (this.nzVertical) {\n            style = {\n                marginBottom: '-50%',\n                bottom: `${((value - this.nzMin) / range) * 100}%`\n            };\n        }\n        else {\n            style = {\n                transform: `translate3d(-50%, 0, 0)`,\n                left: `${((value - this.nzMin) / range) * 100}%`\n            };\n        }\n        if (isConfigAObject(config) && config.style) {\n            style = Object.assign({}, style, config.style);\n        }\n        return style;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    togglePointActive() {\n        if (this.marks && this.nzLowerBound !== null && this.nzUpperBound !== null) {\n            this.marks.forEach((/**\n             * @param {?} mark\n             * @return {?}\n             */\n            mark => {\n                /** @type {?} */\n                const value = mark.value;\n                /** @type {?} */\n                const isActive = (!this.nzIncluded && value === this.nzUpperBound) ||\n                    (this.nzIncluded && value <= (/** @type {?} */ (this.nzUpperBound)) && value >= (/** @type {?} */ (this.nzLowerBound)));\n                mark.active = isActive;\n            }));\n        }\n    }\n}\nNzSliderMarksComponent.ɵfac = function NzSliderMarksComponent_Factory(t) { return new (t || NzSliderMarksComponent)(); };\nNzSliderMarksComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzSliderMarksComponent, selectors: [[\"nz-slider-marks\"]], inputs: { nzLowerBound: \"nzLowerBound\", nzUpperBound: \"nzUpperBound\", nzVertical: \"nzVertical\", nzIncluded: \"nzIncluded\", nzMarksArray: \"nzMarksArray\", nzMin: \"nzMin\", nzMax: \"nzMax\" }, exportAs: [\"nzSliderMarks\"], features: [ɵngcc0.ɵɵNgOnChangesFeature()], decls: 2, vars: 2, consts: [[1, \"ant-slider-mark\"], [\"class\", \"ant-slider-mark-text\", 3, \"ant-slider-mark-active\", \"ngStyle\", \"innerHTML\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"ant-slider-mark-text\", 3, \"ngStyle\", \"innerHTML\"]], template: function NzSliderMarksComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, NzSliderMarksComponent_span_1_Template, 1, 4, \"span\", 1);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.marks)(\"ngForTrackBy\", ctx.trackById);\n    } }, directives: [ɵngcc2.NgForOf, ɵngcc2.NgStyle], encapsulation: 2, changeDetection: 0 });\nNzSliderMarksComponent.propDecorators = {\n    nzLowerBound: [{ type: Input }],\n    nzUpperBound: [{ type: Input }],\n    nzMarksArray: [{ type: Input }],\n    nzMin: [{ type: Input }],\n    nzMax: [{ type: Input }],\n    nzVertical: [{ type: Input }],\n    nzIncluded: [{ type: Input }]\n};\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzSliderMarksComponent.prototype, \"nzVertical\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzSliderMarksComponent.prototype, \"nzIncluded\", void 0);\nif (false) {\n    /** @type {?} */\n    NzSliderMarksComponent.prototype.nzLowerBound;\n    /** @type {?} */\n    NzSliderMarksComponent.prototype.nzUpperBound;\n    /** @type {?} */\n    NzSliderMarksComponent.prototype.nzMarksArray;\n    /** @type {?} */\n    NzSliderMarksComponent.prototype.nzMin;\n    /** @type {?} */\n    NzSliderMarksComponent.prototype.nzMax;\n    /** @type {?} */\n    NzSliderMarksComponent.prototype.nzVertical;\n    /** @type {?} */\n    NzSliderMarksComponent.prototype.nzIncluded;\n    /** @type {?} */\n    NzSliderMarksComponent.prototype.marks;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-slider-step.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzSliderStepComponent {\n    constructor() {\n        this.nzLowerBound = null;\n        this.nzUpperBound = null;\n        this.nzVertical = false;\n        this.nzIncluded = false;\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.nzMarksArray) {\n            this.buildSteps();\n        }\n        if (changes.nzMarksArray || changes.nzLowerBound || changes.nzUpperBound) {\n            this.togglePointActive();\n        }\n    }\n    /**\n     * @param {?} _index\n     * @param {?} step\n     * @return {?}\n     */\n    trackById(_index, step) {\n        return step.value;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    buildSteps() {\n        /** @type {?} */\n        const orient = this.nzVertical ? 'bottom' : 'left';\n        this.steps = this.nzMarksArray.map((/**\n         * @param {?} mark\n         * @return {?}\n         */\n        mark => {\n            const { value, offset, config } = mark;\n            return {\n                value,\n                offset,\n                config,\n                active: false,\n                style: {\n                    [orient]: `${offset}%`\n                }\n            };\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    togglePointActive() {\n        if (this.steps && this.nzLowerBound !== null && this.nzUpperBound !== null) {\n            this.steps.forEach((/**\n             * @param {?} step\n             * @return {?}\n             */\n            step => {\n                /** @type {?} */\n                const value = step.value;\n                /** @type {?} */\n                const isActive = (!this.nzIncluded && value === this.nzUpperBound) ||\n                    (this.nzIncluded && value <= (/** @type {?} */ (this.nzUpperBound)) && value >= (/** @type {?} */ (this.nzLowerBound)));\n                step.active = isActive;\n            }));\n        }\n    }\n}\nNzSliderStepComponent.ɵfac = function NzSliderStepComponent_Factory(t) { return new (t || NzSliderStepComponent)(); };\nNzSliderStepComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzSliderStepComponent, selectors: [[\"nz-slider-step\"]], inputs: { nzLowerBound: \"nzLowerBound\", nzUpperBound: \"nzUpperBound\", nzVertical: \"nzVertical\", nzIncluded: \"nzIncluded\", nzMarksArray: \"nzMarksArray\" }, exportAs: [\"nzSliderStep\"], features: [ɵngcc0.ɵɵNgOnChangesFeature()], decls: 2, vars: 2, consts: [[1, \"ant-slider-step\"], [\"class\", \"ant-slider-dot\", 3, \"ant-slider-dot-active\", \"ngStyle\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"ant-slider-dot\", 3, \"ngStyle\"]], template: function NzSliderStepComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, NzSliderStepComponent_span_1_Template, 1, 3, \"span\", 1);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.steps)(\"ngForTrackBy\", ctx.trackById);\n    } }, directives: [ɵngcc2.NgForOf, ɵngcc2.NgStyle], encapsulation: 2, changeDetection: 0 });\nNzSliderStepComponent.propDecorators = {\n    nzLowerBound: [{ type: Input }],\n    nzUpperBound: [{ type: Input }],\n    nzMarksArray: [{ type: Input }],\n    nzVertical: [{ type: Input }],\n    nzIncluded: [{ type: Input }]\n};\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzSliderStepComponent.prototype, \"nzVertical\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzSliderStepComponent.prototype, \"nzIncluded\", void 0);\nif (false) {\n    /** @type {?} */\n    NzSliderStepComponent.prototype.nzLowerBound;\n    /** @type {?} */\n    NzSliderStepComponent.prototype.nzUpperBound;\n    /** @type {?} */\n    NzSliderStepComponent.prototype.nzMarksArray;\n    /** @type {?} */\n    NzSliderStepComponent.prototype.nzVertical;\n    /** @type {?} */\n    NzSliderStepComponent.prototype.nzIncluded;\n    /** @type {?} */\n    NzSliderStepComponent.prototype.steps;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-slider-track.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction NzSliderTrackStyle() { }\nif (false) {\n    /** @type {?|undefined} */\n    NzSliderTrackStyle.prototype.bottom;\n    /** @type {?|undefined} */\n    NzSliderTrackStyle.prototype.height;\n    /** @type {?|undefined} */\n    NzSliderTrackStyle.prototype.left;\n    /** @type {?|undefined} */\n    NzSliderTrackStyle.prototype.width;\n    /** @type {?|undefined} */\n    NzSliderTrackStyle.prototype.visibility;\n}\nclass NzSliderTrackComponent {\n    constructor() {\n        this.nzVertical = false;\n        this.nzIncluded = false;\n        this.style = {};\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.nzIncluded) {\n            this.style.visibility = this.nzIncluded ? 'visible' : 'hidden';\n        }\n        if (changes.nzVertical || changes.nzOffset || changes.nzLength) {\n            if (this.nzVertical) {\n                this.style.bottom = `${this.nzOffset}%`;\n                this.style.height = `${this.nzLength}%`;\n                this.style.left = null;\n                this.style.width = null;\n            }\n            else {\n                this.style.left = `${this.nzOffset}%`;\n                this.style.width = `${this.nzLength}%`;\n                this.style.bottom = null;\n                this.style.height = null;\n            }\n        }\n    }\n}\nNzSliderTrackComponent.ɵfac = function NzSliderTrackComponent_Factory(t) { return new (t || NzSliderTrackComponent)(); };\nNzSliderTrackComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzSliderTrackComponent, selectors: [[\"nz-slider-track\"]], inputs: { nzVertical: \"nzVertical\", nzIncluded: \"nzIncluded\", nzOffset: \"nzOffset\", nzLength: \"nzLength\" }, exportAs: [\"nzSliderTrack\"], features: [ɵngcc0.ɵɵNgOnChangesFeature()], decls: 1, vars: 1, consts: [[1, \"ant-slider-track\", 3, \"ngStyle\"]], template: function NzSliderTrackComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"div\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngStyle\", ctx.style);\n    } }, directives: [ɵngcc2.NgStyle], encapsulation: 2, changeDetection: 0 });\nNzSliderTrackComponent.propDecorators = {\n    nzOffset: [{ type: Input }],\n    nzLength: [{ type: Input }],\n    nzVertical: [{ type: Input }],\n    nzIncluded: [{ type: Input }]\n};\n__decorate([\n    InputNumber(),\n    __metadata(\"design:type\", Number)\n], NzSliderTrackComponent.prototype, \"nzOffset\", void 0);\n__decorate([\n    InputNumber(),\n    __metadata(\"design:type\", Number)\n], NzSliderTrackComponent.prototype, \"nzLength\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzSliderTrackComponent.prototype, \"nzVertical\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzSliderTrackComponent.prototype, \"nzIncluded\", void 0);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzSliderComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                selector: 'nz-slider',\n                exportAs: 'nzSlider',\n                preserveWhitespaces: false,\n                providers: [\n                    {\n                        provide: NG_VALUE_ACCESSOR,\n                        useExisting: forwardRef(( /**\n                         * @return {?}\n                         */() => NzSliderComponent)),\n                        multi: true\n                    }\n                ],\n                template: \"<div #slider\\n  class=\\\"ant-slider\\\"\\n  [class.ant-slider-disabled]=\\\"nzDisabled\\\"\\n  [class.ant-slider-vertical]=\\\"nzVertical\\\"\\n  [class.ant-slider-with-marks]=\\\"marksArray\\\">\\n  <div class=\\\"ant-slider-rail\\\"></div>\\n  <nz-slider-track\\n    [nzVertical]=\\\"nzVertical\\\"\\n    [nzIncluded]=\\\"nzIncluded\\\"\\n    [nzOffset]=\\\"track.offset\\\"\\n    [nzLength]=\\\"track.length\\\"></nz-slider-track>\\n  <nz-slider-step\\n    *ngIf=\\\"marksArray\\\"\\n    [nzVertical]=\\\"nzVertical\\\"\\n    [nzLowerBound]=\\\"bounds.lower\\\"\\n    [nzUpperBound]=\\\"bounds.upper\\\"\\n    [nzMarksArray]=\\\"marksArray\\\"\\n    [nzIncluded]=\\\"nzIncluded\\\"></nz-slider-step>\\n  <nz-slider-handle\\n    *ngFor=\\\"let handle of handles\\\"\\n    [nzVertical]=\\\"nzVertical\\\"\\n    [nzOffset]=\\\"handle.offset\\\"\\n    [nzValue]=\\\"handle.value\\\"\\n    [nzActive]=\\\"handle.active\\\"\\n    [nzTipFormatter]=\\\"nzTipFormatter\\\"\\n    [nzTooltipVisible]=\\\"nzTooltipVisible\\\"\\n    [nzTooltipPlacement]=\\\"nzTooltipPlacement\\\"\\n    ></nz-slider-handle>\\n  <nz-slider-marks\\n    *ngIf=\\\"marksArray\\\"\\n    [nzVertical]=\\\"nzVertical\\\"\\n    [nzMin]=\\\"nzMin\\\"\\n    [nzMax]=\\\"nzMax\\\"\\n    [nzLowerBound]=\\\"bounds.lower\\\"\\n    [nzUpperBound]=\\\"bounds.upper\\\"\\n    [nzMarksArray]=\\\"marksArray\\\"\\n    [nzIncluded]=\\\"nzIncluded\\\"></nz-slider-marks>\\n</div>\"\n            }]\n    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.Platform }]; }, { nzDisabled: [{\n            type: Input\n        }], nzDots: [{\n            type: Input\n        }], nzIncluded: [{\n            type: Input\n        }], nzRange: [{\n            type: Input\n        }], nzVertical: [{\n            type: Input\n        }], nzDefaultValue: [{\n            type: Input\n        }], nzMarks: [{\n            type: Input\n        }], nzMax: [{\n            type: Input\n        }], nzMin: [{\n            type: Input\n        }], nzStep: [{\n            type: Input\n        }], nzTooltipVisible: [{\n            type: Input\n        }], nzTooltipPlacement: [{\n            type: Input\n        }], nzOnAfterChange: [{\n            type: Output\n        }], slider: [{\n            type: ViewChild,\n            args: ['slider', { static: true }]\n        }], nzTipFormatter: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzSliderHandleComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                selector: 'nz-slider-handle',\n                exportAs: 'nzSliderHandle',\n                preserveWhitespaces: false,\n                template: \"<div nz-tooltip\\n     *ngIf=\\\"nzTipFormatter !== null && nzTooltipVisible !== 'never'\\\"\\n     class=\\\"ant-slider-handle\\\"\\n     [ngStyle]=\\\"style\\\"\\n     [nzTitle]=\\\"tooltipTitle\\\"\\n     [nzTrigger]=\\\"null\\\"\\n     [nzPlacement]=\\\"nzTooltipPlacement\\\"></div>\\n<div *ngIf=\\\"nzTipFormatter === null || nzTooltipVisible === 'never'\\\"\\n     class=\\\"ant-slider-handle\\\"\\n     [ngStyle]=\\\"style\\\"></div>\\n\",\n                host: {\n                    '(mouseenter)': 'enterHandle()',\n                    '(mouseleave)': 'leaveHandle()'\n                }\n            }]\n    }], function () { return [{ type: NzSliderComponent }, { type: ɵngcc0.ChangeDetectorRef }]; }, { nzTooltipVisible: [{\n            type: Input\n        }], nzActive: [{\n            type: Input\n        }], tooltip: [{\n            type: ViewChild,\n            args: [NzTooltipDirective, { static: false }]\n        }], nzVertical: [{\n            type: Input\n        }], nzOffset: [{\n            type: Input\n        }], nzValue: [{\n            type: Input\n        }], nzTooltipPlacement: [{\n            type: Input\n        }], nzTipFormatter: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzSliderMarksComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                preserveWhitespaces: false,\n                selector: 'nz-slider-marks',\n                exportAs: 'nzSliderMarks',\n                template: \"<div class=\\\"ant-slider-mark\\\">\\n  <span\\n    class=\\\"ant-slider-mark-text\\\"\\n    *ngFor=\\\"let attr of marks; trackBy: trackById\\\"\\n    [class.ant-slider-mark-active]=\\\"attr.active\\\"\\n    [ngStyle]=\\\"attr.style\\\"\\n    [innerHTML]=\\\"attr.label\\\">\\n  </span>\\n</div>\"\n            }]\n    }], function () { return []; }, { nzLowerBound: [{\n            type: Input\n        }], nzUpperBound: [{\n            type: Input\n        }], nzVertical: [{\n            type: Input\n        }], nzIncluded: [{\n            type: Input\n        }], nzMarksArray: [{\n            type: Input\n        }], nzMin: [{\n            type: Input\n        }], nzMax: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzSliderStepComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                selector: 'nz-slider-step',\n                exportAs: 'nzSliderStep',\n                preserveWhitespaces: false,\n                template: \"<div class=\\\"ant-slider-step\\\">\\n  <span\\n    class=\\\"ant-slider-dot\\\"\\n    *ngFor=\\\"let mark of steps; trackBy: trackById\\\"\\n    [class.ant-slider-dot-active]=\\\"mark.active\\\"\\n    [ngStyle]=\\\"mark.style\\\">\\n  </span>\\n</div>\"\n            }]\n    }], function () { return []; }, { nzLowerBound: [{\n            type: Input\n        }], nzUpperBound: [{\n            type: Input\n        }], nzVertical: [{\n            type: Input\n        }], nzIncluded: [{\n            type: Input\n        }], nzMarksArray: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzSliderTrackComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                selector: 'nz-slider-track',\n                exportAs: 'nzSliderTrack',\n                preserveWhitespaces: false,\n                template: \"<div class=\\\"ant-slider-track\\\" [ngStyle]=\\\"style\\\"></div>\"\n            }]\n    }], function () { return []; }, { nzVertical: [{\n            type: Input\n        }], nzIncluded: [{\n            type: Input\n        }], nzOffset: [{\n            type: Input\n        }], nzLength: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    NzSliderTrackComponent.prototype.nzOffset;\n    /** @type {?} */\n    NzSliderTrackComponent.prototype.nzLength;\n    /** @type {?} */\n    NzSliderTrackComponent.prototype.nzVertical;\n    /** @type {?} */\n    NzSliderTrackComponent.prototype.nzIncluded;\n    /** @type {?} */\n    NzSliderTrackComponent.prototype.style;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-slider.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzSliderModule {\n}\nNzSliderModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NzSliderModule });\nNzSliderModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NzSliderModule_Factory(t) { return new (t || NzSliderModule)(); }, imports: [[CommonModule, PlatformModule, NzToolTipModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzSliderModule, { declarations: function () { return [NzSliderComponent,\n        NzSliderTrackComponent,\n        NzSliderHandleComponent,\n        NzSliderStepComponent,\n        NzSliderMarksComponent]; }, imports: function () { return [CommonModule, PlatformModule, NzToolTipModule]; }, exports: function () { return [NzSliderComponent,\n        NzSliderTrackComponent,\n        NzSliderHandleComponent,\n        NzSliderStepComponent,\n        NzSliderMarksComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzSliderModule, [{\n        type: NgModule,\n        args: [{\n                exports: [\n                    NzSliderComponent,\n                    NzSliderTrackComponent,\n                    NzSliderHandleComponent,\n                    NzSliderStepComponent,\n                    NzSliderMarksComponent\n                ],\n                declarations: [\n                    NzSliderComponent,\n                    NzSliderTrackComponent,\n                    NzSliderHandleComponent,\n                    NzSliderStepComponent,\n                    NzSliderMarksComponent\n                ],\n                imports: [CommonModule, PlatformModule, NzToolTipModule]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ng-zorro-antd-slider.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { Marks, NzSliderComponent, NzSliderHandleComponent, NzSliderMarksComponent, NzSliderModule, NzSliderStepComponent, NzSliderTrackComponent, isConfigAObject, isValueARange };\n\n//# sourceMappingURL=ng-zorro-antd-slider.js.map","import { CommonModule } from '@angular/common';\nimport { Component, ChangeDetectionStrategy, ViewEncapsulation, Input, NgModule } from '@angular/core';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { __rest, __decorate, __metadata } from 'tslib';\nimport { isNotNil, NzConfigService, WithConfig, InputNumber } from 'ng-zorro-antd/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-progress-utils.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * @param {?} percent\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core';\nimport * as ɵngcc2 from '@angular/common';\nimport * as ɵngcc3 from 'ng-zorro-antd/icon';\n\nfunction NzProgressComponent_ng_template_0_span_0_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelement(1, \"i\", 8);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r911 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"nzType\", ctx_r911.icon);\n} }\nfunction NzProgressComponent_ng_template_0_span_0_ng_template_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtext(0);\n} if (rf & 2) {\n    const ctx_r913 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r913.formatter(ctx_r913.nzPercent), \" \");\n} }\nfunction NzProgressComponent_ng_template_0_span_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 5);\n    ɵngcc0.ɵɵtemplate(1, NzProgressComponent_ng_template_0_span_0_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(2, NzProgressComponent_ng_template_0_span_0_ng_template_2_Template, 1, 1, \"ng-template\", null, 7, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const _r912 = ɵngcc0.ɵɵreference(3);\n    const ctx_r910 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r910.status === \"exception\" || ctx_r910.status === \"success\" && !ctx_r910.nzFormat)(\"ngIfElse\", _r912);\n} }\nfunction NzProgressComponent_ng_template_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzProgressComponent_ng_template_0_span_0_Template, 4, 2, \"span\", 4);\n} if (rf & 2) {\n    const ctx_r907 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r907.nzShowInfo);\n} }\nfunction NzProgressComponent_div_3_div_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 14);\n} if (rf & 2) {\n    const ctx_r914 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵstyleProp(\"width\", ctx_r914.nzSuccessPercent, \"%\")(\"border-radius\", ctx_r914.nzStrokeLinecap === \"round\" ? \"100px\" : \"0\")(\"height\", ctx_r914.strokeWidth, \"px\");\n} }\nfunction NzProgressComponent_div_3_ng_template_5_Template(rf, ctx) { }\nfunction NzProgressComponent_div_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵelementStart(1, \"div\", 9);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 10);\n    ɵngcc0.ɵɵelement(3, \"div\", 11);\n    ɵngcc0.ɵɵtemplate(4, NzProgressComponent_div_3_div_4_Template, 1, 6, \"div\", 12);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(5, NzProgressComponent_div_3_ng_template_5_Template, 0, 0, \"ng-template\", 13);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r908 = ɵngcc0.ɵɵnextContext();\n    const _r906 = ɵngcc0.ɵɵreference(1);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵstyleProp(\"width\", ctx_r908.nzPercent, \"%\")(\"border-radius\", ctx_r908.nzStrokeLinecap === \"round\" ? \"100px\" : \"0\")(\"background\", !ctx_r908.isGradient ? ctx_r908.nzStrokeColor : null, ɵngcc0.ɵɵdefaultStyleSanitizer)(\"background-image\", ctx_r908.isGradient ? ctx_r908.lineGradient : null, ɵngcc0.ɵɵdefaultStyleSanitizer)(\"height\", ctx_r908.strokeWidth, \"px\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r908.nzSuccessPercent || ctx_r908.nzSuccessPercent === 0);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r906);\n} }\nfunction NzProgressComponent_div_4__svg_defs_2__svg_stop_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"stop\");\n} if (rf & 2) {\n    const i_r920 = ctx.$implicit;\n    ɵngcc0.ɵɵattribute(\"offset\", i_r920.offset)(\"stop-color\", i_r920.color);\n} }\nfunction NzProgressComponent_div_4__svg_defs_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(0, \"defs\");\n    ɵngcc0.ɵɵelementStart(1, \"linearGradient\", 18);\n    ɵngcc0.ɵɵtemplate(2, NzProgressComponent_div_4__svg_defs_2__svg_stop_2_Template, 1, 2, \"stop\", 19);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r916 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"id\", \"gradient-\" + ctx_r916.gradientId);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r916.circleGradient);\n} }\nfunction NzProgressComponent_div_4__svg_path_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"path\", 20);\n} if (rf & 2) {\n    const p_r921 = ctx.$implicit;\n    const ctx_r917 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngStyle\", p_r921.strokePathStyle);\n    ɵngcc0.ɵɵattribute(\"d\", ctx_r917.pathString)(\"stroke-linecap\", ctx_r917.nzStrokeLinecap)(\"stroke\", p_r921.stroke)(\"stroke-width\", ctx_r917.nzPercent ? ctx_r917.strokeWidth : 0);\n} }\nfunction NzProgressComponent_div_4_ng_template_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n} }\nfunction NzProgressComponent_div_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 10);\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(1, \"svg\", 15);\n    ɵngcc0.ɵɵtemplate(2, NzProgressComponent_div_4__svg_defs_2_Template, 3, 2, \"defs\", 2);\n    ɵngcc0.ɵɵelement(3, \"path\", 16);\n    ɵngcc0.ɵɵtemplate(4, NzProgressComponent_div_4__svg_path_4_Template, 1, 5, \"path\", 17);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(5, NzProgressComponent_div_4_ng_template_5_Template, 0, 0, \"ng-template\", 13);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r909 = ɵngcc0.ɵɵnextContext();\n    const _r906 = ɵngcc0.ɵɵreference(1);\n    ɵngcc0.ɵɵstyleProp(\"width\", ctx_r909.nzWidth, \"px\")(\"height\", ctx_r909.nzWidth, \"px\")(\"font-size\", ctx_r909.nzWidth * 0.15 + 6, \"px\");\n    ɵngcc0.ɵɵclassProp(\"ant-progress-circle-gradient\", ctx_r909.isGradient);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r909.isGradient);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ctx_r909.trailPathStyle);\n    ɵngcc0.ɵɵattribute(\"stroke-width\", ctx_r909.strokeWidth)(\"d\", ctx_r909.pathString);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r909.progressCirclePath)(\"ngForTrackBy\", ctx_r909.trackByFn);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r906);\n} }\nfunction stripPercentToNumber(percent) {\n    return +percent.replace('%', '');\n}\n/** @type {?} */\nconst sortGradient = (/**\n * @param {?} gradients\n * @return {?}\n */\n(gradients) => {\n    /** @type {?} */\n    let tempArr = [];\n    Object.keys(gradients).forEach((/**\n     * @param {?} key\n     * @return {?}\n     */\n    key => {\n        /** @type {?} */\n        const value = gradients[key];\n        /** @type {?} */\n        const formatKey = stripPercentToNumber(key);\n        if (isNaN(formatKey)) {\n            return {};\n        }\n        tempArr.push({\n            key: formatKey,\n            value\n        });\n    }));\n    tempArr = tempArr.sort((/**\n     * @param {?} a\n     * @param {?} b\n     * @return {?}\n     */\n    (a, b) => a.key - b.key));\n    return tempArr;\n});\n/** @type {?} */\nconst handleCircleGradient = (/**\n * @param {?} strokeColor\n * @return {?}\n */\n(strokeColor) => {\n    return sortGradient(strokeColor).map((/**\n     * @param {?} __0\n     * @return {?}\n     */\n    ({ key, value }) => ({ offset: `${key}%`, color: value })));\n});\n/** @type {?} */\nconst handleLinearGradient = (/**\n * @param {?} strokeColor\n * @return {?}\n */\n(strokeColor) => {\n    const { from = '#1890ff', to = '#1890ff', direction = 'to right' } = strokeColor, rest = __rest(strokeColor, [\"from\", \"to\", \"direction\"]);\n    if (Object.keys(rest).length !== 0) {\n        /** @type {?} */\n        const sortedGradients = sortGradient((/** @type {?} */ (rest)))\n            .map((/**\n         * @param {?} __0\n         * @return {?}\n         */\n        ({ key, value }) => `${value} ${key}%`))\n            .join(', ');\n        return `linear-gradient(${direction}, ${sortedGradients})`;\n    }\n    return `linear-gradient(${direction}, ${from}, ${to})`;\n});\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-progress.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nlet gradientIdSeed = 0;\n/** @type {?} */\nconst NZ_CONFIG_COMPONENT_NAME = 'progress';\n/** @type {?} */\nconst statusIconNameMap = new Map([['success', 'check'], ['exception', 'close']]);\n/** @type {?} */\nconst statusColorMap = new Map([['normal', '#108ee9'], ['exception', '#ff5500'], ['success', '#87d068']]);\n/** @type {?} */\nconst defaultFormatter = (/**\n * @param {?} p\n * @return {?}\n */\n(p) => `${p}%`);\nconst ɵ0 = defaultFormatter;\nclass NzProgressComponent {\n    /**\n     * @param {?} nzConfigService\n     */\n    constructor(nzConfigService) {\n        this.nzConfigService = nzConfigService;\n        this.nzWidth = 132;\n        this.nzPercent = 0;\n        this.nzType = 'line';\n        /**\n         * Gradient style when `nzType` is `line`.\n         */\n        this.lineGradient = null;\n        /**\n         * If user uses gradient color.\n         */\n        this.isGradient = false;\n        /**\n         * Each progress whose `nzType` is circle or dashboard should have unique id to\n         * define `<linearGradient>`.\n         */\n        this.gradientId = gradientIdSeed++;\n        /**\n         * Paths to rendered in the template.\n         */\n        this.progressCirclePath = [];\n        this.trackByFn = (/**\n         * @param {?} index\n         * @return {?}\n         */\n        (index) => `${index}`);\n        this.cachedStatus = 'normal';\n        this.inferredStatus = 'normal';\n        this.destroy$ = new Subject();\n    }\n    /**\n     * @return {?}\n     */\n    get formatter() {\n        return this.nzFormat || defaultFormatter;\n    }\n    /**\n     * @return {?}\n     */\n    get status() {\n        return this.nzStatus || this.inferredStatus;\n    }\n    /**\n     * @return {?}\n     */\n    get strokeWidth() {\n        return this.nzStrokeWidth || (this.nzType === 'line' && this.nzSize !== 'small' ? 8 : 6);\n    }\n    /**\n     * @return {?}\n     */\n    get isCircleStyle() {\n        return this.nzType === 'circle' || this.nzType === 'dashboard';\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        const { nzGapPosition, nzStrokeLinecap, nzStrokeColor, nzGapDegree, nzType, nzStatus, nzPercent, nzSuccessPercent } = changes;\n        if (nzStatus) {\n            this.cachedStatus = this.nzStatus || this.cachedStatus;\n        }\n        if (nzPercent || nzSuccessPercent) {\n            /** @type {?} */\n            const fillAll = parseInt(this.nzPercent.toString(), 10) >= 100;\n            if (fillAll) {\n                if ((isNotNil(this.nzSuccessPercent) && (/** @type {?} */ (this.nzSuccessPercent)) >= 100) || this.nzSuccessPercent === undefined) {\n                    this.inferredStatus = 'success';\n                }\n            }\n            else {\n                this.inferredStatus = this.cachedStatus;\n            }\n        }\n        if (nzStatus || nzPercent || nzSuccessPercent) {\n            this.updateIcon();\n        }\n        if (nzStrokeColor) {\n            this.setStrokeColor();\n        }\n        if (nzGapPosition || nzStrokeLinecap || nzGapDegree || nzType || nzPercent || nzStrokeColor) {\n            this.getCirclePaths();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.nzConfigService\n            .getConfigChangeEventForComponent(NZ_CONFIG_COMPONENT_NAME)\n            .pipe(takeUntil(this.destroy$))\n            .subscribe((/**\n         * @return {?}\n         */\n        () => {\n            this.updateIcon();\n            this.setStrokeColor();\n            this.getCirclePaths();\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    updateIcon() {\n        /** @type {?} */\n        const ret = statusIconNameMap.get(this.status);\n        this.icon = ret ? ret + (this.isCircleStyle ? '-o' : '-circle-fill') : '';\n    }\n    /**\n     * Calculate paths when the type is circle or dashboard.\n     * @private\n     * @return {?}\n     */\n    getCirclePaths() {\n        if (!this.isCircleStyle) {\n            return;\n        }\n        /** @type {?} */\n        const values = isNotNil(this.nzSuccessPercent) ? [(/** @type {?} */ (this.nzSuccessPercent)), this.nzPercent] : [this.nzPercent];\n        // Calculate shared styles.\n        /** @type {?} */\n        const radius = 50 - this.strokeWidth / 2;\n        /** @type {?} */\n        const gapPosition = this.nzGapPosition || (this.nzType === 'circle' ? 'top' : 'bottom');\n        /** @type {?} */\n        const len = Math.PI * 2 * radius;\n        /** @type {?} */\n        const gapDegree = this.nzGapDegree || (this.nzType === 'circle' ? 0 : 75);\n        /** @type {?} */\n        let beginPositionX = 0;\n        /** @type {?} */\n        let beginPositionY = -radius;\n        /** @type {?} */\n        let endPositionX = 0;\n        /** @type {?} */\n        let endPositionY = radius * -2;\n        switch (gapPosition) {\n            case 'left':\n                beginPositionX = -radius;\n                beginPositionY = 0;\n                endPositionX = radius * 2;\n                endPositionY = 0;\n                break;\n            case 'right':\n                beginPositionX = radius;\n                beginPositionY = 0;\n                endPositionX = radius * -2;\n                endPositionY = 0;\n                break;\n            case 'bottom':\n                beginPositionY = radius;\n                endPositionY = radius * 2;\n                break;\n            default:\n        }\n        this.pathString = `M 50,50 m ${beginPositionX},${beginPositionY}\n       a ${radius},${radius} 0 1 1 ${endPositionX},${-endPositionY}\n       a ${radius},${radius} 0 1 1 ${-endPositionX},${endPositionY}`;\n        this.trailPathStyle = {\n            strokeDasharray: `${len - gapDegree}px ${len}px`,\n            strokeDashoffset: `-${gapDegree / 2}px`,\n            transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s'\n        };\n        // Calculate styles for each path.\n        this.progressCirclePath = values\n            .map((/**\n         * @param {?} value\n         * @param {?} index\n         * @return {?}\n         */\n        (value, index) => {\n            /** @type {?} */\n            const isSuccessPercent = values.length === 2 && index === 0;\n            return {\n                stroke: this.isGradient && !isSuccessPercent ? `url(#gradient-${this.gradientId})` : null,\n                strokePathStyle: {\n                    stroke: !this.isGradient\n                        ? isSuccessPercent\n                            ? statusColorMap.get('success')\n                            : ((/** @type {?} */ (this.nzStrokeColor)))\n                        : null,\n                    transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s',\n                    strokeDasharray: `${((value || 0) / 100) * (len - gapDegree)}px ${len}px`,\n                    strokeDashoffset: `-${gapDegree / 2}px`\n                }\n            };\n        }))\n            .reverse();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setStrokeColor() {\n        /** @type {?} */\n        const color = this.nzStrokeColor;\n        /** @type {?} */\n        const isGradient = (this.isGradient = !!color && typeof color !== 'string');\n        if (isGradient && !this.isCircleStyle) {\n            this.lineGradient = handleLinearGradient((/** @type {?} */ (color)));\n        }\n        else if (isGradient && this.isCircleStyle) {\n            this.circleGradient = handleCircleGradient((/** @type {?} */ (this.nzStrokeColor)));\n        }\n        else {\n            this.lineGradient = null;\n            this.circleGradient = [];\n        }\n    }\n}\nNzProgressComponent.ɵfac = function NzProgressComponent_Factory(t) { return new (t || NzProgressComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService)); };\nNzProgressComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzProgressComponent, selectors: [[\"nz-progress\"]], inputs: { nzWidth: \"nzWidth\", nzPercent: \"nzPercent\", nzType: \"nzType\", nzShowInfo: \"nzShowInfo\", nzStrokeColor: \"nzStrokeColor\", nzSize: \"nzSize\", nzFormat: \"nzFormat\", nzSuccessPercent: \"nzSuccessPercent\", nzStrokeWidth: \"nzStrokeWidth\", nzGapDegree: \"nzGapDegree\", nzStatus: \"nzStatus\", nzGapPosition: \"nzGapPosition\", nzStrokeLinecap: \"nzStrokeLinecap\" }, exportAs: [\"nzProgress\"], features: [ɵngcc0.ɵɵNgOnChangesFeature()], decls: 5, vars: 11, consts: [[\"progressInfoTemplate\", \"\"], [3, \"ngClass\"], [4, \"ngIf\"], [\"class\", \"ant-progress-inner\", 3, \"width\", \"height\", \"fontSize\", \"ant-progress-circle-gradient\", 4, \"ngIf\"], [\"class\", \"ant-progress-text\", 4, \"ngIf\"], [1, \"ant-progress-text\"], [4, \"ngIf\", \"ngIfElse\"], [\"formatTemplate\", \"\"], [\"nz-icon\", \"\", 3, \"nzType\"], [1, \"ant-progress-outer\"], [1, \"ant-progress-inner\"], [1, \"ant-progress-bg\"], [\"class\", \"ant-progress-success-bg\", 3, \"width\", \"border-radius\", \"height\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\"], [1, \"ant-progress-success-bg\"], [\"viewBox\", \"0 0 100 100\", 1, \"ant-progress-circle\"], [\"stroke\", \"#f3f3f3\", \"fill-opacity\", \"0\", 1, \"ant-progress-circle-trail\", 3, \"ngStyle\"], [\"class\", \"ant-progress-circle-path\", \"fill-opacity\", \"0\", 3, \"ngStyle\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"x1\", \"100%\", \"y1\", \"0%\", \"x2\", \"0%\", \"y2\", \"0%\", 3, \"id\"], [4, \"ngFor\", \"ngForOf\"], [\"fill-opacity\", \"0\", 1, \"ant-progress-circle-path\", 3, \"ngStyle\"]], template: function NzProgressComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, NzProgressComponent_ng_template_0_Template, 1, 1, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 1);\n        ɵngcc0.ɵɵtemplate(3, NzProgressComponent_div_3_Template, 6, 12, \"div\", 2);\n        ɵngcc0.ɵɵtemplate(4, NzProgressComponent_div_4_Template, 6, 15, \"div\", 3);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵclassProp(\"ant-progress-line\", ctx.nzType == \"line\")(\"ant-progress-small\", ctx.nzSize == \"small\")(\"ant-progress-show-info\", ctx.nzShowInfo)(\"ant-progress-circle\", ctx.isCircleStyle);\n        ɵngcc0.ɵɵproperty(\"ngClass\", \"ant-progress ant-progress-status-\" + ctx.status);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzType === \"line\");\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isCircleStyle);\n    } }, directives: [ɵngcc2.NgClass, ɵngcc2.NgIf, ɵngcc3.NzIconDirective, ɵngcc2.NgTemplateOutlet, ɵngcc2.NgStyle, ɵngcc2.NgForOf], encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nNzProgressComponent.ctorParameters = () => [\n    { type: NzConfigService }\n];\nNzProgressComponent.propDecorators = {\n    nzShowInfo: [{ type: Input }],\n    nzWidth: [{ type: Input }],\n    nzStrokeColor: [{ type: Input }],\n    nzSize: [{ type: Input }],\n    nzFormat: [{ type: Input }],\n    nzSuccessPercent: [{ type: Input }],\n    nzPercent: [{ type: Input }],\n    nzStrokeWidth: [{ type: Input }],\n    nzGapDegree: [{ type: Input }],\n    nzStatus: [{ type: Input }],\n    nzType: [{ type: Input }],\n    nzGapPosition: [{ type: Input }],\n    nzStrokeLinecap: [{ type: Input }]\n};\n__decorate([\n    WithConfig(NZ_CONFIG_COMPONENT_NAME, true),\n    __metadata(\"design:type\", Boolean)\n], NzProgressComponent.prototype, \"nzShowInfo\", void 0);\n__decorate([\n    WithConfig(NZ_CONFIG_COMPONENT_NAME),\n    __metadata(\"design:type\", Object)\n], NzProgressComponent.prototype, \"nzStrokeColor\", void 0);\n__decorate([\n    WithConfig(NZ_CONFIG_COMPONENT_NAME, 'default'),\n    __metadata(\"design:type\", String)\n], NzProgressComponent.prototype, \"nzSize\", void 0);\n__decorate([\n    InputNumber(),\n    __metadata(\"design:type\", Number)\n], NzProgressComponent.prototype, \"nzSuccessPercent\", void 0);\n__decorate([\n    InputNumber(),\n    __metadata(\"design:type\", Number)\n], NzProgressComponent.prototype, \"nzPercent\", void 0);\n__decorate([\n    WithConfig(NZ_CONFIG_COMPONENT_NAME), InputNumber(),\n    __metadata(\"design:type\", Number)\n], NzProgressComponent.prototype, \"nzStrokeWidth\", void 0);\n__decorate([\n    WithConfig(NZ_CONFIG_COMPONENT_NAME), InputNumber(),\n    __metadata(\"design:type\", Number)\n], NzProgressComponent.prototype, \"nzGapDegree\", void 0);\n__decorate([\n    WithConfig(NZ_CONFIG_COMPONENT_NAME, 'top'),\n    __metadata(\"design:type\", String)\n], NzProgressComponent.prototype, \"nzGapPosition\", void 0);\n__decorate([\n    WithConfig(NZ_CONFIG_COMPONENT_NAME, 'round'),\n    __metadata(\"design:type\", String)\n], NzProgressComponent.prototype, \"nzStrokeLinecap\", void 0);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzProgressComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                selector: 'nz-progress',\n                exportAs: 'nzProgress',\n                preserveWhitespaces: false,\n                template: \"<ng-template #progressInfoTemplate>\\n  <span class=\\\"ant-progress-text\\\"\\n        *ngIf=\\\"nzShowInfo\\\">\\n    <ng-container *ngIf=\\\"status === 'exception' || (status === 'success' && !nzFormat); else formatTemplate\\\">\\n      <i nz-icon\\n         [nzType]=\\\"icon\\\"></i>\\n    </ng-container>\\n    <ng-template #formatTemplate>\\n      {{ formatter(nzPercent) }}\\n    </ng-template>\\n  </span>\\n</ng-template>\\n\\n<div [ngClass]=\\\"'ant-progress ant-progress-status-' + status\\\"\\n     [class.ant-progress-line]=\\\"nzType == 'line'\\\"\\n     [class.ant-progress-small]=\\\"nzSize == 'small'\\\"\\n     [class.ant-progress-show-info]=\\\"nzShowInfo\\\"\\n     [class.ant-progress-circle]=\\\"isCircleStyle\\\">\\n  <!-- line progress -->\\n  <div *ngIf=\\\"nzType === 'line'\\\">\\n    <div class=\\\"ant-progress-outer\\\">\\n      <div class=\\\"ant-progress-inner\\\">\\n        <div class=\\\"ant-progress-bg\\\"\\n             [style.width.%]=\\\"nzPercent\\\"\\n             [style.border-radius]=\\\"nzStrokeLinecap === 'round' ? '100px' : '0'\\\"\\n             [style.background]=\\\"!isGradient ? nzStrokeColor : null\\\"\\n             [style.background-image]=\\\"isGradient ? lineGradient : null\\\"\\n             [style.height.px]=\\\"strokeWidth\\\"></div>\\n        <div *ngIf=\\\"nzSuccessPercent || nzSuccessPercent === 0\\\"\\n             class=\\\"ant-progress-success-bg\\\"\\n             [style.width.%]=\\\"nzSuccessPercent\\\"\\n             [style.border-radius]=\\\"nzStrokeLinecap === 'round' ? '100px' : '0'\\\"\\n             [style.height.px]=\\\"strokeWidth\\\"></div>\\n      </div>\\n    </div>\\n    <ng-template [ngTemplateOutlet]=\\\"progressInfoTemplate\\\"></ng-template>\\n  </div>\\n\\n  <!-- circle / dashboard progress -->\\n  <div [style.width.px]=\\\"this.nzWidth\\\"\\n       [style.height.px]=\\\"this.nzWidth\\\"\\n       [style.fontSize.px]=\\\"this.nzWidth * 0.15 + 6\\\"\\n       class=\\\"ant-progress-inner\\\"\\n       [class.ant-progress-circle-gradient]=\\\"isGradient\\\"\\n       *ngIf=\\\"isCircleStyle\\\">\\n    <svg class=\\\"ant-progress-circle \\\"\\n         viewBox=\\\"0 0 100 100\\\">\\n      <defs *ngIf=\\\"isGradient\\\">\\n        <linearGradient [id]=\\\"'gradient-' + gradientId\\\"\\n                        x1=\\\"100%\\\"\\n                        y1=\\\"0%\\\"\\n                        x2=\\\"0%\\\"\\n                        y2=\\\"0%\\\">\\n          <stop *ngFor=\\\"let i of circleGradient;\\\"\\n                [attr.offset]=\\\"i.offset\\\"\\n                [attr.stop-color]=\\\"i.color\\\"></stop>\\n        </linearGradient>\\n      </defs>\\n      <path class=\\\"ant-progress-circle-trail\\\"\\n            stroke=\\\"#f3f3f3\\\"\\n            fill-opacity=\\\"0\\\"\\n            [attr.stroke-width]=\\\"strokeWidth\\\"\\n            [attr.d]=\\\"pathString\\\"\\n            [ngStyle]=\\\"trailPathStyle\\\"></path>\\n      <path *ngFor=\\\"let p of progressCirclePath; trackBy: trackByFn\\\"\\n            class=\\\"ant-progress-circle-path\\\"\\n            fill-opacity=\\\"0\\\"\\n            [attr.d]=\\\"pathString\\\"\\n            [attr.stroke-linecap]=\\\"nzStrokeLinecap\\\"\\n            [attr.stroke]=\\\"p.stroke\\\"\\n            [attr.stroke-width]=\\\"nzPercent ? strokeWidth : 0\\\"\\n            [ngStyle]=\\\"p.strokePathStyle\\\">\\n      </path>\\n    </svg>\\n    <ng-template [ngTemplateOutlet]=\\\"progressInfoTemplate\\\"></ng-template>\\n  </div>\\n</div>\\n\"\n            }]\n    }], function () { return [{ type: ɵngcc1.NzConfigService }]; }, { nzWidth: [{\n            type: Input\n        }], nzPercent: [{\n            type: Input\n        }], nzType: [{\n            type: Input\n        }], nzShowInfo: [{\n            type: Input\n        }], nzStrokeColor: [{\n            type: Input\n        }], nzSize: [{\n            type: Input\n        }], nzFormat: [{\n            type: Input\n        }], nzSuccessPercent: [{\n            type: Input\n        }], nzStrokeWidth: [{\n            type: Input\n        }], nzGapDegree: [{\n            type: Input\n        }], nzStatus: [{\n            type: Input\n        }], nzGapPosition: [{\n            type: Input\n        }], nzStrokeLinecap: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    NzProgressComponent.prototype.nzShowInfo;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzWidth;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzStrokeColor;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzSize;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzFormat;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzSuccessPercent;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzPercent;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzStrokeWidth;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzGapDegree;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzStatus;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzType;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzGapPosition;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzStrokeLinecap;\n    /**\n     * Gradient style when `nzType` is `line`.\n     * @type {?}\n     */\n    NzProgressComponent.prototype.lineGradient;\n    /**\n     * If user uses gradient color.\n     * @type {?}\n     */\n    NzProgressComponent.prototype.isGradient;\n    /**\n     * Each progress whose `nzType` is circle or dashboard should have unique id to\n     * define `<linearGradient>`.\n     * @type {?}\n     */\n    NzProgressComponent.prototype.gradientId;\n    /**\n     * Paths to rendered in the template.\n     * @type {?}\n     */\n    NzProgressComponent.prototype.progressCirclePath;\n    /** @type {?} */\n    NzProgressComponent.prototype.circleGradient;\n    /** @type {?} */\n    NzProgressComponent.prototype.trailPathStyle;\n    /** @type {?} */\n    NzProgressComponent.prototype.pathString;\n    /** @type {?} */\n    NzProgressComponent.prototype.icon;\n    /** @type {?} */\n    NzProgressComponent.prototype.trackByFn;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzProgressComponent.prototype.cachedStatus;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzProgressComponent.prototype.inferredStatus;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzProgressComponent.prototype.destroy$;\n    /** @type {?} */\n    NzProgressComponent.prototype.nzConfigService;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-progress.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzProgressModule {\n}\nNzProgressModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NzProgressModule });\nNzProgressModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NzProgressModule_Factory(t) { return new (t || NzProgressModule)(); }, imports: [[CommonModule, NzIconModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzProgressModule, { declarations: function () { return [NzProgressComponent]; }, imports: function () { return [CommonModule, NzIconModule]; }, exports: function () { return [NzProgressComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzProgressModule, [{\n        type: NgModule,\n        args: [{\n                exports: [NzProgressComponent],\n                declarations: [NzProgressComponent],\n                imports: [CommonModule, NzIconModule]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-progress.definitions.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * @record\n */\nfunction NzProgressGradientProgress() { }\n/**\n * @record\n */\nfunction NzProgressGradientFromTo() { }\nif (false) {\n    /** @type {?} */\n    NzProgressGradientFromTo.prototype.from;\n    /** @type {?} */\n    NzProgressGradientFromTo.prototype.to;\n}\n/**\n * @record\n */\nfunction NzProgressCirclePath() { }\nif (false) {\n    /** @type {?} */\n    NzProgressCirclePath.prototype.stroke;\n    /** @type {?} */\n    NzProgressCirclePath.prototype.strokePathStyle;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ng-zorro-antd-progress.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { NzProgressComponent, NzProgressModule };\n\n//# sourceMappingURL=ng-zorro-antd-progress.js.map","import { ENTER } from '@angular/cdk/keycodes';\nimport { HttpRequest, HttpHeaders, HttpEventType, HttpResponse, HttpClient } from '@angular/common/http';\nimport { Component, ViewEncapsulation, Optional, ElementRef, ViewChild, Input, HostListener, ChangeDetectionStrategy, ChangeDetectorRef, EventEmitter, Output, NgModule } from '@angular/core';\nimport { of, Observable, Subscription } from 'rxjs';\nimport { switchMap, filter } from 'rxjs/operators';\nimport { warn, NzUpdateHostClassService, toBoolean, InputNumber, InputBoolean } from 'ng-zorro-antd/core';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { __decorate, __metadata } from 'tslib';\nimport { NzI18nService, NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzProgressModule } from 'ng-zorro-antd/progress';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: interface.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * File object.\n * @record\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common/http';\nimport * as ɵngcc2 from 'ng-zorro-antd/core';\nimport * as ɵngcc3 from '@angular/cdk/platform';\nimport * as ɵngcc4 from '@angular/common';\nimport * as ɵngcc5 from 'ng-zorro-antd/icon';\nimport * as ɵngcc6 from 'ng-zorro-antd/tooltip';\nimport * as ɵngcc7 from 'ng-zorro-antd/progress';\nimport * as ɵngcc8 from 'ng-zorro-antd/i18n';\n\nconst _c0 = [\"file\"];\nconst _c1 = [\"nz-upload-btn\", \"\"];\nconst _c2 = [\"*\"];\nfunction NzUploadListComponent_div_0_ng_template_1_ng_container_0_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 14);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1303 = ɵngcc0.ɵɵnextContext(4);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r1303.locale.uploading);\n} }\nfunction NzUploadListComponent_div_0_ng_template_1_ng_container_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_1_ng_container_0_div_1_Template, 2, 1, \"div\", 13);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n    const _r1295 = ɵngcc0.ɵɵreference(2);\n    const file_r1283 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r1294 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1294.listType === \"picture-card\" && file_r1283.status === \"uploading\")(\"ngIfElse\", _r1295);\n} }\nfunction NzUploadListComponent_div_0_ng_template_1_ng_template_1_i_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 16);\n} }\nfunction NzUploadListComponent_div_0_ng_template_1_ng_template_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_1_ng_template_1_i_0_Template, 1, 0, \"i\", 15);\n} if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n    const _r1297 = ɵngcc0.ɵɵreference(4);\n    const file_r1283 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"ngIf\", !file_r1283.thumbUrl && !file_r1283.url)(\"ngIfElse\", _r1297);\n} }\nfunction NzUploadListComponent_div_0_ng_template_1_ng_template_3_img_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 19);\n} if (rf & 2) {\n    const file_r1283 = ɵngcc0.ɵɵnextContext(3).$implicit;\n    ɵngcc0.ɵɵproperty(\"src\", file_r1283.thumbUrl || file_r1283.url, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"alt\", file_r1283.name);\n} }\nfunction NzUploadListComponent_div_0_ng_template_1_ng_template_3_Template(rf, ctx) { if (rf & 1) {\n    const _r1311 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"a\", 17);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_1_ng_template_3_Template_a_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r1311); const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit; const ctx_r1309 = ɵngcc0.ɵɵnextContext(); return ctx_r1309.handlePreview(file_r1283, $event); });\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_1_ng_template_3_img_1_Template, 1, 2, \"img\", 18);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n    const _r1299 = ɵngcc0.ɵɵreference(6);\n    const file_r1283 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r1298 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"href\", file_r1283.thumbUrl || file_r1283.url, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1298.isImageUrl(file_r1283))(\"ngIfElse\", _r1299);\n} }\nfunction NzUploadListComponent_div_0_ng_template_1_ng_template_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 20);\n} }\nfunction NzUploadListComponent_div_0_ng_template_1_ng_template_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 21);\n} if (rf & 2) {\n    const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"nzType\", file_r1283.status === \"uploading\" ? \"loading\" : \"paper-clip\");\n} }\nfunction NzUploadListComponent_div_0_ng_template_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_1_ng_container_0_Template, 2, 2, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_1_ng_template_1_Template, 1, 2, \"ng-template\", null, 9, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_1_ng_template_3_Template, 2, 3, \"ng-template\", null, 10, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(5, NzUploadListComponent_div_0_ng_template_1_ng_template_5_Template, 1, 0, \"ng-template\", null, 11, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(7, NzUploadListComponent_div_0_ng_template_1_ng_template_7_Template, 1, 1, \"ng-template\", null, 12, ɵngcc0.ɵɵtemplateRefExtractor);\n} if (rf & 2) {\n    const _r1301 = ɵngcc0.ɵɵreference(8);\n    const ctx_r1285 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1285.showPic)(\"ngIfElse\", _r1301);\n} }\nfunction NzUploadListComponent_div_0_ng_template_3_ng_container_0_Template(rf, ctx) { if (rf & 1) {\n    const _r1319 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"a\", 23);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_3_ng_container_0_Template_a_click_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r1319); const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit; const ctx_r1317 = ɵngcc0.ɵɵnextContext(); return ctx_r1317.handlePreview(file_r1283, $event); });\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", file_r1283.name);\n    ɵngcc0.ɵɵproperty(\"href\", file_r1283.thumbUrl || file_r1283.url, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"download\", file_r1283.linkProps && file_r1283.linkProps.download);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(file_r1283.name);\n} }\nfunction NzUploadListComponent_div_0_ng_template_3_ng_template_1_Template(rf, ctx) { if (rf & 1) {\n    const _r1323 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"span\", 24);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_3_ng_template_1_Template_span_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r1323); const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit; const ctx_r1321 = ɵngcc0.ɵɵnextContext(); return ctx_r1321.handlePreview(file_r1283, $event); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", file_r1283.name);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(file_r1283.name);\n} }\nfunction NzUploadListComponent_div_0_ng_template_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_3_ng_container_0_Template, 3, 4, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_3_ng_template_1_Template, 2, 2, \"ng-template\", null, 22, ɵngcc0.ɵɵtemplateRefExtractor);\n} if (rf & 2) {\n    const _r1315 = ɵngcc0.ɵɵreference(2);\n    const file_r1283 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1283.url)(\"ngIfElse\", _r1315);\n} }\nfunction NzUploadListComponent_div_0_span_6_ng_template_1_Template(rf, ctx) { }\nfunction NzUploadListComponent_div_0_span_6_ng_template_2_Template(rf, ctx) { }\nfunction NzUploadListComponent_div_0_span_6_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 25);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_span_6_ng_template_1_Template, 0, 0, \"ng-template\", 26);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_span_6_ng_template_2_Template, 0, 0, \"ng-template\", 26);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const file_r1283 = ɵngcc0.ɵɵnextContext().$implicit;\n    const _r1284 = ɵngcc0.ɵɵreference(2);\n    const _r1286 = ɵngcc0.ɵɵreference(4);\n    ɵngcc0.ɵɵproperty(\"nzTitle\", file_r1283.message);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1284);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1286);\n} }\nfunction NzUploadListComponent_div_0_span_7_ng_template_1_Template(rf, ctx) { }\nfunction NzUploadListComponent_div_0_span_7_ng_template_2_Template(rf, ctx) { }\nfunction NzUploadListComponent_div_0_span_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_span_7_ng_template_1_Template, 0, 0, \"ng-template\", 26);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_span_7_ng_template_2_Template, 0, 0, \"ng-template\", 26);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n    const _r1284 = ɵngcc0.ɵɵreference(2);\n    const _r1286 = ɵngcc0.ɵɵreference(4);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1284);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1286);\n} }\nconst _c3 = function () { return { \"opacity\": 0.5, \"pointer-events\": \"none\" }; };\nfunction NzUploadListComponent_div_0_ng_container_8_a_2_Template(rf, ctx) { if (rf & 1) {\n    const _r1335 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"a\", 30);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_container_8_a_2_Template_a_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r1335); const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit; const ctx_r1333 = ɵngcc0.ɵɵnextContext(); return ctx_r1333.handlePreview(file_r1283, $event); });\n    ɵngcc0.ɵɵelement(1, \"i\", 31);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    const ctx_r1331 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r1331.locale.previewFile);\n    ɵngcc0.ɵɵproperty(\"href\", file_r1283.thumbUrl || file_r1283.url, ɵngcc0.ɵɵsanitizeUrl)(\"ngStyle\", !(file_r1283.url || file_r1283.thumbUrl) && ɵngcc0.ɵɵpureFunction0(3, _c3));\n} }\nfunction NzUploadListComponent_div_0_ng_container_8_i_3_Template(rf, ctx) { if (rf & 1) {\n    const _r1339 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"i\", 32);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_container_8_i_3_Template_i_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r1339); const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit; const ctx_r1337 = ɵngcc0.ɵɵnextContext(); return ctx_r1337.handleRemove(file_r1283, $event); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1332 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r1332.locale.removeFile);\n} }\nfunction NzUploadListComponent_div_0_ng_container_8_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"span\", 27);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_container_8_a_2_Template, 2, 4, \"a\", 28);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_container_8_i_3_Template, 1, 1, \"i\", 29);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const file_r1283 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r1290 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1290.showPreview(file_r1283));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1290.icons.showRemoveIcon);\n} }\nfunction NzUploadListComponent_div_0_ng_template_9_i_0_Template(rf, ctx) { if (rf & 1) {\n    const _r1344 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"i\", 34);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_9_i_0_Template_i_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r1344); const file_r1283 = ɵngcc0.ɵɵnextContext(2).$implicit; const ctx_r1342 = ɵngcc0.ɵɵnextContext(); return ctx_r1342.handleRemove(file_r1283, $event); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1341 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r1341.locale.removeFile);\n} }\nfunction NzUploadListComponent_div_0_ng_template_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_9_i_0_Template, 1, 1, \"i\", 33);\n} if (rf & 2) {\n    const ctx_r1292 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1292.icons.showRemoveIcon);\n} }\nfunction NzUploadListComponent_div_0_div_11_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 35);\n    ɵngcc0.ɵɵelement(1, \"nz-progress\", 36);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const file_r1283 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"nzPercent\", file_r1283.percent)(\"nzShowInfo\", false)(\"nzStrokeWidth\", 2);\n} }\nfunction NzUploadListComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_1_Template, 9, 2, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_3_Template, 3, 2, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵelementStart(5, \"div\", 3);\n    ɵngcc0.ɵɵtemplate(6, NzUploadListComponent_div_0_span_6_Template, 3, 3, \"span\", 4);\n    ɵngcc0.ɵɵtemplate(7, NzUploadListComponent_div_0_span_7_Template, 3, 2, \"span\", 5);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(8, NzUploadListComponent_div_0_ng_container_8_Template, 4, 2, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(9, NzUploadListComponent_div_0_ng_template_9_Template, 1, 1, \"ng-template\", null, 7, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(11, NzUploadListComponent_div_0_div_11_Template, 2, 3, \"div\", 8);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const file_r1283 = ctx.$implicit;\n    const _r1291 = ɵngcc0.ɵɵreference(10);\n    const ctx_r1282 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassMapInterpolate1(\"ant-upload-list-item ant-upload-list-item-\", file_r1283.status, \"\");\n    ɵngcc0.ɵɵproperty(\"@itemState\", undefined);\n    ɵngcc0.ɵɵadvance(6);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1283.status === \"error\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1283.status !== \"error\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1282.listType === \"picture-card\" && file_r1283.status !== \"uploading\")(\"ngIfElse\", _r1291);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1283.status === \"uploading\");\n} }\nconst _c4 = [\"uploadComp\"];\nconst _c5 = [\"listComp\"];\nconst _c6 = function () { return []; };\nfunction NzUploadComponent_ng_template_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"nz-upload-list\", 6, 7);\n} if (rf & 2) {\n    const ctx_r1347 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"display\", ctx_r1347.nzShowUploadList ? \"\" : \"none\");\n    ɵngcc0.ɵɵproperty(\"locale\", ctx_r1347.locale)(\"listType\", ctx_r1347.nzListType)(\"items\", ctx_r1347.nzFileList || ɵngcc0.ɵɵpureFunction0(8, _c6))(\"icons\", ctx_r1347.nzShowUploadList)(\"onPreview\", ctx_r1347.nzPreview)(\"onRemove\", ctx_r1347.onRemove);\n} }\nfunction NzUploadComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0);\n} }\nfunction NzUploadComponent_ng_template_4_ng_template_3_Template(rf, ctx) { }\nfunction NzUploadComponent_ng_template_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 8);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 9, 10);\n    ɵngcc0.ɵɵtemplate(3, NzUploadComponent_ng_template_4_ng_template_3_Template, 0, 0, \"ng-template\", 11);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1351 = ɵngcc0.ɵɵnextContext();\n    const _r1348 = ɵngcc0.ɵɵreference(3);\n    ɵngcc0.ɵɵstyleProp(\"display\", ctx_r1351.nzShowButton ? \"\" : \"none\");\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r1351.classList);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"options\", ctx_r1351._btnOptions);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1348);\n} }\nfunction NzUploadComponent_ng_container_6_ng_template_5_Template(rf, ctx) { }\nfunction NzUploadComponent_ng_container_6_ng_template_6_Template(rf, ctx) { }\nconst _c7 = function () { return { \"ant-upload-btn\": true }; };\nfunction NzUploadComponent_ng_container_6_Template(rf, ctx) { if (rf & 1) {\n    const _r1364 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 12);\n    ɵngcc0.ɵɵlistener(\"drop\", function NzUploadComponent_ng_container_6_Template_div_drop_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r1364); const ctx_r1363 = ɵngcc0.ɵɵnextContext(); return ctx_r1363.fileDrop($event); })(\"dragover\", function NzUploadComponent_ng_container_6_Template_div_dragover_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r1364); const ctx_r1365 = ɵngcc0.ɵɵnextContext(); return ctx_r1365.fileDrop($event); })(\"dragleave\", function NzUploadComponent_ng_container_6_Template_div_dragleave_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r1364); const ctx_r1366 = ɵngcc0.ɵɵnextContext(); return ctx_r1366.fileDrop($event); });\n    ɵngcc0.ɵɵelementStart(2, \"div\", 13, 10);\n    ɵngcc0.ɵɵelementStart(4, \"div\", 14);\n    ɵngcc0.ɵɵtemplate(5, NzUploadComponent_ng_container_6_ng_template_5_Template, 0, 0, \"ng-template\", 11);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(6, NzUploadComponent_ng_container_6_ng_template_6_Template, 0, 0, \"ng-template\", 11);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r1352 = ɵngcc0.ɵɵnextContext();\n    const _r1348 = ɵngcc0.ɵɵreference(3);\n    const _r1346 = ɵngcc0.ɵɵreference(1);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r1352.classList);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"options\", ctx_r1352._btnOptions)(\"classes\", ɵngcc0.ɵɵpureFunction0(5, _c7));\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1348);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1346);\n} }\nfunction NzUploadComponent_ng_template_7_ng_container_0_ng_template_1_Template(rf, ctx) { }\nfunction NzUploadComponent_ng_template_7_ng_container_0_ng_template_2_Template(rf, ctx) { }\nfunction NzUploadComponent_ng_template_7_ng_container_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_7_ng_container_0_ng_template_1_Template, 0, 0, \"ng-template\", 11);\n    ɵngcc0.ɵɵtemplate(2, NzUploadComponent_ng_template_7_ng_container_0_ng_template_2_Template, 0, 0, \"ng-template\", 11);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(2);\n    const _r1346 = ɵngcc0.ɵɵreference(1);\n    const _r1350 = ɵngcc0.ɵɵreference(5);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1346);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1350);\n} }\nfunction NzUploadComponent_ng_template_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_7_ng_container_0_Template, 3, 2, \"ng-container\", 3);\n} if (rf & 2) {\n    const ctx_r1354 = ɵngcc0.ɵɵnextContext();\n    const _r1355 = ɵngcc0.ɵɵreference(10);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1354.nzListType === \"picture-card\")(\"ngIfElse\", _r1355);\n} }\nfunction NzUploadComponent_ng_template_9_ng_template_0_Template(rf, ctx) { }\nfunction NzUploadComponent_ng_template_9_ng_template_1_Template(rf, ctx) { }\nfunction NzUploadComponent_ng_template_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_9_ng_template_0_Template, 0, 0, \"ng-template\", 11);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_9_ng_template_1_Template, 0, 0, \"ng-template\", 11);\n} if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n    const _r1350 = ɵngcc0.ɵɵreference(5);\n    const _r1346 = ɵngcc0.ɵɵreference(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1350);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1346);\n} }\nfunction UploadFile() { }\nif (false) {\n    /** @type {?} */\n    UploadFile.prototype.uid;\n    /** @type {?} */\n    UploadFile.prototype.size;\n    /** @type {?} */\n    UploadFile.prototype.name;\n    /** @type {?|undefined} */\n    UploadFile.prototype.filename;\n    /** @type {?|undefined} */\n    UploadFile.prototype.lastModified;\n    /** @type {?|undefined} */\n    UploadFile.prototype.lastModifiedDate;\n    /** @type {?|undefined} */\n    UploadFile.prototype.url;\n    /** @type {?|undefined} */\n    UploadFile.prototype.status;\n    /** @type {?|undefined} */\n    UploadFile.prototype.originFileObj;\n    /** @type {?|undefined} */\n    UploadFile.prototype.percent;\n    /** @type {?|undefined} */\n    UploadFile.prototype.thumbUrl;\n    /** @type {?|undefined} */\n    UploadFile.prototype.response;\n    /** @type {?|undefined} */\n    UploadFile.prototype.error;\n    /** @type {?|undefined} */\n    UploadFile.prototype.linkProps;\n    /** @type {?} */\n    UploadFile.prototype.type;\n    /* Skipping unhandled member: [key: string]: any;*/\n}\n/**\n * @record\n */\nfunction UploadChangeParam() { }\nif (false) {\n    /** @type {?} */\n    UploadChangeParam.prototype.file;\n    /** @type {?} */\n    UploadChangeParam.prototype.fileList;\n    /** @type {?|undefined} */\n    UploadChangeParam.prototype.event;\n    /**\n     * Callback type.\n     * @type {?|undefined}\n     */\n    UploadChangeParam.prototype.type;\n}\n/**\n * @record\n */\nfunction ShowUploadListInterface() { }\nif (false) {\n    /** @type {?|undefined} */\n    ShowUploadListInterface.prototype.showRemoveIcon;\n    /** @type {?|undefined} */\n    ShowUploadListInterface.prototype.showPreviewIcon;\n    /** @type {?|undefined} */\n    ShowUploadListInterface.prototype.hidePreviewIconInNonImage;\n}\n/**\n * @record\n */\nfunction ZipButtonOptions() { }\nif (false) {\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.disabled;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.accept;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.action;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.directory;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.openFileDialogOnClick;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.beforeUpload;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.customRequest;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.data;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.headers;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.name;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.multiple;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.withCredentials;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.filters;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.onStart;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.onProgress;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.onSuccess;\n    /** @type {?|undefined} */\n    ZipButtonOptions.prototype.onError;\n}\n/**\n * @record\n */\nfunction UploadFilter() { }\nif (false) {\n    /** @type {?} */\n    UploadFilter.prototype.name;\n    /** @type {?} */\n    UploadFilter.prototype.fn;\n}\n/**\n * @record\n */\nfunction UploadXHRArgs() { }\nif (false) {\n    /** @type {?|undefined} */\n    UploadXHRArgs.prototype.action;\n    /** @type {?|undefined} */\n    UploadXHRArgs.prototype.name;\n    /** @type {?|undefined} */\n    UploadXHRArgs.prototype.headers;\n    /** @type {?} */\n    UploadXHRArgs.prototype.file;\n    /** @type {?|undefined} */\n    UploadXHRArgs.prototype.data;\n    /** @type {?|undefined} */\n    UploadXHRArgs.prototype.withCredentials;\n    /** @type {?|undefined} */\n    UploadXHRArgs.prototype.onProgress;\n    /** @type {?|undefined} */\n    UploadXHRArgs.prototype.onSuccess;\n    /** @type {?|undefined} */\n    UploadXHRArgs.prototype.onError;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-upload-btn.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzUploadBtnComponent {\n    // #endregion\n    /**\n     * @param {?} http\n     * @param {?} el\n     * @param {?} updateHostClassService\n     */\n    constructor(http, el, updateHostClassService) {\n        this.http = http;\n        this.el = el;\n        this.updateHostClassService = updateHostClassService;\n        this.reqs = {};\n        this.inited = false;\n        this.destroy = false;\n        // #region fields\n        this.classes = {};\n        // #region styles\n        this.prefixCls = 'ant-upload';\n        if (!http) {\n            throw new Error(`Not found 'HttpClient', You can import 'HttpClientModule' in your root module.`);\n        }\n    }\n    // #endregion\n    /**\n     * @return {?}\n     */\n    onClick() {\n        if (this.options.disabled || !this.options.openFileDialogOnClick) {\n            return;\n        }\n        ((/** @type {?} */ (this.file.nativeElement))).click();\n    }\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n    onKeyDown(e) {\n        if (this.options.disabled) {\n            return;\n        }\n        if (e.key === 'Enter' || e.keyCode === ENTER) {\n            this.onClick();\n        }\n    }\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n    // skip safari bug\n    // tslint:disable-next-line:no-any\n    onFileDrop(e) {\n        if (this.options.disabled || e.type === 'dragover') {\n            e.preventDefault();\n            return;\n        }\n        if (this.options.directory) {\n            this.traverseFileTree((/** @type {?} */ (e.dataTransfer)).items);\n        }\n        else {\n            /** @type {?} */\n            const files = Array.prototype.slice\n                .call((/** @type {?} */ (e.dataTransfer)).files)\n                .filter((/**\n             * @param {?} file\n             * @return {?}\n             */\n            (file) => this.attrAccept(file, this.options.accept)));\n            if (files.length) {\n                this.uploadFiles(files);\n            }\n        }\n        e.preventDefault();\n    }\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n    onChange(e) {\n        if (this.options.disabled) {\n            return;\n        }\n        /** @type {?} */\n        const hie = (/** @type {?} */ (e.target));\n        this.uploadFiles((/** @type {?} */ (hie.files)));\n        hie.value = '';\n    }\n    /**\n     * @private\n     * @param {?} files\n     * @return {?}\n     */\n    traverseFileTree(files) {\n        // tslint:disable-next-line:no-any\n        /** @type {?} */\n        const _traverseFileTree = (/**\n         * @param {?} item\n         * @param {?} path\n         * @return {?}\n         */\n        (item, path) => {\n            if (item.isFile) {\n                item.file((/**\n                 * @param {?} file\n                 * @return {?}\n                 */\n                (file) => {\n                    if (this.attrAccept(file, this.options.accept)) {\n                        this.uploadFiles([file]);\n                    }\n                }));\n            }\n            else if (item.isDirectory) {\n                /** @type {?} */\n                const dirReader = item.createReader();\n                // tslint:disable-next-line:no-any\n                dirReader.readEntries((/**\n                 * @param {?} entries\n                 * @return {?}\n                 */\n                (entries) => {\n                    for (const entrieItem of entries) {\n                        _traverseFileTree(entrieItem, `${path}${item.name}/`);\n                    }\n                }));\n            }\n        });\n        // tslint:disable-next-line:no-any\n        for (const file of (/** @type {?} */ (files))) {\n            _traverseFileTree(file.webkitGetAsEntry(), '');\n        }\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @param {?=} acceptedFiles\n     * @return {?}\n     */\n    attrAccept(file, acceptedFiles) {\n        if (file && acceptedFiles) {\n            /** @type {?} */\n            const acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n            /** @type {?} */\n            const fileName = '' + file.name;\n            /** @type {?} */\n            const mimeType = '' + file.type;\n            /** @type {?} */\n            const baseMimeType = mimeType.replace(/\\/.*$/, '');\n            return acceptedFilesArray.some((/**\n             * @param {?} type\n             * @return {?}\n             */\n            type => {\n                /** @type {?} */\n                const validType = type.trim();\n                if (validType.charAt(0) === '.') {\n                    return (fileName\n                        .toLowerCase()\n                        .indexOf(validType.toLowerCase(), fileName.toLowerCase().length - validType.toLowerCase().length) !== -1);\n                }\n                else if (/\\/\\*$/.test(validType)) {\n                    // This is something like a image/* mime type\n                    return baseMimeType === validType.replace(/\\/.*$/, '');\n                }\n                return mimeType === validType;\n            }));\n        }\n        return true;\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n    attachUid(file) {\n        if (!file.uid) {\n            file.uid = Math.random()\n                .toString(36)\n                .substring(2);\n        }\n        return file;\n    }\n    /**\n     * @param {?} fileList\n     * @return {?}\n     */\n    uploadFiles(fileList) {\n        /** @type {?} */\n        let filters$ = of(Array.prototype.slice.call(fileList));\n        if (this.options.filters) {\n            this.options.filters.forEach((/**\n             * @param {?} f\n             * @return {?}\n             */\n            f => {\n                filters$ = filters$.pipe(switchMap((/**\n                 * @param {?} list\n                 * @return {?}\n                 */\n                list => {\n                    /** @type {?} */\n                    const fnRes = f.fn(list);\n                    return fnRes instanceof Observable ? fnRes : of(fnRes);\n                })));\n            }));\n        }\n        filters$.subscribe((/**\n         * @param {?} list\n         * @return {?}\n         */\n        list => {\n            list.forEach((/**\n             * @param {?} file\n             * @return {?}\n             */\n            (file) => {\n                this.attachUid(file);\n                this.upload(file, list);\n            }));\n        }), (/**\n         * @param {?} e\n         * @return {?}\n         */\n        e => {\n            warn(`Unhandled upload filter error`, e);\n        }));\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @param {?} fileList\n     * @return {?}\n     */\n    upload(file, fileList) {\n        if (!this.options.beforeUpload) {\n            return this.post(file);\n        }\n        /** @type {?} */\n        const before = this.options.beforeUpload(file, fileList);\n        if (before instanceof Observable) {\n            before.subscribe((/**\n             * @param {?} processedFile\n             * @return {?}\n             */\n            (processedFile) => {\n                /** @type {?} */\n                const processedFileType = Object.prototype.toString.call(processedFile);\n                if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\n                    this.attachUid(processedFile);\n                    this.post(processedFile);\n                }\n                else if (typeof processedFile === 'boolean' && processedFile !== false) {\n                    this.post(file);\n                }\n            }), (/**\n             * @param {?} e\n             * @return {?}\n             */\n            e => {\n                warn(`Unhandled upload beforeUpload error`, e);\n            }));\n        }\n        else if (before !== false) {\n            return this.post(file);\n        }\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n    post(file) {\n        if (this.destroy) {\n            return;\n        }\n        /** @type {?} */\n        const opt = this.options;\n        const { uid } = file;\n        let { data, headers } = opt;\n        if (typeof data === 'function') {\n            data = ((/** @type {?} */ (data)))(file);\n        }\n        if (typeof headers === 'function') {\n            headers = ((/** @type {?} */ (headers)))(file);\n        }\n        /** @type {?} */\n        const args = {\n            action: opt.action,\n            name: opt.name,\n            headers,\n            file,\n            data,\n            withCredentials: opt.withCredentials,\n            onProgress: opt.onProgress\n                ? (/**\n                 * @param {?} e\n                 * @return {?}\n                 */\n                e => {\n                    (/** @type {?} */ (opt.onProgress))(e, file);\n                })\n                : undefined,\n            onSuccess: (/**\n             * @param {?} ret\n             * @param {?} xhr\n             * @return {?}\n             */\n            (ret, xhr) => {\n                this.clean(uid);\n                (/** @type {?} */ (opt.onSuccess))(ret, file, xhr);\n            }),\n            onError: (/**\n             * @param {?} xhr\n             * @return {?}\n             */\n            xhr => {\n                this.clean(uid);\n                (/** @type {?} */ (opt.onError))(xhr, file);\n            })\n        };\n        /** @type {?} */\n        const req$ = (opt.customRequest || this.xhr).call(this, args);\n        if (!(req$ instanceof Subscription)) {\n            warn(`Must return Subscription type in '[nzCustomRequest]' property`);\n        }\n        this.reqs[uid] = req$;\n        (/** @type {?} */ (opt.onStart))(file);\n    }\n    /**\n     * @private\n     * @param {?} args\n     * @return {?}\n     */\n    xhr(args) {\n        /** @type {?} */\n        const formData = new FormData();\n        // tslint:disable-next-line:no-any\n        formData.append((/** @type {?} */ (args.name)), (/** @type {?} */ (args.file)));\n        if (args.data) {\n            Object.keys(args.data).map((/**\n             * @param {?} key\n             * @return {?}\n             */\n            key => {\n                formData.append(key, (/** @type {?} */ (args.data))[key]);\n            }));\n        }\n        if (!args.headers) {\n            args.headers = {};\n        }\n        if (args.headers['X-Requested-With'] !== null) {\n            args.headers['X-Requested-With'] = `XMLHttpRequest`;\n        }\n        else {\n            delete args.headers['X-Requested-With'];\n        }\n        /** @type {?} */\n        const req = new HttpRequest('POST', (/** @type {?} */ (args.action)), formData, {\n            reportProgress: true,\n            withCredentials: args.withCredentials,\n            headers: new HttpHeaders(args.headers)\n        });\n        return this.http.request(req).subscribe((\n        // tslint:disable-next-line no-any\n        /**\n         * @param {?} event\n         * @return {?}\n         */\n        (event) => {\n            if (event.type === HttpEventType.UploadProgress) {\n                if ((/** @type {?} */ (event.total)) > 0) {\n                    // tslint:disable-next-line:no-any\n                    ((/** @type {?} */ (event))).percent = (event.loaded / (/** @type {?} */ (event.total))) * 100;\n                }\n                (/** @type {?} */ (args.onProgress))(event, args.file);\n            }\n            else if (event instanceof HttpResponse) {\n                (/** @type {?} */ (args.onSuccess))(event.body, args.file, event);\n            }\n        }), (/**\n         * @param {?} err\n         * @return {?}\n         */\n        err => {\n            this.abort(args.file);\n            (/** @type {?} */ (args.onError))(err, args.file);\n        }));\n    }\n    /**\n     * @private\n     * @param {?} uid\n     * @return {?}\n     */\n    clean(uid) {\n        /** @type {?} */\n        const req$ = this.reqs[uid];\n        if (req$ instanceof Subscription) {\n            req$.unsubscribe();\n        }\n        delete this.reqs[uid];\n    }\n    /**\n     * @param {?=} file\n     * @return {?}\n     */\n    abort(file) {\n        if (file) {\n            this.clean(file && file.uid);\n        }\n        else {\n            Object.keys(this.reqs).forEach((/**\n             * @param {?} uid\n             * @return {?}\n             */\n            uid => this.clean(uid)));\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setClassMap() {\n        /** @type {?} */\n        const classMap = Object.assign({ [this.prefixCls]: true, [`${this.prefixCls}-disabled`]: this.options.disabled }, this.classes);\n        this.updateHostClassService.updateHostClass(this.el.nativeElement, classMap);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.inited = true;\n        this.setClassMap();\n    }\n    /**\n     * @return {?}\n     */\n    ngOnChanges() {\n        if (this.inited) {\n            this.setClassMap();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.destroy = true;\n        this.abort();\n    }\n}\nNzUploadBtnComponent.ɵfac = function NzUploadBtnComponent_Factory(t) { return new (t || NzUploadBtnComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.HttpClient, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.NzUpdateHostClassService)); };\nNzUploadBtnComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzUploadBtnComponent, selectors: [[\"\", \"nz-upload-btn\", \"\"]], viewQuery: function NzUploadBtnComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.file = _t.first);\n    } }, hostVars: 2, hostBindings: function NzUploadBtnComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function NzUploadBtnComponent_click_HostBindingHandler($event) { return ctx.onClick(); })(\"keydown\", function NzUploadBtnComponent_keydown_HostBindingHandler($event) { return ctx.onKeyDown($event); })(\"drop\", function NzUploadBtnComponent_drop_HostBindingHandler($event) { return ctx.onFileDrop($event); })(\"dragover\", function NzUploadBtnComponent_dragover_HostBindingHandler($event) { return ctx.onFileDrop($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"tabindex\", \"0\")(\"role\", \"button\");\n    } }, inputs: { classes: \"classes\", options: \"options\" }, exportAs: [\"nzUploadBtn\"], features: [ɵngcc0.ɵɵProvidersFeature([NzUpdateHostClassService]), ɵngcc0.ɵɵNgOnChangesFeature()], attrs: _c1, ngContentSelectors: _c2, decls: 3, vars: 4, consts: [[\"type\", \"file\", 2, \"display\", \"none\", 3, \"multiple\", \"change\"], [\"file\", \"\"]], template: function NzUploadBtnComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"input\", 0, 1);\n        ɵngcc0.ɵɵlistener(\"change\", function NzUploadBtnComponent_Template_input_change_0_listener($event) { return ctx.onChange($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵprojection(2);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"multiple\", ctx.options.multiple);\n        ɵngcc0.ɵɵattribute(\"accept\", ctx.options.accept)(\"directory\", ctx.options.directory ? \"directory\" : null)(\"webkitdirectory\", ctx.options.directory ? \"webkitdirectory\" : null);\n    } }, encapsulation: 2 });\n/** @nocollapse */\nNzUploadBtnComponent.ctorParameters = () => [\n    { type: HttpClient, decorators: [{ type: Optional }] },\n    { type: ElementRef },\n    { type: NzUpdateHostClassService }\n];\nNzUploadBtnComponent.propDecorators = {\n    file: [{ type: ViewChild, args: ['file', { static: false },] }],\n    classes: [{ type: Input }],\n    options: [{ type: Input }],\n    onClick: [{ type: HostListener, args: ['click',] }],\n    onKeyDown: [{ type: HostListener, args: ['keydown', ['$event'],] }],\n    onFileDrop: [{ type: HostListener, args: ['drop', ['$event'],] }, { type: HostListener, args: ['dragover', ['$event'],] }]\n};\nif (false) {\n    /** @type {?} */\n    NzUploadBtnComponent.prototype.reqs;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadBtnComponent.prototype.inited;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadBtnComponent.prototype.destroy;\n    /** @type {?} */\n    NzUploadBtnComponent.prototype.file;\n    /** @type {?} */\n    NzUploadBtnComponent.prototype.classes;\n    /** @type {?} */\n    NzUploadBtnComponent.prototype.options;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadBtnComponent.prototype.prefixCls;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadBtnComponent.prototype.http;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadBtnComponent.prototype.el;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadBtnComponent.prototype.updateHostClassService;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-upload-list.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzUploadListComponent {\n    // #endregion\n    /**\n     * @param {?} el\n     * @param {?} cdr\n     * @param {?} updateHostClassService\n     * @param {?} platform\n     */\n    constructor(el, cdr, updateHostClassService, platform) {\n        this.el = el;\n        this.cdr = cdr;\n        this.updateHostClassService = updateHostClassService;\n        this.platform = platform;\n        this.imageTypes = ['image', 'webp', 'png', 'svg', 'gif', 'jpg', 'jpeg', 'bmp'];\n        // #region fields\n        // tslint:disable-next-line:no-any\n        this.locale = {};\n        // #endregion\n        // #region styles\n        this.prefixCls = 'ant-upload-list';\n    }\n    /**\n     * @return {?}\n     */\n    get showPic() {\n        return this.listType === 'picture' || this.listType === 'picture-card';\n    }\n    /**\n     * @param {?} list\n     * @return {?}\n     */\n    set items(list) {\n        list.forEach((/**\n         * @param {?} file\n         * @return {?}\n         */\n        file => {\n            file.linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n        }));\n        this._items = list;\n    }\n    /**\n     * @return {?}\n     */\n    get items() {\n        return this._items;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setClassMap() {\n        /** @type {?} */\n        const classMap = {\n            [this.prefixCls]: true,\n            [`${this.prefixCls}-${this.listType}`]: true\n        };\n        this.updateHostClassService.updateHostClass(this.el.nativeElement, classMap);\n    }\n    // #endregion\n    // #region render\n    /**\n     * @private\n     * @param {?} url\n     * @return {?}\n     */\n    extname(url) {\n        /** @type {?} */\n        const temp = url.split('/');\n        /** @type {?} */\n        const filename = temp[temp.length - 1];\n        /** @type {?} */\n        const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n        return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n    }\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n    isImageUrl(file) {\n        if (~this.imageTypes.indexOf(file.type)) {\n            return true;\n        }\n        /** @type {?} */\n        const url = (/** @type {?} */ ((file.thumbUrl || file.url || '')));\n        if (!url) {\n            return false;\n        }\n        /** @type {?} */\n        const extension = this.extname(url);\n        if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|bmp)$/i.test(extension)) {\n            return true;\n        }\n        else if (/^data:/.test(url)) {\n            // other file types of base64\n            return false;\n        }\n        else if (extension) {\n            // other file types which have extension\n            return false;\n        }\n        return true;\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @param {?} callback\n     * @return {?}\n     */\n    previewFile(file, callback) {\n        if (file.type && this.imageTypes.indexOf(file.type) === -1) {\n            callback('');\n        }\n        /** @type {?} */\n        const reader = new FileReader();\n        // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n        reader.onloadend = (/**\n         * @return {?}\n         */\n        () => callback((/** @type {?} */ (reader.result))));\n        reader.readAsDataURL(file);\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    genThumb() {\n        if (!this.platform.isBrowser) {\n            return;\n        }\n        // tslint:disable-next-line:no-any\n        /** @type {?} */\n        const win = (/** @type {?} */ (window));\n        if (!this.showPic ||\n            typeof document === 'undefined' ||\n            typeof win === 'undefined' ||\n            !win.FileReader ||\n            !win.File) {\n            return;\n        }\n        this.items\n            .filter((/**\n         * @param {?} file\n         * @return {?}\n         */\n        file => file.originFileObj instanceof File && file.thumbUrl === undefined))\n            .forEach((/**\n         * @param {?} file\n         * @return {?}\n         */\n        file => {\n            file.thumbUrl = '';\n            this.previewFile((/** @type {?} */ (file.originFileObj)), (/**\n             * @param {?} previewDataUrl\n             * @return {?}\n             */\n            (previewDataUrl) => {\n                file.thumbUrl = previewDataUrl;\n                this.detectChanges();\n            }));\n        }));\n    }\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n    showPreview(file) {\n        const { showPreviewIcon, hidePreviewIconInNonImage } = this.icons;\n        if (!showPreviewIcon) {\n            return false;\n        }\n        return this.isImageUrl(file) ? true : !hidePreviewIconInNonImage;\n    }\n    /**\n     * @param {?} file\n     * @param {?} e\n     * @return {?}\n     */\n    handlePreview(file, e) {\n        if (!this.onPreview) {\n            return;\n        }\n        e.preventDefault();\n        return this.onPreview(file);\n    }\n    /**\n     * @param {?} file\n     * @param {?} e\n     * @return {?}\n     */\n    handleRemove(file, e) {\n        e.preventDefault();\n        if (this.onRemove) {\n            this.onRemove(file);\n        }\n        return;\n    }\n    /**\n     * @return {?}\n     */\n    detectChanges() {\n        this.cdr.detectChanges();\n    }\n    /**\n     * @return {?}\n     */\n    ngOnChanges() {\n        this.setClassMap();\n        this.genThumb();\n    }\n}\nNzUploadListComponent.ɵfac = function NzUploadListComponent_Factory(t) { return new (t || NzUploadListComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.NzUpdateHostClassService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.Platform)); };\nNzUploadListComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzUploadListComponent, selectors: [[\"nz-upload-list\"]], inputs: { locale: \"locale\", items: \"items\", listType: \"listType\", icons: \"icons\", onPreview: \"onPreview\", onRemove: \"onRemove\" }, exportAs: [\"nzUploadList\"], features: [ɵngcc0.ɵɵProvidersFeature([NzUpdateHostClassService]), ɵngcc0.ɵɵNgOnChangesFeature()], decls: 1, vars: 1, consts: [[3, \"class\", 4, \"ngFor\", \"ngForOf\"], [\"icon\", \"\"], [\"preview\", \"\"], [1, \"ant-upload-list-item-info\"], [\"nz-tooltip\", \"\", 3, \"nzTitle\", 4, \"ngIf\"], [4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"close\", \"\"], [\"class\", \"ant-upload-list-item-progress\", 4, \"ngIf\"], [\"thumbUrlCheck\", \"\"], [\"thumbTpl\", \"\"], [\"noThumbTpl\", \"\"], [\"noPicTpl\", \"\"], [\"class\", \"ant-upload-list-item-uploading-text\", 4, \"ngIf\", \"ngIfElse\"], [1, \"ant-upload-list-item-uploading-text\"], [\"class\", \"ant-upload-list-item-thumbnail\", \"nz-icon\", \"\", \"nzType\", \"picture\", \"nzTheme\", \"twotone\", 4, \"ngIf\", \"ngIfElse\"], [\"nz-icon\", \"\", \"nzType\", \"picture\", \"nzTheme\", \"twotone\", 1, \"ant-upload-list-item-thumbnail\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 1, \"ant-upload-list-item-thumbnail\", 3, \"href\", \"click\"], [3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [3, \"src\"], [\"nz-icon\", \"\", \"nzType\", \"file\", \"nzTheme\", \"twotone\", 1, \"ant-upload-list-item-icon\"], [\"nz-icon\", \"\", 3, \"nzType\"], [\"prevText\", \"\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 1, \"ant-upload-list-item-name\", 3, \"href\", \"title\", \"click\"], [1, \"ant-upload-list-item-name\", 3, \"title\", \"click\"], [\"nz-tooltip\", \"\", 3, \"nzTitle\"], [3, \"ngTemplateOutlet\"], [1, \"ant-upload-list-item-actions\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"href\", \"title\", \"ngStyle\", \"click\", 4, \"ngIf\"], [\"nz-icon\", \"\", \"nzType\", \"delete\", 3, \"title\", \"click\", 4, \"ngIf\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"href\", \"title\", \"ngStyle\", \"click\"], [\"nz-icon\", \"\", \"nzType\", \"eye-o\"], [\"nz-icon\", \"\", \"nzType\", \"delete\", 3, \"title\", \"click\"], [\"nz-icon\", \"\", \"nzType\", \"close\", 3, \"title\", \"click\", 4, \"ngIf\"], [\"nz-icon\", \"\", \"nzType\", \"close\", 3, \"title\", \"click\"], [1, \"ant-upload-list-item-progress\"], [3, \"nzPercent\", \"nzShowInfo\", \"nzStrokeWidth\"]], template: function NzUploadListComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_Template, 12, 9, \"div\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.items);\n    } }, directives: [ɵngcc4.NgForOf, ɵngcc4.NgIf, ɵngcc5.NzIconDirective, ɵngcc6.NzTooltipDirective, ɵngcc4.NgTemplateOutlet, ɵngcc4.NgStyle, ɵngcc7.NzProgressComponent], encapsulation: 2, data: { animation: [\n            trigger('itemState', [\n                transition(':enter', [\n                    style({ height: '0', width: '0', opacity: 0 }),\n                    animate(150, style({ height: '*', width: '*', opacity: 1 }))\n                ]),\n                transition(':leave', [animate(150, style({ height: '0', width: '0', opacity: 0 }))])\n            ])\n        ] }, changeDetection: 0 });\n/** @nocollapse */\nNzUploadListComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ChangeDetectorRef },\n    { type: NzUpdateHostClassService },\n    { type: Platform }\n];\nNzUploadListComponent.propDecorators = {\n    locale: [{ type: Input }],\n    listType: [{ type: Input }],\n    items: [{ type: Input }],\n    icons: [{ type: Input }],\n    onPreview: [{ type: Input }],\n    onRemove: [{ type: Input }]\n};\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadListComponent.prototype.imageTypes;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadListComponent.prototype._items;\n    /** @type {?} */\n    NzUploadListComponent.prototype.locale;\n    /** @type {?} */\n    NzUploadListComponent.prototype.listType;\n    /** @type {?} */\n    NzUploadListComponent.prototype.icons;\n    /** @type {?} */\n    NzUploadListComponent.prototype.onPreview;\n    /** @type {?} */\n    NzUploadListComponent.prototype.onRemove;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadListComponent.prototype.prefixCls;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadListComponent.prototype.el;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadListComponent.prototype.cdr;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadListComponent.prototype.updateHostClassService;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadListComponent.prototype.platform;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-upload.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzUploadComponent {\n    // #endregion\n    /**\n     * @param {?} cdr\n     * @param {?} i18n\n     */\n    constructor(cdr, i18n) {\n        this.cdr = cdr;\n        this.i18n = i18n;\n        // tslint:disable-next-line:no-any\n        this.locale = {};\n        // #region fields\n        this.nzType = 'select';\n        this.nzLimit = 0;\n        this.nzSize = 0;\n        this.nzDirectory = false;\n        this.nzOpenFileDialogOnClick = true;\n        this.nzFilter = [];\n        this.nzFileList = [];\n        this.nzDisabled = false;\n        this.nzListType = 'text';\n        this.nzMultiple = false;\n        this.nzName = 'file';\n        this._showUploadList = true;\n        this.nzShowButton = true;\n        this.nzWithCredentials = false;\n        this.nzChange = new EventEmitter();\n        this.nzFileListChange = new EventEmitter();\n        this.onStart = (/**\n         * @param {?} file\n         * @return {?}\n         */\n        (file) => {\n            if (!this.nzFileList) {\n                this.nzFileList = [];\n            }\n            /** @type {?} */\n            const targetItem = this.fileToObject(file);\n            targetItem.status = 'uploading';\n            this.nzFileList = this.nzFileList.concat(targetItem);\n            this.nzFileListChange.emit(this.nzFileList);\n            this.nzChange.emit({ file: targetItem, fileList: this.nzFileList, type: 'start' });\n            this.detectChangesList();\n        });\n        this.onProgress = (/**\n         * @param {?} e\n         * @param {?} file\n         * @return {?}\n         */\n        (e, file) => {\n            /** @type {?} */\n            const fileList = this.nzFileList;\n            /** @type {?} */\n            const targetItem = this.getFileItem(file, fileList);\n            targetItem.percent = e.percent;\n            this.nzChange.emit({\n                event: e,\n                file: Object.assign({}, targetItem),\n                fileList: this.nzFileList,\n                type: 'progress'\n            });\n            this.detectChangesList();\n        });\n        this.onSuccess = (/**\n         * @param {?} res\n         * @param {?} file\n         * @return {?}\n         */\n        (res, file) => {\n            /** @type {?} */\n            const fileList = this.nzFileList;\n            /** @type {?} */\n            const targetItem = this.getFileItem(file, fileList);\n            targetItem.status = 'done';\n            targetItem.response = res;\n            this.nzChange.emit({\n                file: Object.assign({}, targetItem),\n                fileList,\n                type: 'success'\n            });\n            this.detectChangesList();\n        });\n        this.onError = (/**\n         * @param {?} err\n         * @param {?} file\n         * @return {?}\n         */\n        (err, file) => {\n            /** @type {?} */\n            const fileList = this.nzFileList;\n            /** @type {?} */\n            const targetItem = this.getFileItem(file, fileList);\n            targetItem.error = err;\n            targetItem.status = 'error';\n            targetItem.message = this.genErr(targetItem);\n            this.nzChange.emit({\n                file: Object.assign({}, targetItem),\n                fileList,\n                type: 'error'\n            });\n            this.detectChangesList();\n        });\n        this.onRemove = (/**\n         * @param {?} file\n         * @return {?}\n         */\n        (file) => {\n            this.uploadComp.abort(file);\n            file.status = 'removed';\n            /** @type {?} */\n            const fnRes = typeof this.nzRemove === 'function' ? this.nzRemove(file) : this.nzRemove == null ? true : this.nzRemove;\n            (fnRes instanceof Observable ? fnRes : of(fnRes)).pipe(filter((/**\n             * @param {?} res\n             * @return {?}\n             */\n            (res) => res))).subscribe((/**\n             * @return {?}\n             */\n            () => {\n                this.nzFileList = this.removeFileItem(file, this.nzFileList);\n                this.nzChange.emit({\n                    file,\n                    fileList: this.nzFileList,\n                    type: 'removed'\n                });\n                this.nzFileListChange.emit(this.nzFileList);\n                this.cdr.detectChanges();\n            }));\n        });\n        // #endregion\n        // #region styles\n        this.prefixCls = 'ant-upload';\n        this.classList = [];\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set nzShowUploadList(value) {\n        this._showUploadList = typeof value === 'boolean' ? toBoolean(value) : value;\n    }\n    /**\n     * @return {?}\n     */\n    get nzShowUploadList() {\n        return this._showUploadList;\n    }\n    /**\n     * @private\n     * @template THIS\n     * @this {THIS}\n     * @return {THIS}\n     */\n    zipOptions() {\n        if (typeof (/** @type {?} */ (this)).nzShowUploadList === 'boolean' && (/** @type {?} */ (this)).nzShowUploadList) {\n            (/** @type {?} */ (this)).nzShowUploadList = {\n                showPreviewIcon: true,\n                showRemoveIcon: true,\n                hidePreviewIconInNonImage: false\n            };\n        }\n        // filters\n        /** @type {?} */\n        const filters = (/** @type {?} */ (this)).nzFilter.slice();\n        if ((/** @type {?} */ (this)).nzMultiple && (/** @type {?} */ (this)).nzLimit > 0 && filters.findIndex((/**\n         * @param {?} w\n         * @return {?}\n         */\n        w => w.name === 'limit')) === -1) {\n            filters.push({\n                name: 'limit',\n                fn: (/**\n                 * @param {?} fileList\n                 * @return {?}\n                 */\n                (fileList) => fileList.slice(-(/** @type {?} */ (this)).nzLimit))\n            });\n        }\n        if ((/** @type {?} */ (this)).nzSize > 0 && filters.findIndex((/**\n         * @param {?} w\n         * @return {?}\n         */\n        w => w.name === 'size')) === -1) {\n            filters.push({\n                name: 'size',\n                fn: (/**\n                 * @param {?} fileList\n                 * @return {?}\n                 */\n                (fileList) => fileList.filter((/**\n                 * @param {?} w\n                 * @return {?}\n                 */\n                w => w.size / 1024 <= (/** @type {?} */ (this)).nzSize)))\n            });\n        }\n        if ((/** @type {?} */ (this)).nzFileType && (/** @type {?} */ (this)).nzFileType.length > 0 && filters.findIndex((/**\n         * @param {?} w\n         * @return {?}\n         */\n        w => w.name === 'type')) === -1) {\n            /** @type {?} */\n            const types = (/** @type {?} */ (this)).nzFileType.split(',');\n            filters.push({\n                name: 'type',\n                fn: (/**\n                 * @param {?} fileList\n                 * @return {?}\n                 */\n                (fileList) => fileList.filter((/**\n                 * @param {?} w\n                 * @return {?}\n                 */\n                w => ~types.indexOf(w.type))))\n            });\n        }\n        (/** @type {?} */ (this))._btnOptions = {\n            disabled: (/** @type {?} */ (this)).nzDisabled,\n            accept: (/** @type {?} */ (this)).nzAccept,\n            action: (/** @type {?} */ (this)).nzAction,\n            directory: (/** @type {?} */ (this)).nzDirectory,\n            openFileDialogOnClick: (/** @type {?} */ (this)).nzOpenFileDialogOnClick,\n            beforeUpload: (/** @type {?} */ (this)).nzBeforeUpload,\n            customRequest: (/** @type {?} */ (this)).nzCustomRequest,\n            data: (/** @type {?} */ (this)).nzData,\n            headers: (/** @type {?} */ (this)).nzHeaders,\n            name: (/** @type {?} */ (this)).nzName,\n            multiple: (/** @type {?} */ (this)).nzMultiple,\n            withCredentials: (/** @type {?} */ (this)).nzWithCredentials,\n            filters,\n            onStart: (/** @type {?} */ (this)).onStart,\n            onProgress: (/** @type {?} */ (this)).onProgress,\n            onSuccess: (/** @type {?} */ (this)).onSuccess,\n            onError: (/** @type {?} */ (this)).onError\n        };\n        return (/** @type {?} */ (this));\n    }\n    // #region upload\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n    fileToObject(file) {\n        return {\n            lastModified: file.lastModified,\n            lastModifiedDate: file.lastModifiedDate,\n            name: file.filename || file.name,\n            size: file.size,\n            type: file.type,\n            uid: file.uid,\n            response: file.response,\n            error: file.error,\n            percent: 0,\n            // tslint:disable-next-line:no-any\n            originFileObj: (/** @type {?} */ (file))\n        };\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @param {?} fileList\n     * @return {?}\n     */\n    getFileItem(file, fileList) {\n        return fileList.filter((/**\n         * @param {?} item\n         * @return {?}\n         */\n        item => item.uid === file.uid))[0];\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @param {?} fileList\n     * @return {?}\n     */\n    removeFileItem(file, fileList) {\n        return fileList.filter((/**\n         * @param {?} item\n         * @return {?}\n         */\n        item => item.uid !== file.uid));\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n    genErr(file) {\n        return file.response && typeof file.response === 'string'\n            ? file.response\n            : (file.error && file.error.statusText) || this.locale.uploadError;\n    }\n    // skip safari bug\n    // tslint:disable-next-line:no-any\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n    fileDrop(e) {\n        if (e.type === this.dragState) {\n            return;\n        }\n        this.dragState = e.type;\n        this.setClassMap();\n    }\n    // #endregion\n    // #region list\n    /**\n     * @private\n     * @return {?}\n     */\n    detectChangesList() {\n        this.cdr.detectChanges();\n        this.listComp.detectChanges();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setClassMap() {\n        /** @type {?} */\n        let subCls = [];\n        if (this.nzType === 'drag') {\n            if (this.nzFileList.some((/**\n             * @param {?} file\n             * @return {?}\n             */\n            file => file.status === 'uploading'))) {\n                subCls.push(`${this.prefixCls}-drag-uploading`);\n            }\n            if (this.dragState === 'dragover') {\n                subCls.push(`${this.prefixCls}-drag-hover`);\n            }\n        }\n        else {\n            subCls = [`${this.prefixCls}-select-${this.nzListType}`];\n        }\n        this.classList = [\n            this.prefixCls,\n            `${this.prefixCls}-${this.nzType}`,\n            ...subCls,\n            (this.nzDisabled && `${this.prefixCls}-disabled`) || ''\n        ].filter((/**\n         * @param {?} item\n         * @return {?}\n         */\n        item => !!item));\n        this.cdr.detectChanges();\n    }\n    // #endregion\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.i18n$ = this.i18n.localeChange.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            this.locale = this.i18n.getLocaleData('Upload');\n            this.detectChangesList();\n        }));\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.nzFileList) {\n            (this.nzFileList || []).forEach((/**\n             * @param {?} file\n             * @return {?}\n             */\n            file => (file.message = this.genErr(file))));\n        }\n        this.zipOptions().setClassMap();\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.i18n$.unsubscribe();\n    }\n}\nNzUploadComponent.ɵfac = function NzUploadComponent_Factory(t) { return new (t || NzUploadComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc8.NzI18nService)); };\nNzUploadComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzUploadComponent, selectors: [[\"nz-upload\"]], viewQuery: function NzUploadComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c4, true);\n        ɵngcc0.ɵɵviewQuery(_c5, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.uploadComp = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.listComp = _t.first);\n    } }, hostVars: 2, hostBindings: function NzUploadComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"ant-upload-picture-card-wrapper\", ctx.nzListType === \"picture-card\");\n    } }, inputs: { nzType: \"nzType\", nzLimit: \"nzLimit\", nzSize: \"nzSize\", nzDirectory: \"nzDirectory\", nzOpenFileDialogOnClick: \"nzOpenFileDialogOnClick\", nzFilter: \"nzFilter\", nzFileList: \"nzFileList\", nzDisabled: \"nzDisabled\", nzListType: \"nzListType\", nzMultiple: \"nzMultiple\", nzName: \"nzName\", nzShowButton: \"nzShowButton\", nzWithCredentials: \"nzWithCredentials\", nzShowUploadList: \"nzShowUploadList\", nzFileType: \"nzFileType\", nzAccept: \"nzAccept\", nzAction: \"nzAction\", nzBeforeUpload: \"nzBeforeUpload\", nzCustomRequest: \"nzCustomRequest\", nzData: \"nzData\", nzHeaders: \"nzHeaders\", nzRemove: \"nzRemove\", nzPreview: \"nzPreview\" }, outputs: { nzChange: \"nzChange\", nzFileListChange: \"nzFileListChange\" }, exportAs: [\"nzUpload\"], features: [ɵngcc0.ɵɵNgOnChangesFeature()], ngContentSelectors: _c2, decls: 11, vars: 2, consts: [[\"list\", \"\"], [\"con\", \"\"], [\"btn\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"select\", \"\"], [\"pic\", \"\"], [3, \"locale\", \"listType\", \"items\", \"icons\", \"onPreview\", \"onRemove\"], [\"listComp\", \"\"], [3, \"ngClass\"], [\"nz-upload-btn\", \"\", 3, \"options\"], [\"uploadComp\", \"\"], [3, \"ngTemplateOutlet\"], [3, \"ngClass\", \"drop\", \"dragover\", \"dragleave\"], [\"nz-upload-btn\", \"\", 3, \"options\", \"classes\"], [1, \"ant-upload-drag-container\"]], template: function NzUploadComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_0_Template, 2, 9, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵtemplate(2, NzUploadComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵtemplate(4, NzUploadComponent_ng_template_4_Template, 4, 5, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵtemplate(6, NzUploadComponent_ng_container_6_Template, 7, 6, \"ng-container\", 3);\n        ɵngcc0.ɵɵtemplate(7, NzUploadComponent_ng_template_7_Template, 1, 2, \"ng-template\", null, 4, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵtemplate(9, NzUploadComponent_ng_template_9_Template, 2, 2, \"ng-template\", null, 5, ɵngcc0.ɵɵtemplateRefExtractor);\n    } if (rf & 2) {\n        const _r1353 = ɵngcc0.ɵɵreference(8);\n        ɵngcc0.ɵɵadvance(6);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzType === \"drag\")(\"ngIfElse\", _r1353);\n    } }, directives: [ɵngcc4.NgIf, NzUploadListComponent, ɵngcc4.NgClass, NzUploadBtnComponent, ɵngcc4.NgTemplateOutlet], encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nNzUploadComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: NzI18nService }\n];\nNzUploadComponent.propDecorators = {\n    uploadComp: [{ type: ViewChild, args: ['uploadComp', { static: false },] }],\n    listComp: [{ type: ViewChild, args: ['listComp', { static: false },] }],\n    nzType: [{ type: Input }],\n    nzLimit: [{ type: Input }],\n    nzSize: [{ type: Input }],\n    nzFileType: [{ type: Input }],\n    nzAccept: [{ type: Input }],\n    nzAction: [{ type: Input }],\n    nzDirectory: [{ type: Input }],\n    nzOpenFileDialogOnClick: [{ type: Input }],\n    nzBeforeUpload: [{ type: Input }],\n    nzCustomRequest: [{ type: Input }],\n    nzData: [{ type: Input }],\n    nzFilter: [{ type: Input }],\n    nzFileList: [{ type: Input }],\n    nzDisabled: [{ type: Input }],\n    nzHeaders: [{ type: Input }],\n    nzListType: [{ type: Input }],\n    nzMultiple: [{ type: Input }],\n    nzName: [{ type: Input }],\n    nzShowUploadList: [{ type: Input }],\n    nzShowButton: [{ type: Input }],\n    nzWithCredentials: [{ type: Input }],\n    nzRemove: [{ type: Input }],\n    nzPreview: [{ type: Input }],\n    nzChange: [{ type: Output }],\n    nzFileListChange: [{ type: Output }]\n};\n__decorate([\n    InputNumber(),\n    __metadata(\"design:type\", Object)\n], NzUploadComponent.prototype, \"nzLimit\", void 0);\n__decorate([\n    InputNumber(),\n    __metadata(\"design:type\", Object)\n], NzUploadComponent.prototype, \"nzSize\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzUploadComponent.prototype, \"nzDirectory\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzUploadComponent.prototype, \"nzOpenFileDialogOnClick\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzUploadComponent.prototype, \"nzDisabled\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzUploadComponent.prototype, \"nzMultiple\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzUploadComponent.prototype, \"nzShowButton\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzUploadComponent.prototype, \"nzWithCredentials\", void 0);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzUploadBtnComponent, [{\n        type: Component,\n        args: [{\n                selector: '[nz-upload-btn]',\n                exportAs: 'nzUploadBtn',\n                template: \"<input type=\\\"file\\\" #file (change)=\\\"onChange($event)\\\"\\n  [attr.accept]=\\\"options.accept\\\"\\n  [attr.directory]=\\\"options.directory ? 'directory': null\\\"\\n  [attr.webkitdirectory]=\\\"options.directory ? 'webkitdirectory': null\\\"\\n  [multiple]=\\\"options.multiple\\\" style=\\\"display: none;\\\">\\n<ng-content></ng-content>\",\n                host: {\n                    '[attr.tabindex]': '\"0\"',\n                    '[attr.role]': '\"button\"'\n                },\n                providers: [NzUpdateHostClassService],\n                preserveWhitespaces: false,\n                encapsulation: ViewEncapsulation.None\n            }]\n    }], function () { return [{ type: ɵngcc1.HttpClient, decorators: [{\n                type: Optional\n            }] }, { type: ɵngcc0.ElementRef }, { type: ɵngcc2.NzUpdateHostClassService }]; }, { classes: [{\n            type: Input\n        }], onClick: [{\n            type: HostListener,\n            args: ['click']\n        }], onKeyDown: [{\n            type: HostListener,\n            args: ['keydown', ['$event']]\n        }], onFileDrop: [{\n            type: HostListener,\n            args: ['drop', ['$event']]\n        }, {\n            type: HostListener,\n            args: ['dragover', ['$event']]\n        }], file: [{\n            type: ViewChild,\n            args: ['file', { static: false }]\n        }], options: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzUploadListComponent, [{\n        type: Component,\n        args: [{\n                selector: 'nz-upload-list',\n                exportAs: 'nzUploadList',\n                template: \"<div *ngFor=\\\"let file of items\\\" class=\\\"ant-upload-list-item ant-upload-list-item-{{file.status}}\\\" @itemState>\\n  <ng-template #icon>\\n    <ng-container *ngIf=\\\"showPic; else noPicTpl\\\">\\n      <div *ngIf=\\\"listType === 'picture-card' && file.status === 'uploading'; else thumbUrlCheck\\\" class=\\\"ant-upload-list-item-uploading-text\\\">{{ locale.uploading }}</div>\\n    </ng-container>\\n    <ng-template #thumbUrlCheck>\\n      <i *ngIf=\\\"!file.thumbUrl && !file.url; else thumbTpl\\\"\\n        class=\\\"ant-upload-list-item-thumbnail\\\" nz-icon nzType=\\\"picture\\\" nzTheme=\\\"twotone\\\"></i>\\n    </ng-template>\\n    <ng-template #thumbTpl>\\n      <a class=\\\"ant-upload-list-item-thumbnail\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"\\n        [href]=\\\"file.thumbUrl || file.url\\\"\\n        (click)=\\\"handlePreview(file, $event)\\\">\\n        <img *ngIf=\\\"isImageUrl(file); else noThumbTpl\\\" [src]=\\\"file.thumbUrl || file.url\\\" [attr.alt]=\\\"file.name\\\" />\\n      </a>\\n    </ng-template>\\n    <ng-template #noThumbTpl><i class=\\\"ant-upload-list-item-icon\\\" nz-icon nzType=\\\"file\\\" nzTheme=\\\"twotone\\\"></i></ng-template>\\n    <ng-template #noPicTpl><i nz-icon [nzType]=\\\"file.status === 'uploading' ? 'loading' : 'paper-clip'\\\"></i></ng-template>\\n  </ng-template>\\n  <ng-template #preview>\\n    <ng-container *ngIf=\\\"file.url; else prevText\\\">\\n      <a [href]=\\\"file.thumbUrl || file.url\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\" [attr.download]=\\\"file.linkProps && file.linkProps.download\\\"\\n        (click)=\\\"handlePreview(file, $event)\\\" class=\\\"ant-upload-list-item-name\\\" title=\\\"{{ file.name }}\\\">{{ file.name }}</a>\\n    </ng-container>\\n    <ng-template #prevText>\\n      <span (click)=\\\"handlePreview(file, $event)\\\" class=\\\"ant-upload-list-item-name\\\" title=\\\"{{ file.name }}\\\">{{ file.name }}</span>\\n    </ng-template>\\n  </ng-template>\\n  <div class=\\\"ant-upload-list-item-info\\\">\\n    <span *ngIf=\\\"file.status === 'error'\\\" nz-tooltip [nzTitle]=\\\"file.message\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"icon\\\"></ng-template>\\n      <ng-template [ngTemplateOutlet]=\\\"preview\\\"></ng-template>\\n    </span>\\n    <span *ngIf=\\\"file.status !== 'error'\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"icon\\\"></ng-template>\\n      <ng-template [ngTemplateOutlet]=\\\"preview\\\"></ng-template>\\n    </span>\\n  </div>\\n  <ng-container *ngIf=\\\"listType === 'picture-card' && file.status !== 'uploading'; else close\\\">\\n    <span class=\\\"ant-upload-list-item-actions\\\">\\n      <a *ngIf=\\\"showPreview(file)\\\" [href]=\\\"file.thumbUrl || file.url\\\"\\n        target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\"\\n        title=\\\"{{ locale.previewFile }}\\\"\\n        [ngStyle]=\\\"!(file.url || file.thumbUrl) && {'opacity': .5, 'pointer-events': 'none'}\\\"\\n        (click)=\\\"handlePreview(file, $event)\\\">\\n          <i nz-icon nzType=\\\"eye-o\\\"></i>\\n      </a>\\n      <i *ngIf=\\\"icons.showRemoveIcon\\\" (click)=\\\"handleRemove(file, $event)\\\" nz-icon nzType=\\\"delete\\\" title=\\\"{{ locale.removeFile }}\\\"></i>\\n    </span>\\n  </ng-container>\\n  <ng-template #close>\\n    <i *ngIf=\\\"icons.showRemoveIcon\\\" (click)=\\\"handleRemove(file, $event)\\\" nz-icon nzType=\\\"close\\\" title=\\\"{{ locale.removeFile }}\\\"></i>\\n  </ng-template>\\n  <div *ngIf=\\\"file.status === 'uploading'\\\" class=\\\"ant-upload-list-item-progress\\\">\\n    <nz-progress [nzPercent]=\\\"file.percent\\\" [nzShowInfo]=\\\"false\\\" [nzStrokeWidth]=\\\"2\\\"></nz-progress>\\n  </div>\\n</div>\",\n                providers: [NzUpdateHostClassService],\n                animations: [\n                    trigger('itemState', [\n                        transition(':enter', [\n                            style({ height: '0', width: '0', opacity: 0 }),\n                            animate(150, style({ height: '*', width: '*', opacity: 1 }))\n                        ]),\n                        transition(':leave', [animate(150, style({ height: '0', width: '0', opacity: 0 }))])\n                    ])\n                ],\n                preserveWhitespaces: false,\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc2.NzUpdateHostClassService }, { type: ɵngcc3.Platform }]; }, { locale: [{\n            type: Input\n        }], items: [{\n            type: Input\n        }], listType: [{\n            type: Input\n        }], icons: [{\n            type: Input\n        }], onPreview: [{\n            type: Input\n        }], onRemove: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzUploadComponent, [{\n        type: Component,\n        args: [{\n                selector: 'nz-upload',\n                exportAs: 'nzUpload',\n                template: \"<ng-template #list>\\n  <nz-upload-list #listComp [style.display]=\\\"nzShowUploadList ? '' : 'none'\\\"\\n    [locale]=\\\"locale\\\"\\n    [listType]=\\\"nzListType\\\"\\n    [items]=\\\"nzFileList || []\\\"\\n    [icons]=\\\"nzShowUploadList\\\"\\n    [onPreview]=\\\"nzPreview\\\"\\n    [onRemove]=\\\"onRemove\\\"></nz-upload-list>\\n</ng-template>\\n<ng-template #con><ng-content></ng-content></ng-template>\\n<ng-template #btn>\\n  <div [ngClass]=\\\"classList\\\" [style.display]=\\\"nzShowButton ? '' : 'none'\\\">\\n    <div nz-upload-btn #uploadComp [options]=\\\"_btnOptions\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"con\\\"></ng-template>\\n    </div>\\n  </div>\\n</ng-template>\\n<ng-container *ngIf=\\\"nzType === 'drag'; else select\\\">\\n  <div [ngClass]=\\\"classList\\\"\\n    (drop)=\\\"fileDrop($event)\\\"\\n    (dragover)=\\\"fileDrop($event)\\\"\\n    (dragleave)=\\\"fileDrop($event)\\\">\\n    <div nz-upload-btn #uploadComp [options]=\\\"_btnOptions\\\" [classes]=\\\"{'ant-upload-btn': true}\\\">\\n      <div class=\\\"ant-upload-drag-container\\\">\\n        <ng-template [ngTemplateOutlet]=\\\"con\\\"></ng-template>\\n      </div>\\n    </div>\\n  </div>\\n  <ng-template [ngTemplateOutlet]=\\\"list\\\"></ng-template>\\n</ng-container>\\n<ng-template #select>\\n  <ng-container *ngIf=\\\"nzListType === 'picture-card'; else pic\\\">\\n    <ng-template [ngTemplateOutlet]=\\\"list\\\"></ng-template>\\n    <ng-template [ngTemplateOutlet]=\\\"btn\\\"></ng-template>\\n  </ng-container>\\n</ng-template>\\n<ng-template #pic>\\n  <ng-template [ngTemplateOutlet]=\\\"btn\\\"></ng-template>\\n  <ng-template [ngTemplateOutlet]=\\\"list\\\"></ng-template>\\n</ng-template>\",\n                preserveWhitespaces: false,\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                host: {\n                    '[class.ant-upload-picture-card-wrapper]': 'nzListType === \"picture-card\"'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc8.NzI18nService }]; }, { nzType: [{\n            type: Input\n        }], nzLimit: [{\n            type: Input\n        }], nzSize: [{\n            type: Input\n        }], nzDirectory: [{\n            type: Input\n        }], nzOpenFileDialogOnClick: [{\n            type: Input\n        }], nzFilter: [{\n            type: Input\n        }], nzFileList: [{\n            type: Input\n        }], nzDisabled: [{\n            type: Input\n        }], nzListType: [{\n            type: Input\n        }], nzMultiple: [{\n            type: Input\n        }], nzName: [{\n            type: Input\n        }], nzShowButton: [{\n            type: Input\n        }], nzWithCredentials: [{\n            type: Input\n        }], nzChange: [{\n            type: Output\n        }], nzFileListChange: [{\n            type: Output\n        }], nzShowUploadList: [{\n            type: Input\n        }], uploadComp: [{\n            type: ViewChild,\n            args: ['uploadComp', { static: false }]\n        }], listComp: [{\n            type: ViewChild,\n            args: ['listComp', { static: false }]\n        }], nzFileType: [{\n            type: Input\n        }], nzAccept: [{\n            type: Input\n        }], nzAction: [{\n            type: Input\n        }], nzBeforeUpload: [{\n            type: Input\n        }], nzCustomRequest: [{\n            type: Input\n        }], nzData: [{\n            type: Input\n        }], nzHeaders: [{\n            type: Input\n        }], nzRemove: [{\n            type: Input\n        }], nzPreview: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype.i18n$;\n    /** @type {?} */\n    NzUploadComponent.prototype.uploadComp;\n    /** @type {?} */\n    NzUploadComponent.prototype.listComp;\n    /** @type {?} */\n    NzUploadComponent.prototype.locale;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzType;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzLimit;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzSize;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzFileType;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzAccept;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzAction;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzDirectory;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzOpenFileDialogOnClick;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzBeforeUpload;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzCustomRequest;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzData;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzFilter;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzFileList;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzDisabled;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzHeaders;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzListType;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzMultiple;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzName;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype._showUploadList;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzShowButton;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzWithCredentials;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzRemove;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzPreview;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzChange;\n    /** @type {?} */\n    NzUploadComponent.prototype.nzFileListChange;\n    /** @type {?} */\n    NzUploadComponent.prototype._btnOptions;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype.onStart;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype.onProgress;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype.onSuccess;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype.onError;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype.dragState;\n    /** @type {?} */\n    NzUploadComponent.prototype.onRemove;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype.prefixCls;\n    /** @type {?} */\n    NzUploadComponent.prototype.classList;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype.cdr;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzUploadComponent.prototype.i18n;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-upload.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzUploadModule {\n}\nNzUploadModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NzUploadModule });\nNzUploadModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NzUploadModule_Factory(t) { return new (t || NzUploadModule)(); }, imports: [[CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzUploadModule, { declarations: function () { return [NzUploadComponent,\n        NzUploadBtnComponent,\n        NzUploadListComponent]; }, imports: function () { return [CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule]; }, exports: function () { return [NzUploadComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzUploadModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule],\n                declarations: [NzUploadComponent, NzUploadBtnComponent, NzUploadListComponent],\n                exports: [NzUploadComponent]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ng-zorro-antd-upload.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { NzUploadBtnComponent, NzUploadComponent, NzUploadListComponent, NzUploadModule };\n\n//# sourceMappingURL=ng-zorro-antd-upload.js.map","import { __decorate, __metadata, __rest } from 'tslib';\nimport { ESCAPE } from '@angular/cdk/keycodes';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { EventEmitter, TemplateRef, Type, Component, ChangeDetectionStrategy, Optional, Inject, Renderer2, Injector, ChangeDetectorRef, ViewContainerRef, Input, Output, ViewChild, NgModule, Injectable, ɵɵdefineInjectable, ɵɵinject } from '@angular/core';\nimport { FocusTrapFactory } from '@angular/cdk/a11y';\nimport { OverlayConfig, Overlay, OverlayKeyboardDispatcher, OverlayModule } from '@angular/cdk/overlay';\nimport { PortalInjector, ComponentPortal, TemplatePortal, CdkPortalOutlet, PortalModule } from '@angular/cdk/portal';\nimport { Subject } from 'rxjs';\nimport { toCssPixel, NzConfigService, InputBoolean, WithConfig, NzAddOnModule, NzNoAnimationModule } from 'ng-zorro-antd/core';\nimport { takeUntil } from 'rxjs/operators';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-drawer-ref.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n// tslint:disable-next-line:no-any\n/**\n * @abstract\n * @template R\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core';\nimport * as ɵngcc2 from '@angular/cdk/overlay';\nimport * as ɵngcc3 from '@angular/cdk/a11y';\nimport * as ɵngcc4 from '@angular/common';\nimport * as ɵngcc5 from '@angular/cdk/portal';\nimport * as ɵngcc6 from 'ng-zorro-antd/icon';\n\nconst _c0 = [\"drawerTemplate\"];\nfunction NzDrawerComponent_ng_template_0_div_1_Template(rf, ctx) { if (rf & 1) {\n    const _r643 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵlistener(\"click\", function NzDrawerComponent_ng_template_0_div_1_Template_div_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r643); const ctx_r642 = ɵngcc0.ɵɵnextContext(2); return ctx_r642.maskClick(); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r637 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ctx_r637.nzMaskStyle);\n} }\nfunction NzDrawerComponent_ng_template_0_div_5_div_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelement(1, \"div\", 14);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r646 = ɵngcc0.ɵɵnextContext(4);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"innerHTML\", ctx_r646.nzTitle, ɵngcc0.ɵɵsanitizeHtml);\n} }\nfunction NzDrawerComponent_ng_template_0_div_5_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 12);\n    ɵngcc0.ɵɵtemplate(1, NzDrawerComponent_ng_template_0_div_5_div_1_ng_container_1_Template, 2, 1, \"ng-container\", 13);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r644 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"nzStringTemplateOutlet\", ctx_r644.nzTitle);\n} }\nfunction NzDrawerComponent_ng_template_0_div_5_button_2_Template(rf, ctx) { if (rf & 1) {\n    const _r648 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 15);\n    ɵngcc0.ɵɵlistener(\"click\", function NzDrawerComponent_ng_template_0_div_5_button_2_Template_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r648); const ctx_r647 = ɵngcc0.ɵɵnextContext(3); return ctx_r647.closeClick(); });\n    ɵngcc0.ɵɵelement(1, \"i\", 16);\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction NzDrawerComponent_ng_template_0_div_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵtemplate(1, NzDrawerComponent_ng_template_0_div_5_div_1_Template, 2, 1, \"div\", 10);\n    ɵngcc0.ɵɵtemplate(2, NzDrawerComponent_ng_template_0_div_5_button_2_Template, 2, 0, \"button\", 11);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r638 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵclassProp(\"ant-drawer-header\", !!ctx_r638.nzTitle)(\"ant-drawer-header-no-title\", !!ctx_r638.nzTitle);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r638.nzTitle);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r638.nzClosable);\n} }\nfunction NzDrawerComponent_ng_template_0_ng_template_7_Template(rf, ctx) { }\nfunction NzDrawerComponent_ng_template_0_ng_container_8_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n} }\nfunction NzDrawerComponent_ng_template_0_ng_container_8_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzDrawerComponent_ng_template_0_ng_container_8_ng_container_1_Template, 1, 0, \"ng-container\", 17);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r640 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r640.nzContent)(\"ngTemplateOutletContext\", ctx_r640.templateContext);\n} }\nfunction NzDrawerComponent_ng_template_0_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0, 0, [\"*ngIf\", \"!nzContent\"]);\n} }\nfunction NzDrawerComponent_ng_template_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 1);\n    ɵngcc0.ɵɵtemplate(1, NzDrawerComponent_ng_template_0_div_1_Template, 1, 1, \"div\", 2);\n    ɵngcc0.ɵɵelementStart(2, \"div\");\n    ɵngcc0.ɵɵelementStart(3, \"div\", 3);\n    ɵngcc0.ɵɵelementStart(4, \"div\", 4);\n    ɵngcc0.ɵɵtemplate(5, NzDrawerComponent_ng_template_0_div_5_Template, 3, 6, \"div\", 5);\n    ɵngcc0.ɵɵelementStart(6, \"div\", 6);\n    ɵngcc0.ɵɵtemplate(7, NzDrawerComponent_ng_template_0_ng_template_7_Template, 0, 0, \"ng-template\", 7);\n    ɵngcc0.ɵɵtemplate(8, NzDrawerComponent_ng_template_0_ng_container_8_Template, 2, 2, \"ng-container\", 8);\n    ɵngcc0.ɵɵtemplate(9, NzDrawerComponent_ng_template_0_9_Template, 1, 0, undefined, 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r636 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"transform\", ctx_r636.offsetTransform)(\"z-index\", ctx_r636.nzZIndex);\n    ɵngcc0.ɵɵclassProp(\"ant-drawer-open\", ctx_r636.isOpen)(\"ant-drawer-top\", ctx_r636.nzPlacement === \"top\")(\"ant-drawer-bottom\", ctx_r636.nzPlacement === \"bottom\")(\"ant-drawer-right\", ctx_r636.nzPlacement === \"right\")(\"ant-drawer-left\", ctx_r636.nzPlacement === \"left\");\n    ɵngcc0.ɵɵproperty(\"nzNoAnimation\", ctx_r636.nzNoAnimation);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r636.nzMask);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassMapInterpolate1(\"ant-drawer-content-wrapper \", ctx_r636.nzWrapClassName, \"\");\n    ɵngcc0.ɵɵstyleProp(\"width\", ctx_r636.width)(\"height\", ctx_r636.height)(\"transform\", ctx_r636.transform);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵstyleProp(\"height\", ctx_r636.isLeftOrRight ? \"100%\" : null);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r636.nzTitle || ctx_r636.nzClosable);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ctx_r636.nzBodyStyle);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r636.isTemplateRef(ctx_r636.nzContent));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r636.nzContent);\n} }\nconst _c1 = [\"*\"];\nclass NzDrawerRef {\n}\nif (false) {\n    /** @type {?} */\n    NzDrawerRef.prototype.afterClose;\n    /** @type {?} */\n    NzDrawerRef.prototype.afterOpen;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzClosable;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzNoAnimation;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzMaskClosable;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzKeyboard;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzMask;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzTitle;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzPlacement;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzMaskStyle;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzBodyStyle;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzWrapClassName;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzWidth;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzHeight;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzZIndex;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzOffsetX;\n    /** @type {?} */\n    NzDrawerRef.prototype.nzOffsetY;\n    /**\n     * @abstract\n     * @param {?=} result\n     * @return {?}\n     */\n    NzDrawerRef.prototype.close = function (result) { };\n    /**\n     * @abstract\n     * @return {?}\n     */\n    NzDrawerRef.prototype.open = function () { };\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-drawer.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DRAWER_ANIMATE_DURATION = 300;\n/** @type {?} */\nconst NZ_CONFIG_COMPONENT_NAME = 'drawer';\n/**\n * @template T, R, D\n */\n// tslint:disable-next-line:no-any\nclass NzDrawerComponent extends NzDrawerRef {\n    /**\n     * @param {?} document\n     * @param {?} nzConfigService\n     * @param {?} renderer\n     * @param {?} overlay\n     * @param {?} injector\n     * @param {?} changeDetectorRef\n     * @param {?} focusTrapFactory\n     * @param {?} viewContainerRef\n     * @param {?} overlayKeyboardDispatcher\n     */\n    constructor(document, nzConfigService, renderer, overlay, injector, changeDetectorRef, focusTrapFactory, viewContainerRef, overlayKeyboardDispatcher) {\n        super();\n        this.document = document;\n        this.nzConfigService = nzConfigService;\n        this.renderer = renderer;\n        this.overlay = overlay;\n        this.injector = injector;\n        this.changeDetectorRef = changeDetectorRef;\n        this.focusTrapFactory = focusTrapFactory;\n        this.viewContainerRef = viewContainerRef;\n        this.overlayKeyboardDispatcher = overlayKeyboardDispatcher;\n        this.nzClosable = true;\n        this.nzNoAnimation = false;\n        this.nzKeyboard = true;\n        this.nzPlacement = 'right';\n        this.nzMaskStyle = {};\n        this.nzBodyStyle = {};\n        this.nzWidth = 256;\n        this.nzHeight = 256;\n        this.nzZIndex = 1000;\n        this.nzOffsetX = 0;\n        this.nzOffsetY = 0;\n        this.nzOnViewInit = new EventEmitter();\n        this.nzOnClose = new EventEmitter();\n        this.destroy$ = new Subject();\n        this.isOpen = false;\n        this.templateContext = {\n            $implicit: undefined,\n            drawerRef: (/** @type {?} */ (this))\n        };\n        this.nzAfterOpen = new Subject();\n        this.nzAfterClose = new Subject();\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set nzVisible(value) {\n        this.isOpen = value;\n    }\n    /**\n     * @return {?}\n     */\n    get nzVisible() {\n        return this.isOpen;\n    }\n    /**\n     * @return {?}\n     */\n    get offsetTransform() {\n        if (!this.isOpen || this.nzOffsetX + this.nzOffsetY === 0) {\n            return null;\n        }\n        switch (this.nzPlacement) {\n            case 'left':\n                return `translateX(${this.nzOffsetX}px)`;\n            case 'right':\n                return `translateX(-${this.nzOffsetX}px)`;\n            case 'top':\n                return `translateY(${this.nzOffsetY}px)`;\n            case 'bottom':\n                return `translateY(-${this.nzOffsetY}px)`;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get transform() {\n        if (this.isOpen) {\n            return null;\n        }\n        switch (this.nzPlacement) {\n            case 'left':\n                return `translateX(-100%)`;\n            case 'right':\n                return `translateX(100%)`;\n            case 'top':\n                return `translateY(-100%)`;\n            case 'bottom':\n                return `translateY(100%)`;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get width() {\n        return this.isLeftOrRight ? toCssPixel(this.nzWidth) : null;\n    }\n    /**\n     * @return {?}\n     */\n    get height() {\n        return !this.isLeftOrRight ? toCssPixel(this.nzHeight) : null;\n    }\n    /**\n     * @return {?}\n     */\n    get isLeftOrRight() {\n        return this.nzPlacement === 'left' || this.nzPlacement === 'right';\n    }\n    /**\n     * @return {?}\n     */\n    get afterOpen() {\n        return this.nzAfterOpen.asObservable();\n    }\n    /**\n     * @return {?}\n     */\n    get afterClose() {\n        return this.nzAfterClose.asObservable();\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    isTemplateRef(value) {\n        return value instanceof TemplateRef;\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.attachOverlay();\n        this.updateOverlayStyle();\n        this.updateBodyOverflow();\n        this.templateContext = { $implicit: this.nzContentParams, drawerRef: (/** @type {?} */ (this)) };\n        this.changeDetectorRef.detectChanges();\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        this.attachBodyContent();\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.nzOnViewInit.emit();\n        }));\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes.hasOwnProperty('nzVisible')) {\n            /** @type {?} */\n            const value = changes.nzVisible.currentValue;\n            if (value) {\n                this.open();\n            }\n            else {\n                this.close();\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n        this.disposeOverlay();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getAnimationDuration() {\n        return this.nzNoAnimation ? 0 : DRAWER_ANIMATE_DURATION;\n    }\n    /**\n     * @param {?=} result\n     * @return {?}\n     */\n    close(result) {\n        this.isOpen = false;\n        this.updateOverlayStyle();\n        this.overlayKeyboardDispatcher.remove((/** @type {?} */ (this.overlayRef)));\n        this.changeDetectorRef.detectChanges();\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.updateBodyOverflow();\n            this.restoreFocus();\n            this.nzAfterClose.next(result);\n            this.nzAfterClose.complete();\n        }), this.getAnimationDuration());\n    }\n    /**\n     * @return {?}\n     */\n    open() {\n        this.isOpen = true;\n        this.overlayKeyboardDispatcher.add((/** @type {?} */ (this.overlayRef)));\n        this.updateOverlayStyle();\n        this.updateBodyOverflow();\n        this.savePreviouslyFocusedElement();\n        this.trapFocus();\n        this.changeDetectorRef.detectChanges();\n        setTimeout((/**\n         * @return {?}\n         */\n        () => {\n            this.nzAfterOpen.next();\n        }), this.getAnimationDuration());\n    }\n    /**\n     * @return {?}\n     */\n    closeClick() {\n        this.nzOnClose.emit();\n    }\n    /**\n     * @return {?}\n     */\n    maskClick() {\n        if (this.nzMaskClosable && this.nzMask) {\n            this.nzOnClose.emit();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    attachBodyContent() {\n        this.bodyPortalOutlet.dispose();\n        if (this.nzContent instanceof Type) {\n            /** @type {?} */\n            const childInjector = new PortalInjector(this.injector, new WeakMap([[NzDrawerRef, this]]));\n            /** @type {?} */\n            const componentPortal = new ComponentPortal(this.nzContent, null, childInjector);\n            /** @type {?} */\n            const componentRef = this.bodyPortalOutlet.attachComponentPortal(componentPortal);\n            Object.assign(componentRef.instance, this.nzContentParams);\n            componentRef.changeDetectorRef.detectChanges();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    attachOverlay() {\n        if (!this.overlayRef) {\n            this.portal = new TemplatePortal(this.drawerTemplate, this.viewContainerRef);\n            this.overlayRef = this.overlay.create(this.getOverlayConfig());\n        }\n        if (this.overlayRef && !this.overlayRef.hasAttached()) {\n            this.overlayRef.attach(this.portal);\n            (/** @type {?} */ (this.overlayRef)).keydownEvents()\n                .pipe(takeUntil(this.destroy$))\n                .subscribe((/**\n             * @param {?} event\n             * @return {?}\n             */\n            (event) => {\n                if (event.keyCode === ESCAPE && this.isOpen && this.nzKeyboard) {\n                    this.nzOnClose.emit();\n                }\n            }));\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    disposeOverlay() {\n        if (this.overlayRef) {\n            this.overlayRef.dispose();\n        }\n        this.overlayRef = null;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getOverlayConfig() {\n        return new OverlayConfig({\n            positionStrategy: this.overlay.position().global(),\n            scrollStrategy: this.overlay.scrollStrategies.block()\n        });\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    updateOverlayStyle() {\n        if (this.overlayRef && this.overlayRef.overlayElement) {\n            this.renderer.setStyle(this.overlayRef.overlayElement, 'pointer-events', this.isOpen ? 'auto' : 'none');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    updateBodyOverflow() {\n        if (this.overlayRef) {\n            if (this.isOpen) {\n                (/** @type {?} */ (this.overlayRef.getConfig().scrollStrategy)).enable();\n            }\n            else {\n                (/** @type {?} */ (this.overlayRef.getConfig().scrollStrategy)).disable();\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    savePreviouslyFocusedElement() {\n        if (this.document && !this.previouslyFocusedElement) {\n            this.previouslyFocusedElement = (/** @type {?} */ (this.document.activeElement));\n            // We need the extra check, because IE's svg element has no blur method.\n            if (this.previouslyFocusedElement && typeof this.previouslyFocusedElement.blur === 'function') {\n                this.previouslyFocusedElement.blur();\n            }\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    trapFocus() {\n        if (!this.focusTrap && this.overlayRef && this.overlayRef.overlayElement) {\n            this.focusTrap = this.focusTrapFactory.create((/** @type {?} */ (this.overlayRef)).overlayElement);\n            this.focusTrap.focusInitialElement();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    restoreFocus() {\n        // We need the extra check, because IE can set the `activeElement` to null in some cases.\n        if (this.previouslyFocusedElement && typeof this.previouslyFocusedElement.focus === 'function') {\n            this.previouslyFocusedElement.focus();\n        }\n        if (this.focusTrap) {\n            this.focusTrap.destroy();\n        }\n    }\n}\nNzDrawerComponent.ɵfac = function NzDrawerComponent_Factory(t) { return new (t || NzDrawerComponent)(ɵngcc0.ɵɵdirectiveInject(DOCUMENT, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Overlay), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Injector), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.FocusTrapFactory), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.OverlayKeyboardDispatcher)); };\nNzDrawerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NzDrawerComponent, selectors: [[\"nz-drawer\"]], viewQuery: function NzDrawerComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵstaticViewQuery(_c0, true);\n        ɵngcc0.ɵɵviewQuery(CdkPortalOutlet, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.drawerTemplate = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.bodyPortalOutlet = _t.first);\n    } }, inputs: { nzClosable: \"nzClosable\", nzNoAnimation: \"nzNoAnimation\", nzKeyboard: \"nzKeyboard\", nzPlacement: \"nzPlacement\", nzMaskStyle: \"nzMaskStyle\", nzBodyStyle: \"nzBodyStyle\", nzWidth: \"nzWidth\", nzHeight: \"nzHeight\", nzZIndex: \"nzZIndex\", nzOffsetX: \"nzOffsetX\", nzOffsetY: \"nzOffsetY\", nzVisible: \"nzVisible\", nzContent: \"nzContent\", nzMaskClosable: \"nzMaskClosable\", nzMask: \"nzMask\", nzTitle: \"nzTitle\", nzWrapClassName: \"nzWrapClassName\" }, outputs: { nzOnViewInit: \"nzOnViewInit\", nzOnClose: \"nzOnClose\" }, exportAs: [\"nzDrawer\"], features: [ɵngcc0.ɵɵInheritDefinitionFeature, ɵngcc0.ɵɵNgOnChangesFeature()], ngContentSelectors: _c1, decls: 2, vars: 0, consts: [[\"drawerTemplate\", \"\"], [1, \"ant-drawer\", 3, \"nzNoAnimation\"], [\"class\", \"ant-drawer-mask\", 3, \"ngStyle\", \"click\", 4, \"ngIf\"], [1, \"ant-drawer-content\"], [1, \"ant-drawer-wrapper-body\"], [3, \"ant-drawer-header\", \"ant-drawer-header-no-title\", 4, \"ngIf\"], [1, \"ant-drawer-body\", 3, \"ngStyle\"], [\"cdkPortalOutlet\", \"\"], [4, \"ngIf\"], [1, \"ant-drawer-mask\", 3, \"ngStyle\", \"click\"], [\"class\", \"ant-drawer-title\", 4, \"ngIf\"], [\"aria-label\", \"Close\", \"class\", \"ant-drawer-close\", 3, \"click\", 4, \"ngIf\"], [1, \"ant-drawer-title\"], [4, \"nzStringTemplateOutlet\"], [3, \"innerHTML\"], [\"aria-label\", \"Close\", 1, \"ant-drawer-close\", 3, \"click\"], [\"nz-icon\", \"\", \"nzType\", \"close\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"]], template: function NzDrawerComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, NzDrawerComponent_ng_template_0_Template, 10, 31, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n    } }, directives: [ɵngcc1.NzNoAnimationDirective, ɵngcc4.NgIf, ɵngcc4.NgStyle, ɵngcc5.CdkPortalOutlet, ɵngcc1.NzStringTemplateOutletDirective, ɵngcc6.NzIconDirective, ɵngcc4.NgTemplateOutlet], encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nNzDrawerComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [DOCUMENT,] }] },\n    { type: NzConfigService },\n    { type: Renderer2 },\n    { type: Overlay },\n    { type: Injector },\n    { type: ChangeDetectorRef },\n    { type: FocusTrapFactory },\n    { type: ViewContainerRef },\n    { type: OverlayKeyboardDispatcher }\n];\nNzDrawerComponent.propDecorators = {\n    nzContent: [{ type: Input }],\n    nzClosable: [{ type: Input }],\n    nzMaskClosable: [{ type: Input }],\n    nzMask: [{ type: Input }],\n    nzNoAnimation: [{ type: Input }],\n    nzKeyboard: [{ type: Input }],\n    nzTitle: [{ type: Input }],\n    nzPlacement: [{ type: Input }],\n    nzMaskStyle: [{ type: Input }],\n    nzBodyStyle: [{ type: Input }],\n    nzWrapClassName: [{ type: Input }],\n    nzWidth: [{ type: Input }],\n    nzHeight: [{ type: Input }],\n    nzZIndex: [{ type: Input }],\n    nzOffsetX: [{ type: Input }],\n    nzOffsetY: [{ type: Input }],\n    nzVisible: [{ type: Input }],\n    nzOnViewInit: [{ type: Output }],\n    nzOnClose: [{ type: Output }],\n    drawerTemplate: [{ type: ViewChild, args: ['drawerTemplate', { static: true },] }],\n    bodyPortalOutlet: [{ type: ViewChild, args: [CdkPortalOutlet, { static: false },] }]\n};\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzDrawerComponent.prototype, \"nzClosable\", void 0);\n__decorate([\n    WithConfig(NZ_CONFIG_COMPONENT_NAME, true), InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzDrawerComponent.prototype, \"nzMaskClosable\", void 0);\n__decorate([\n    WithConfig(NZ_CONFIG_COMPONENT_NAME, true), InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzDrawerComponent.prototype, \"nzMask\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzDrawerComponent.prototype, \"nzNoAnimation\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzDrawerComponent.prototype, \"nzKeyboard\", void 0);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzDrawerComponent, [{\n        type: Component,\n        args: [{\n                selector: 'nz-drawer',\n                exportAs: 'nzDrawer',\n                template: \"<ng-template #drawerTemplate>\\n  <div\\n    class=\\\"ant-drawer\\\"\\n    [nzNoAnimation]=\\\"nzNoAnimation\\\"\\n    [class.ant-drawer-open]=\\\"isOpen\\\"\\n    [class.ant-drawer-top]=\\\"nzPlacement === 'top'\\\"\\n    [class.ant-drawer-bottom]=\\\"nzPlacement === 'bottom'\\\"\\n    [class.ant-drawer-right]=\\\"nzPlacement === 'right'\\\"\\n    [class.ant-drawer-left]=\\\"nzPlacement === 'left'\\\"\\n    [style.transform]=\\\"offsetTransform\\\"\\n    [style.zIndex]=\\\"nzZIndex\\\">\\n    <div  class=\\\"ant-drawer-mask\\\" (click)=\\\"maskClick()\\\" *ngIf=\\\"nzMask\\\" [ngStyle]=\\\"nzMaskStyle\\\"></div>\\n    <div class=\\\"ant-drawer-content-wrapper {{ nzWrapClassName }}\\\"\\n         [style.width]=\\\"width\\\"\\n         [style.height]=\\\"height\\\"\\n         [style.transform]=\\\"transform\\\">\\n      <div class=\\\"ant-drawer-content\\\">\\n        <div class=\\\"ant-drawer-wrapper-body\\\" [style.height]=\\\"isLeftOrRight ? '100%' : null\\\">\\n          <div *ngIf=\\\"nzTitle || nzClosable\\\"\\n            [class.ant-drawer-header]=\\\"!!nzTitle\\\"\\n            [class.ant-drawer-header-no-title]=\\\"!!nzTitle\\\">\\n            <div *ngIf=\\\"nzTitle\\\" class=\\\"ant-drawer-title\\\">\\n              <ng-container *nzStringTemplateOutlet=\\\"nzTitle\\\"><div [innerHTML]=\\\"nzTitle\\\"></div></ng-container>\\n            </div>\\n            <button *ngIf=\\\"nzClosable\\\" (click)=\\\"closeClick()\\\" aria-label=\\\"Close\\\" class=\\\"ant-drawer-close\\\">\\n              <i nz-icon nzType=\\\"close\\\"></i>\\n            </button>\\n          </div>\\n          <div class=\\\"ant-drawer-body\\\" [ngStyle]=\\\"nzBodyStyle\\\">\\n            <ng-template cdkPortalOutlet></ng-template>\\n            <ng-container *ngIf=\\\"isTemplateRef(nzContent)\\\">\\n              <ng-container *ngTemplateOutlet=\\\"nzContent; context: templateContext\\\"></ng-container>\\n            </ng-container>\\n            <ng-content *ngIf=\\\"!nzContent\\\"></ng-content>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ng-template>\\n\",\n                preserveWhitespaces: false,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ɵngcc1.NzConfigService }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc2.Overlay }, { type: ɵngcc0.Injector }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc3.FocusTrapFactory }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc2.OverlayKeyboardDispatcher }]; }, { nzClosable: [{\n            type: Input\n        }], nzNoAnimation: [{\n            type: Input\n        }], nzKeyboard: [{\n            type: Input\n        }], nzPlacement: [{\n            type: Input\n        }], nzMaskStyle: [{\n            type: Input\n        }], nzBodyStyle: [{\n            type: Input\n        }], nzWidth: [{\n            type: Input\n        }], nzHeight: [{\n            type: Input\n        }], nzZIndex: [{\n            type: Input\n        }], nzOffsetX: [{\n            type: Input\n        }], nzOffsetY: [{\n            type: Input\n        }], nzOnViewInit: [{\n            type: Output\n        }], nzOnClose: [{\n            type: Output\n        }], nzVisible: [{\n            type: Input\n        }], nzContent: [{\n            type: Input\n        }], nzMaskClosable: [{\n            type: Input\n        }], nzMask: [{\n            type: Input\n        }], nzTitle: [{\n            type: Input\n        }], nzWrapClassName: [{\n            type: Input\n        }], drawerTemplate: [{\n            type: ViewChild,\n            args: ['drawerTemplate', { static: true }]\n        }], bodyPortalOutlet: [{\n            type: ViewChild,\n            args: [CdkPortalOutlet, { static: false }]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzContent;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzClosable;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzMaskClosable;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzMask;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzNoAnimation;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzKeyboard;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzTitle;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzPlacement;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzMaskStyle;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzBodyStyle;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzWrapClassName;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzWidth;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzHeight;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzZIndex;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzOffsetX;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzOffsetY;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzOnViewInit;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzOnClose;\n    /** @type {?} */\n    NzDrawerComponent.prototype.drawerTemplate;\n    /** @type {?} */\n    NzDrawerComponent.prototype.bodyPortalOutlet;\n    /** @type {?} */\n    NzDrawerComponent.prototype.destroy$;\n    /** @type {?} */\n    NzDrawerComponent.prototype.previouslyFocusedElement;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzContentParams;\n    /** @type {?} */\n    NzDrawerComponent.prototype.overlayRef;\n    /** @type {?} */\n    NzDrawerComponent.prototype.portal;\n    /** @type {?} */\n    NzDrawerComponent.prototype.focusTrap;\n    /** @type {?} */\n    NzDrawerComponent.prototype.isOpen;\n    /** @type {?} */\n    NzDrawerComponent.prototype.templateContext;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzAfterOpen;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzAfterClose;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzDrawerComponent.prototype.document;\n    /** @type {?} */\n    NzDrawerComponent.prototype.nzConfigService;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzDrawerComponent.prototype.renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzDrawerComponent.prototype.overlay;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzDrawerComponent.prototype.injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzDrawerComponent.prototype.changeDetectorRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzDrawerComponent.prototype.focusTrapFactory;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzDrawerComponent.prototype.viewContainerRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    NzDrawerComponent.prototype.overlayKeyboardDispatcher;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-drawer.service.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzDrawerServiceModule {\n}\nNzDrawerServiceModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NzDrawerServiceModule });\nNzDrawerServiceModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NzDrawerServiceModule_Factory(t) { return new (t || NzDrawerServiceModule)(); } });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzDrawerServiceModule, [{\n        type: NgModule\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-drawer.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NzDrawerModule {\n}\nNzDrawerModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NzDrawerModule });\nNzDrawerModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NzDrawerModule_Factory(t) { return new (t || NzDrawerModule)(); }, imports: [[\n            CommonModule,\n            OverlayModule,\n            PortalModule,\n            NzIconModule,\n            NzAddOnModule,\n            NzNoAnimationModule,\n            NzDrawerServiceModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzDrawerModule, { declarations: function () { return [NzDrawerComponent]; }, imports: function () { return [CommonModule,\n        OverlayModule,\n        PortalModule,\n        NzIconModule,\n        NzAddOnModule,\n        NzNoAnimationModule,\n        NzDrawerServiceModule]; }, exports: function () { return [NzDrawerComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzDrawerModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule,\n                    OverlayModule,\n                    PortalModule,\n                    NzIconModule,\n                    NzAddOnModule,\n                    NzNoAnimationModule,\n                    NzDrawerServiceModule\n                ],\n                exports: [NzDrawerComponent],\n                declarations: [NzDrawerComponent],\n                entryComponents: [NzDrawerComponent]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-drawer.service.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template R\n */\nclass DrawerBuilderForService {\n    /**\n     * @param {?} overlay\n     * @param {?} options\n     */\n    constructor(overlay, options) {\n        this.overlay = overlay;\n        this.options = options;\n        this.unsubscribe$ = new Subject();\n        /**\n         * pick {\\@link NzDrawerOptions.nzOnCancel} and omit this option\n         */\n        const _a = this.options, { nzOnCancel } = _a, componentOption = __rest(_a, [\"nzOnCancel\"]);\n        this.createDrawer();\n        this.updateOptions(componentOption);\n        // Prevent repeatedly open drawer when tap focus element.\n        (/** @type {?} */ (this.drawerRef)).instance.savePreviouslyFocusedElement();\n        (/** @type {?} */ (this.drawerRef)).instance.nzOnViewInit.pipe(takeUntil(this.unsubscribe$)).subscribe((/**\n         * @return {?}\n         */\n        () => {\n            (/** @type {?} */ (this.drawerRef)).instance.open();\n        }));\n        (/** @type {?} */ (this.drawerRef)).instance.nzOnClose.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            if (nzOnCancel) {\n                nzOnCancel().then((/**\n                 * @param {?} canClose\n                 * @return {?}\n                 */\n                canClose => {\n                    if (canClose !== false) {\n                        (/** @type {?} */ (this.drawerRef)).instance.close();\n                    }\n                }));\n            }\n            else {\n                (/** @type {?} */ (this.drawerRef)).instance.close();\n            }\n        }));\n        (/** @type {?} */ (this.drawerRef)).instance.afterClose.pipe(takeUntil(this.unsubscribe$)).subscribe((/**\n         * @return {?}\n         */\n        () => {\n            this.overlayRef.dispose();\n            this.drawerRef = null;\n            this.unsubscribe$.next();\n            this.unsubscribe$.complete();\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    getInstance() {\n        return (/** @type {?} */ (this.drawerRef)) && (/** @type {?} */ (this.drawerRef)).instance;\n    }\n    /**\n     * @return {?}\n     */\n    createDrawer() {\n        this.overlayRef = this.overlay.create();\n        this.drawerRef = this.overlayRef.attach(new ComponentPortal(NzDrawerComponent));\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    updateOptions(options) {\n        Object.assign((/** @type {?} */ (this.drawerRef)).instance, options);\n    }\n}\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    DrawerBuilderForService.prototype.drawerRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    DrawerBuilderForService.prototype.overlayRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    DrawerBuilderForService.prototype.unsubscribe$;\n    /**\n     * @type {?}\n     * @private\n     */\n    DrawerBuilderForService.prototype.overlay;\n    /**\n     * @type {?}\n     * @private\n     */\n    DrawerBuilderForService.prototype.options;\n}\nclass NzDrawerService {\n    /**\n     * @param {?} overlay\n     */\n    constructor(overlay) {\n        this.overlay = overlay;\n    }\n    // tslint:disable-next-line:no-any\n    /**\n     * @template T, D, R\n     * @param {?} options\n     * @return {?}\n     */\n    create(options) {\n        return new DrawerBuilderForService(this.overlay, options).getInstance();\n    }\n}\nNzDrawerService.ɵfac = function NzDrawerService_Factory(t) { return new (t || NzDrawerService)(ɵngcc0.ɵɵinject(ɵngcc2.Overlay)); };\nNzDrawerService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: NzDrawerService, factory: NzDrawerService.ɵfac, providedIn: NzDrawerServiceModule });\n/** @nocollapse */\nNzDrawerService.ctorParameters = () => [\n    { type: Overlay }\n];\n/** @nocollapse */ NzDrawerService.ngInjectableDef = ɵɵdefineInjectable({ factory: function NzDrawerService_Factory() { return new NzDrawerService(ɵɵinject(Overlay)); }, token: NzDrawerService, providedIn: NzDrawerServiceModule });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NzDrawerService, [{\n        type: Injectable,\n        args: [{ providedIn: NzDrawerServiceModule }]\n    }], function () { return [{ type: ɵngcc2.Overlay }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    NzDrawerService.prototype.overlay;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-drawer-options.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n/**\n * @record\n * @template T, D\n */\nfunction NzDrawerOptionsOfComponent() { }\nif (false) {\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzClosable;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzMaskClosable;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzMask;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzKeyboard;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzNoAnimation;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzTitle;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzContent;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzContentParams;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzMaskStyle;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzBodyStyle;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzWrapClassName;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzWidth;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzHeight;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzPlacement;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzZIndex;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzOffsetX;\n    /** @type {?|undefined} */\n    NzDrawerOptionsOfComponent.prototype.nzOffsetY;\n}\n/**\n * @record\n * @template T, D\n */\nfunction NzDrawerOptions() { }\nif (false) {\n    /**\n     * @return {?}\n     */\n    NzDrawerOptions.prototype.nzOnCancel = function () { };\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ng-zorro-antd-drawer.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { DRAWER_ANIMATE_DURATION, DrawerBuilderForService, NzDrawerComponent, NzDrawerModule, NzDrawerRef, NzDrawerService, NzDrawerServiceModule };\n\n//# sourceMappingURL=ng-zorro-antd-drawer.js.map","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/internal/Observable';\n\nimport { environment as env } from '@env/environment';\nimport { Construct } from '@models/construct';\n\nconst URL_ENV = '/constructs/';\n\n@Injectable({ providedIn: 'root' })\nexport class ConstructService {\n\n  private url: string;  // URL to web api\n\n  constructor(private http: HttpClient) {\n    this.url = `${env.endpoints.api}${URL_ENV}`;\n  }\n\n  /** Gets a construct by id provided */\n  getAll(): Observable<Construct[]> {\n    return this.http.get<Construct[]>(`${this.url}`).pipe();\n  }\n\n  getById(id: string): Observable<Construct> {\n    return this.http.get<Construct>(`${this.url}${id}/`).pipe();\n  }\n\n  getExample(): Observable<Construct[]> {\n    return this.http.get<Construct[]>(`${this.url}model`).pipe();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/internal/Observable';\n\nimport { environment as env } from '@env/environment';\nimport { Track } from './track';\n\nconst URL_ENV = '/tracks/';\n\n@Injectable({ providedIn: 'root' })\nexport class TrackService {\n\n  private url: string;  // URL to web api\n\n  constructor(private http: HttpClient) {\n    this.url = env.endpoints.api + URL_ENV;\n  }\n\n  /** Gets a track by id provided */\n  getAll(): Observable<Track[]> {\n    return this.http.get<Track[]>(`${this.url}`).pipe();\n  }\n\n  getByCategories(): Observable<any[]> {\n    return this.http.get<any[]>(`${this.url}categories`).pipe();\n  }\n\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'sqy-if-not-icon',\n  template: '{{value}} <i class=\"{{icon}} {{iconColor}} icon\" [hidden]=\"value && value != 0\"></i>'\n})\nexport class IfNotIconComponent {\n\n  @Input() value: any;\n  @Input() icon = 'ban';\n  @Input() iconColor = 'red';\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'sqy-sketcher-loading',\n  templateUrl: './sketcher-loading.component.html',\n  styleUrls: ['./sketcher-loading.component.scss']\n})\nexport class SketcherLoadingComponent {\n}\n","import { Deserializable } from '@models/deserializable.model';\nimport { Track } from 'app/optimizer/shared/track';\nimport { Specie } from '@models/specie';\n\nexport class Construct extends Deserializable {\n  id?: string;\n  name: string;\n  circular?: boolean;\n  description: string;\n  dna_seq: string;\n  protein_seq: string;\n  specie: Specie;\n  specie_tax_id: number;\n  tracks: Track[];\n  n_tracks: number;\n  from_file: boolean;\n}\n","<div class=\"ui basic segment internally celled grid sketcher\">\n\n  <div class=\"row\">\n    <div class=\"column\">\n      <div class=\"ui equal width center aligned middle aligned container grid\">\n\n        <div class=\"column\">\n          <div class=\"ui placeholder\">\n            <div class=\"header\">\n              <div class=\"line\"></div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon primary disabled button\">\n            <i class=\"sliders horizontal icon\"></i>\n          </button>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon primary disabled button\">\n            <i class=\"plus icon\"></i>\n          </button>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon primary disabled button\">\n            <i class=\"cogs icon\"></i>\n          </button>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon disabled button\">\n            <i class=\"lock icon\"></i>\n          </button>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon primary disabled button\">\n            <i class=\"download icon\"></i>\n          </button>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row canvas\">\n\n    <div class=\"eleven wide column p-0\">\n\n      <div class=\"ui internally celled grid m-0\">\n\n        <div class=\"row\">\n\n          <div class=\"column top-details-bar\">\n\n            <div class=\"ui form\">\n\n              <div class=\"inline four fields m-0\">\n\n                <div class=\"inline field txt-c\">\n                  <div class=\"ui placeholder\">\n                    <div class=\"header\">\n                      <div class=\"line\"></div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"inline field txt-c\">\n                  <div class=\"ui placeholder\">\n                    <div class=\"header\">\n                      <div class=\"line\"></div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"inline field txt-c\">\n                  <div class=\"ui placeholder\">\n                    <div class=\"header\">\n                      <div class=\"line\"></div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"inline field txt-c\">\n                  <div class=\"ui placeholder\">\n                    <div class=\"header\">\n                      <div class=\"line\"></div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"inline field txt-c\">\n                  <div class=\"ui placeholder\">\n                    <div class=\"header\">\n                      <div class=\"line\"></div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"inline field txt-c\">\n                  <div class=\"ui placeholder\">\n                    <div class=\"header\">\n                      <div class=\"line\"></div>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n\n            </div>\n\n          </div>\n\n        </div>\n\n        <div class=\"row\">\n\n          <div class=\"column construct\">\n\n            <div class=\"strand\">\n\n              <div class=\"track\">\n                <div class=\"ui placeholder\">\n                  <div class=\"image\"></div>\n                </div>\n              </div>\n\n              <div class=\"track\">\n                <div class=\"ui placeholder\">\n                  <div class=\"image\"></div>\n                </div>\n              </div>\n\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n    <div class=\"five wide column\">\n\n      <div class=\"ui grid\">\n\n        <div class=\"two column row\">\n\n          <div class=\"column\">\n            <div class=\"ui placeholder\">\n              <div class=\"line\"></div>\n            </div>\n          </div>\n\n          <div class=\"column\">\n            <div class=\"ui placeholder\">\n              <div class=\"line\"></div>\n            </div>\n          </div>\n\n          <div class=\"sixteen wide column\">\n            <div class=\"ui divider\"></div>\n          </div>\n\n        </div>\n\n        <div class=\"row\">\n\n          <div class=\"sixteen wide column\" style=\"height: 80vh; overflow: auto\">\n\n            <form class=\"ui form\">\n\n              <div class=\"field\">\n                <div class=\"ui placeholder\">\n                  <div class=\"paragraph\">\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                  </div>\n                  <div class=\"paragraph\">\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                  </div>\n                  <div class=\"paragraph\">\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                  </div>\n                  <div class=\"paragraph\">\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                  </div>\n                  <div class=\"paragraph\">\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                    <div class=\"line\"></div>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"field\">\n                <button class=\"ui secondary right labeled fluid icon disabled button\">\n                  Submit\n                  <i class=\"angle right icon\"></i>\n                </button>\n              </div>\n\n            </form>\n\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n  <div class=\"row\">\n    <div class=\"column\">\n      <div class=\"ui placeholder txt-c\">\n        <div class=\"line\"></div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","<nz-drawer [nzVisible]=\"display\" [nzWidth]=\"640\" (nzOnClose)=\"display = false\">\n\n  <form class=\"ui form\" [formGroup]=\"trackForm\" (ngSubmit)=\"updateTrack()\">\n\n    <div class=\"field\">\n      <img [src]=\"_track?.glyph_thumbnail\" class=\"ui medium circular centered image\">\n    </div>\n\n    <div class=\"field\">\n\n      <table class=\"ui collapsing inverted blue table w-1-2 m-auto\">\n\n        <thead>\n          <tr>\n            <th>\n              Type\n            </th>\n            <th>\n              Position\n            </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr>\n            <td>{{_track?.type | titlecase}}</td>\n            <td>#{{_track?.pos+1}}</td>\n          </tr>\n        </tbody>\n\n      </table>\n\n    </div>\n\n    <div class=\"fields\">\n\n      <div class=\"nine wide field\">\n        <label>Label</label>\n        <input type=\"text\" name=\"track-label\" formControlName=\"label\">\n      </div>\n\n      <div class=\"seven wide field\">\n        <label>Color</label>\n        <nz-select nzShowSearch nzPlaceHolder=\"Select color\" name=\"track-color\" formControlName=\"color\" [nzCustomTemplate]=\"custom\">\n          <nz-option *ngFor=\"let c of colors\" nzCustomContent [nzLabel]=\"c\" [nzValue]=\"c\">\n            <i class=\"circle icon\" [style.color]=\"c\"></i> {{c}}\n          </nz-option>\n        </nz-select>\n        <ng-template #custom let-selected>\n          <span><i class=\"circle icon\" [style.color]=\"selected.nzValue\"></i> {{ selected.nzValue }}</span>\n        </ng-template>\n      </div>\n\n    </div>\n\n    <div class=\"required field\" [ngClass]=\"{'error': sequence.invalid && (sequence.dirty || sequence.touched)}\">\n      <label>Sequence</label>\n      <textarea name=\"track-seq\" rows=\"8\" cols=\"80\" required formControlName=\"sequence\"></textarea>\n      <span class=\"ui error\" *ngIf=\"sequence.errors?.pattern && (sequence.dirty || sequence.touched)\">Not a valid DNA sequence</span>\n    </div>\n\n    <div class=\"bottom three fields\">\n\n      <div class=\"field\">\n        <button class=\"ui left labeled icon primary fluid button\" name=\"action\" type=\"button\" (click)=\"change(_track?.pos-1)\" [disabled]=\"_track?.pos+1 < 2\">\n          <i class=\"left arrow icon\"></i>\n          Previous\n        </button>\n      </div>\n\n      <div class=\"field\">\n        <button class=\"ui right labeled icon secondary fluid button\" name=\"action\" type=\"submit\" [disabled]=\"!trackForm.dirty || trackForm.invalid\">\n          <i class=\"save icon\"></i>\n          Save\n        </button>\n      </div>\n\n      <div class=\"field\">\n        <button class=\"ui right labeled icon primary fluid button\" name=\"action\" type=\"button\" (click)=\"change(_track?.pos+1)\" [disabled]=\"_track?.pos+1 === max\">\n          <i class=\"right arrow icon\"></i>\n          Next\n        </button>\n      </div>\n\n    </div>\n\n  </form>\n\n</nz-drawer>\n","import { Component, Input, Output, EventEmitter, OnDestroy, OnChanges } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n\nimport { Track } from '../shared/track';\nimport Utils from 'app/shared/utils';\n\n@Component({\n  selector: 'sqy-track-details',\n  templateUrl: './track-details.component.html',\n  styleUrls: ['./track-details.component.scss']\n})\nexport class TrackDetailsComponent implements OnChanges, OnDestroy {\n\n  @Output() onSave = new EventEmitter<Track>();\n  @Output() changePos = new EventEmitter<number>();\n  @Input() max: number;\n  @Input() set track(x: Track) {\n    if (x) {\n      this._track = x;\n      this.max = this.max || this._track.pos;\n      this.updateTrackForm(x);\n      this.display = true;\n    }\n  }\n  display = false;\n  _track: Track = null;\n  trackForm: FormGroup;\n  public colors: string[] = [\n    '#000105',\n    '#3e6158',\n    '#3f7a89',\n    '#96c582',\n    '#7c90c1',\n    '#9d8594',\n    '#4b4fce',\n    '#4e0a77',\n    '#a367b5',\n    '#ee3e6d',\n    '#d63d62',\n    '#c6a670',\n    '#f46600',\n    '#cf0500',\n    '#efabbd',\n    '#8e0622',\n    '#f0b89a',\n    '#f0ca68',\n    '#62382f',\n    '#c97545',\n    '#c1800b'\n  ];\n\n  constructor(private builder: FormBuilder) {\n    this.trackForm = this.builder.group({\n      label: [''],\n      color: [this.colors[0]],\n      sequence: ['', Validators.pattern(Utils.dnaSeqRegex)]\n    });\n  }\n\n  ngOnChanges(changes: import('@angular/core').SimpleChanges): void {\n    if (changes.track && changes.track.currentValue) {\n      this.updateTrackForm(changes.track.currentValue);\n    }\n  }\n\n  ngOnDestroy() {\n    this._track = null;\n  }\n\n  get label() {\n    return this.trackForm.get('label');\n  }\n\n  get color() {\n    return this.trackForm.get('color');\n  }\n\n  get sequence() {\n    return this.trackForm.get('sequence');\n  }\n\n  updateTrackForm(track: Track) {\n    this.trackForm.patchValue({\n      label: track.label,\n      color: track.color,\n      sequence: track.sequence\n    });\n  }\n\n  /*\n  * Set color from color picker\n  */\n  setColor(color: string) {\n    this.trackForm.value.color = color;\n  }\n\n  updateTrack() {\n    this._track.label = this.label.value;\n    this._track.color = this.color.value;\n    this._track.sequence = this.sequence.value;\n    this.onSave.emit(this._track);\n    this.display = false;\n  }\n\n  change(pos: number) {\n    if (this.trackForm.touched && this.trackForm.valid) {\n      this.updateTrack();\n    }\n    if (pos > -1 && pos < this.max + 1) {\n      this.changePos.emit(pos);\n      this.trackForm.reset();\n    }\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\nimport { Track } from './track';\n\n@Pipe({\n  name: 'filterTracks'\n})\nexport class FilterTracksPipe implements PipeTransform {\n\n  transform(items: Track[], query: string): Track[] {\n    if (!items) { return []; }\n    if (!query) { return items; }\n    query = query.toLowerCase();\n    return items.filter(item => [item.label || '', item.type || '', item.sequence || ''].some(f => f.toLowerCase().includes(query))\n    );\n  }\n\n}\n","<sqy-sketcher-loading *ngIf=\"!construct\"></sqy-sketcher-loading>\n\n<div class=\"ui basic segment internally celled grid sketcher\" *ngIf=\"construct\" [ngClass]=\"{'loading disabled': isLoading}\">\n\n  <div class=\"row\">\n    <div class=\"column\">\n      <div class=\"ui equal width center aligned middle aligned container grid\">\n\n        <div class=\"column\">\n          <div class=\"slider-wraper\">\n            <i class=\"zoom-in icon\"></i>\n            <nz-slider [nzMin]=\"50\" [nzMax]=\"110\" [nzTooltipVisible]=\"'never'\" [(ngModel)]=\"zoom\"></nz-slider>\n            <i class=\"zoom-in icon\"></i>\n          </div>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon primary button\" data-inverted=\"\" data-tooltip=\"Options\" data-position=\"bottom center\" nz-dropdown [nzDropdownMenu]=\"optionsMenu\" nzTrigger=\"click\" nzPlacement=\"bottomCenter\">\n            <i class=\"sliders horizontal icon\"></i>\n          </button>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon primary button\" data-inverted=\"\" data-tooltip=\"Add tracks\" data-position=\"bottom center\" (click)=\"showPicker = true\" [disabled]=\"isTracksLoading || locked\">\n            <i class=\"plus icon\"></i>\n          </button>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon primary button\" nz-dropdown [nzDropdownMenu]=\"settingsMenu\" nzTrigger=\"click\" nzPlacement=\"bottomCenter\" [disabled]=\"isTracksLoading\">\n            <i class=\"cogs icon\"></i>\n          </button>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon button\" [ngClass]=\"{'primary': !locked,'orange': locked}\" data-inverted=\"\" [attr.data-tooltip]=\"!locked ? 'Lock' : 'Unlock'\" data-position=\"bottom center\" (click)=\"locked = !locked\">\n            <i class=\"lock icon\" [ngClass]=\"{'open': !locked}\"></i>\n          </button>\n        </div>\n\n        <div class=\"column\">\n          <button class=\"ui circular icon primary button\" nz-dropdown nzTrigger=\"click\" [nzDropdownMenu]=\"downMenu\" nzPlacement=\"bottomCenter\">\n            <i class=\"download icon\"></i>\n          </button>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row canvas\">\n\n    <div class=\"eleven wide column p-0\">\n\n      <div class=\"ui internally celled grid m-0\">\n\n        <div class=\"row\">\n\n          <div class=\"column top-details-bar\">\n\n            <div class=\"ui form\">\n\n              <div class=\"inline four fields m-0\">\n\n                <div class=\"inline field txt-c\">\n                  <label>Total length:</label> {{construct.dna_seq?.length || 0}} bps\n                </div>\n\n                <div class=\"inline field txt-c\">\n                  <label>From:</label>\n                  <sqy-if-not-icon [value]=\"trackHovered?.start\"></sqy-if-not-icon>\n                </div>\n\n                <div class=\"inline field txt-c\">\n                  <label>To:</label>\n                  <sqy-if-not-icon [value]=\"trackHovered?.end\"></sqy-if-not-icon>\n                </div>\n\n\n                <div class=\"inline field txt-c\" *ngIf=\"locked\">\n                  <i class=\"lock icon\"></i> Read only\n                </div>\n\n                <div class=\"inline field txt-c\" *ngIf=\"!locked\">\n                  <i class=\"pencil alternate icon\"></i> Write mode\n                </div>\n\n                <div class=\"inline field txt-c\">\n                  <i class=\"save icon\"></i> <span class=\"meta\">{{autoSave ? 'Enabled': 'Disabled'}}</span>\n                </div>\n\n                <div class=\"inline field txt-c\">\n                  <span class=\"meta\">{{construct.tracks?.length}} tracks</span>\n                </div>\n              </div>\n\n            </div>\n\n          </div>\n\n        </div>\n\n        <div class=\"row\">\n\n          <div class=\"column construct\">\n\n            <div class=\"ui placeholder segment h-1-1\" [hidden]=\"construct.tracks?.length\">\n              <div class=\"ui icon header\">\n                The construct is empty. To add new tracks click on button below.\n              </div>\n              <button class=\"ui primary button\" type=\"button\" (click)=\"showPicker = true\" [ngClass]=\"{'disabled loading': isTracksLoading}\">\n                Add tracks\n              </button>\n            </div>\n\n            <div class=\"strand\" [hidden]=\"!construct.tracks?.length\">\n\n              <div class=\"track\" id=\"track{{i}}\" [style.width]=\"zoom/5.5+'rem'\" *ngFor=\"let t of construct.tracks; let i = index\" (mouseover)=\"trackHovered=t\" (mouseout)=\"trackHovered=null\">\n                <div class=\"header\">\n                  <div class=\"ui fluid transparent large input\" [ngClass]=\"{'show': t.label}\">\n                    <input type=\"text\" name=\"track-label\" placeholder=\"(label)\" #trackLabel=\"ngModel\" [(ngModel)]=\"t.label\" [disabled]=\"locked\">\n                  </div>\n                  <div class=\"actions\">\n                    <a [ngClass]=\"{'disabled': locked || i===0}\" (click)=\"moveTrack(i, -1)\">\n                      <i class=\"left arrow  link icon\"></i>\n                    </a>\n                    <a [ngClass]=\"{'disabled': locked || i===construct.tracks?.length-1}\" (click)=\"moveTrack(i, +1)\">\n                      <i class=\"right arrow link icon\"></i>\n                    </a>\n                    <a [ngClass]=\"{'disabled': locked}\" (click)=\"removeTrack(t)\">\n                      <i class=\"trash red link icon\"></i>\n                    </a>\n                  </div>\n                </div>\n                <div class=\"image\" [ngStyle]=\"{background: 'url('+t.glyph_thumbnail+')', 'border-bottom': '1.5px solid '+t.color, 'background-size': 'auto '+zoom+'%'}\" (click)=\"openSidebar(t, i)\" data-inverted=\"\" [attr.data-tooltip]=\"t.name\"\n                  data-position=\"bottom center\"></div>\n                <div [hidden]=\"!showIndexes\" class=\"index\">\n                  {{i + 1}}\n                </div>\n              </div>\n\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n    <div class=\"five wide column\">\n\n      <div class=\"ui grid\">\n\n        <div class=\"row\">\n\n          <div class=\"sixteen wide column\">\n\n            <div class=\"ui two item secondary pointing menu\">\n              <a class=\"item\" (click)=\"view = 'general'\" [ngClass]=\"{'active': view === 'general'}\">\n                General\n              </a>\n              <a class=\"item\" (click)=\"view = 'tracks'\" [ngClass]=\"{'active': view === 'tracks'}\">\n                Tracks <label [hidden]=\"construct.tracks?.length < 1\" class=\"ui circular tiny label\">{{construct.tracks?.length}}</label>\n              </a>\n            </div>\n          </div>\n\n        </div>\n\n        <div class=\"row\" style=\"max-height: 80vh; overflow: auto\">\n\n          <div class=\"sixteen wide column\" *ngIf=\"response\">\n            <sqy-errors-list [errors]=\"response\"></sqy-errors-list>\n          </div>\n\n          <div class=\"sixteen wide column\">\n\n            <form class=\"ui form\" #constructForm=\"ngForm\" (ngSubmit)=\"submit()\" *ngIf=\"view === 'general'\">\n\n              <div class=\"required field\">\n                <label class=\"required-msg\">Required fields are shown with</label>\n              </div>\n\n              <div class=\"required field\" [ngClass]=\"{'error': name.invalid && (name.dirty || name.touched)}\">\n                <label for=\"construct_name\">Enter a label</label>\n                <input type=\"text\" placeholder=\"Label / Name\" id=\"construct_name\" name=\"construct-name\" #name=\"ngModel\" required [(ngModel)]=\"construct.name\" (ngModelChange)=\"saveInSession()\">\n              </div>\n\n              <div class=\"required field\">\n                <label for=\"construct_specie\">Select organism</label>\n                <nz-select name=\"construct-specie\" [(ngModel)]=\"specie.tax_id\" (ngModelChange)=\"getFeatures(); saveInSession()\" required [nzLoading]=\"isFeaturesLoading\" [nzDisabled]=\"isFeaturesLoading\" nzShowSearch>\n                  <nz-option *ngFor=\"let s of species\" [nzLabel]=\"s.name\" [nzValue]=\"s.tax_id\"></nz-option>\n                </nz-select>\n              </div>\n\n              <div class=\"grouped required fields\">\n                <label>Select the what features to check</label>\n                <div class=\"field\" *ngFor=\"let f of features\">\n                  <div class=\"ui checkbox\">\n                    <input type=\"checkbox\" name=\"features\" required checked (change)=\"featChange(f.alias, $event.target.checked)\">\n                    <label>\n                      {{f.name}}\n                      <sqy-info-popup [content]=\"f.description\"></sqy-info-popup>\n                    </label>\n                  </div>\n                </div>\n                <div class=\"field txt-c\" *ngIf=\"!featuresArray?.length\">\n                  <span class=\"meta\">No features available for selected organism.</span>\n                </div>\n              </div>\n\n              <div class=\"inline field\">\n                <label>Circular</label>\n                <input type=\"checkbox\" [(ngModel)]=\"construct.circular\" (ngModelChange)=\"saveInSession()\" name=\"construct-circular\">\n              </div>\n\n              <div class=\"inline field\">\n                <label for=\"construct_description\">Description</label>\n                <textarea [(ngModel)]=\"construct.description\" (ngModelChange)=\"saveInSession()\" id=\"construct_description\" name=\"construct-description\" rows=\"8\" cols=\"80\"></textarea>\n              </div>\n\n              <div class=\"field\">\n                <button class=\"ui secondary right labeled fluid icon button\" [disabled]=\"!construct.tracks?.length || constructForm.invalid || (featuresArray && featuresArray.length < 1)\" type=\"submit\">\n                  Submit\n                  <i class=\"angle right icon\"></i>\n                </button>\n              </div>\n\n            </form>\n\n            <div class=\"ui one column grid\" *ngIf=\"view === 'tracks'\">\n\n              <div class=\"column\">\n                <div class=\"ui fluid icon input\">\n                  <i class=\"search icon\"></i>\n                  <input type=\"text\" placeholder=\"Search by label / type / sequence...\" [(ngModel)]=\"search\">\n                </div>\n              </div>\n\n              <div class=\"column\">\n                <table class=\"ui blue definition table\">\n\n                  <thead>\n                    <tr>\n                      <th></th>\n                      <th>\n                        Label\n                      </th>\n                      <th>\n                        Type\n                      </th>\n                      <th>\n                        Size\n                      </th>\n                      <th></th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n\n                    <tr *ngIf=\"!construct.tracks?.length\">\n                      <td class=\"txt-c\" colspan=\"5\">The construct is empty. Add new tracks to visualize them here.</td>\n                    </tr>\n\n                    <tr *ngFor=\"let tr of construct.tracks | filterTracks: search; let in = index\">\n                      <td>\n                        <div class=\"ui circular label\" [ngClass]=\"{'no-color': !tr.color}\" [style.background-color]=\"tr.color\">#{{in+1}}</div>\n                      </td>\n                      <td>\n                        <sqy-if-not-icon [value]=\"tr.label\"></sqy-if-not-icon>\n                      </td>\n                      <td>\n                        <sqy-if-not-icon [value]=\"tr.type\"></sqy-if-not-icon>\n                      </td>\n                      <td>\n                        <sqy-if-not-icon [value]=\"tr.sequence?.length\"></sqy-if-not-icon>\n                      </td>\n                      <td class=\"center aligned\">\n                        <a data-inverted=\"\" data-tooltip=\"Open\" data-position=\"top center\" [ngClass]=\"{'disabled': locked}\" (click)=\"openSidebar(tr, in)\">\n                          <i class=\"edit icon\"></i>\n                        </a>\n                        <a data-inverted=\"\" data-tooltip=\"Move up\" data-position=\"top center\" [ngClass]=\"{'disabled': locked || in < 1}\" (click)=\"moveTrack(in, -1)\">\n                          <i class=\"arrow up icon\"></i>\n                        </a>\n                        <a data-inverted=\"\" data-tooltip=\"Move down\" data-position=\"top center\" [ngClass]=\"{'disabled': locked || in >= construct.tracks?.length-1}\" (click)=\"moveTrack(in, +1)\">\n                          <i class=\"arrow down icon\"></i>\n                        </a>\n                        <a data-inverted=\"\" data-tooltip=\"Delete\" data-position=\"top center\" [ngClass]=\"{'disabled': locked}\" (click)=\"removeTrack(tr)\">\n                          <i class=\"x red icon\"></i>\n                        </a>\n                      </td>\n                    </tr>\n\n                  </tbody>\n\n                </table>\n\n              </div>\n\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n  <div class=\"row\">\n    <div class=\"column\">\n      <div class=\"credits\">\n        <p>\n          Centre for Genomic Regulation ©\n        </p>\n      </div>\n    </div>\n  </div>\n\n\n  <!-- Track SideBar -->\n  <sqy-track-details (onSave)=\"addTrack($event)\" [track]=\"track\" (changePos)=\"changeTrack($event)\" [max]=\"construct.tracks?.length\"></sqy-track-details>\n\n  <!-- Tracks Modal Picker -->\n  <nz-modal nzWrapClassName=\"vertical-center-modal\" nzTitle=\"Choose tracks\" nzOkText=\"Add\" [(nzVisible)]=\"showPicker\" (nzAfterOpen)=\"getTracksByCategories()\" [nzOkLoading]=\"isTracksLoading\" [nzOkDisabled]=\"!someSelected()\"\n    (nzOnCancel)=\"showPicker = false\" (nzOnOk)=\"addTracks()\">\n    <ng-container *ngIf=\"showPicker\">\n      <div class=\"ui basic segment one column grid track-picker mt-0\" [ngClass]=\"{'loading': isTracksLoading}\">\n        <div class=\"column\">\n          <div class=\"ui message\">\n            <div class=\"header\">\n              Instructions\n            </div>\n            <ul class=\"list\">\n              <li>Click on each track to selected or deselect it.</li>\n              <li>Hover the mouse over a track to display name</li>\n              <li>Tracks will be added in selection order</li>\n            </ul>\n          </div>\n        </div>\n\n        <div class=\"column hov-track\">\n          {{hoveredName}}\n\n          <div class=\"ui checkbox option\">\n            <input type=\"checkbox\" (click)=\"toggleSelection($event)\">\n            <label>Select all</label>\n          </div>\n\n        </div>\n        <ng-container *ngFor=\"let c of categories\">\n          <div class=\"column\">\n            <div class=\"ui horizontal divider\">\n              {{c.name}}\n            </div>\n          </div>\n          <div class=\"eight column row\">\n            <div class=\"column track\" *ngFor=\"let e of c.elements\" [ngClass]=\"{'selected': e.selected}\" [style.background]=\"'url('+e.glyph_thumbnail+')'\" (mouseover)=\"hoveredName=e.type\" (mouseout)=\"hoveredName=null\"\n              (click)=\"e.selected = !e.selected\">\n              <a class=\"floating ui blue label\" *ngIf=\"e.selected\">\n                ✓\n              </a>\n            </div>\n          </div>\n        </ng-container>\n      </div>\n    </ng-container>\n\n  </nz-modal>\n\n  <!-- Construct submit modal-->\n  <nz-modal [nzFooter]=\"null\" [nzWidth]=\"800\" [nzKeyboard]=\"false\" [nzMaskClosable]=\"false\" [(nzVisible)]=\"submitted\" [nzClosable]=\"false\" (nzOnCancel)=\"submitted = false\">\n\n    <div class=\"ui very padded one column grid\" *ngIf=\"history\">\n\n      <div class=\"column\">\n        <h2 class=\"ui icon center aligned header\">\n          <i class=\"spinner loading icon\"></i>\n          <div class=\"content\">\n            Your construct: \"{{construct.name}}\" has been submitted!\n          </div>\n        </h2>\n      </div>\n\n      <div class=\"column\">\n        <p>Your job has been submitted successfully. In a few moments you will be redirected to your history. Once finished the work or you can visualize the results. Please be patient.</p>\n      </div>\n\n      <div class=\"column\">\n        <div class=\"ui horizontal divider\">\n          Summary\n        </div>\n      </div>\n\n      <div class=\"column\">\n        <table class=\"ui blue small inverted table\">\n\n          <thead>\n            <tr>\n              <th>Label</th>\n              <th>Specie</th>\n              <th>Total tracks</th>\n              <th>Circular</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr>\n              <td>\n                {{history?.construct?.name}}\n              </td>\n              <td>\n                {{history?.construct?.specie.name}}\n              </td>\n              <td>\n                {{history?.construct?.n_tracks}}\n              </td>\n              <td>\n                <i class=\"icon\" [ngClass]=\"{'green check': history?.construct.circular, 'times red': !history?.construct.circular}\"></i>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n    </div>\n\n  </nz-modal>\n\n  <!-- Download -->\n  <nz-dropdown-menu #downMenu=\"nzDropdownMenu\">\n    <ul nz-menu nzSelectable>\n      <li nz-menu-item (click)=\"downloadAs('Fasta')\">\n        <i class=\"dna icon\"></i>\n        Download as Fasta\n      </li>\n      <!-- <li nz-menu-item (click)=\"downloadAs('Excel')\">\n        <i class=\"file excel outline icon\"></i>\n        Download as Excel\n      </li> -->\n      <li nz-menu-item (click)=\"downloadAs('Json')\">\n        <i class=\"file code outline icon\"></i>\n        Download as JSON\n      </li>\n    </ul>\n  </nz-dropdown-menu>\n\n  <!-- Visibility -->\n  <nz-dropdown-menu #settingsMenu=\"nzDropdownMenu\" tabindex=\"0\">\n    <ul nz-menu nzSelectable>\n      <li nz-menu-item (click)=\"showIndexes = !showIndexes\">\n        Show/Hide indexes<i class=\"check small icon\" [hidden]=\"!showIndexes\"></i>\n      </li>\n    </ul>\n  </nz-dropdown-menu>\n\n  <!-- Options -->\n  <nz-dropdown-menu #optionsMenu=\"nzDropdownMenu\" tabindex=\"0\">\n    <ul nz-menu nzSelectable>\n      <li nz-menu-item [nzDisabled]=\"!construct.dna_seq && !construct.dna_seq?.length\" (click)=\"textModal(construct.dna_seq)\">\n        <i class=\"eye icon\"></i>\n        Display total sequence\n      </li>\n      <li nz-menu-item [nzDisabled]=\"!construct.dna_seq && !construct.dna_seq?.length\" [sqy-clipboard]=\"construct.dna_seq\">\n        <i class=\"copy icon\"></i>\n        Copy sequence\n      </li>\n      <li nz-menu-item (click)=\"autoSave = !autoSave\">\n        <i class=\"save icon\"></i>\n        Auto save {{autoSave ? 'enabled' : 'disabled'}}\n      </li>\n      <li nz-menu-item [nzDisabled]=\"locked\" (click)=\"modelConstruct()\">\n        <i class=\"database icon\"></i>\n        Load model construct\n      </li>\n      <li nz-menu-item (click)=\"clear()\" [nzDisabled]=\"!construct.tracks?.length || locked\">\n        <i class=\"eraser icon\"></i>\n        Clear construct\n      </li>\n    </ul>\n  </nz-dropdown-menu>\n\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs/internal/Subscription';\nimport { finalize } from 'rxjs/operators';\n\nimport { NzMessageService } from 'ng-zorro-antd/message';\nimport { NzModalService } from 'ng-zorro-antd/modal';\n\nimport { SpecieService } from '@services/specie.service';\nimport { Specie } from '@models/specie';\nimport { Track } from '../shared/track';\nimport { TrackService } from '../shared/track.service';\nimport { ConstructService } from '@services/construct.service';\nimport { UserHistory } from 'app/workspace/shared/user-history';\nimport Utils from 'app/shared/utils';\nimport { Construct } from '@models/construct';\nimport { SqrutinyService } from '@services/sqrutiny.service';\nimport { FileService } from '@services/file.service';\nimport { NavService } from '@services/nav.service';\nimport { FeatureService } from '../shared/feature.service';\nimport { Feature } from '../shared/feature';\nimport { TextModalComponent } from '@components/text-modal/text-modal.component';\n\nconst SESSION_NAME = 'sqy_construct';\n\nclass Category {\n  name: string;\n  elements: Track[];\n}\n\n@Component({\n  selector: 'sqy-sketcher',\n  templateUrl: './sketcher.component.html',\n  styleUrls: ['./sketcher.component.scss']\n})\nexport class SketcherComponent implements OnInit, OnDestroy {\n\n  private sub: Subscription;\n  tracks: Track[] = [];\n  track: Track = null;\n  trackHovered: Track = null;\n  hoveredName: string = null;\n  isLoading = false;\n  response: any = null;\n  categories: Category[] = [];\n  specie: Specie = new Specie();\n  species: Specie[] = [];\n  submitted = false;\n  showPicker = false;\n  zoom = 75;\n  isTracksLoading = false;\n  history: UserHistory = null;\n  construct: Construct;\n  showIndexes = true;\n  view = 'general';\n  locked = false;\n  search: string;\n  autoSave = true;\n  features: Feature[] = [];\n  featuresArray: string[] = [];\n  isFeaturesLoading = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private specieSrvc: SpecieService,\n    private trackSrvc: TrackService,\n    private constructSrvc: ConstructService,\n    private sqrutinySrvc: SqrutinyService,\n    private featureSrvc: FeatureService,\n    private fileSrvc: FileService,\n    private router: Router,\n    private notify: NzMessageService,\n    private modal: NzModalService,\n    private navSrvc: NavService\n  ) { }\n\n  ngOnInit() {\n    this.sub = this.route.queryParams.subscribe(params => {\n      this.specie.slug = params.specie || null;\n      params.construct ? this.getConstruct(params.construct) : this.initConstruct();\n    });\n    if (this.specie.slug) {\n      this.getSpecie();\n    }\n    this.getTracks();\n    this.getSpecies();\n  }\n\n  ngOnDestroy() {\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n\n  private initConstruct() {\n    const construct = this.getFromSession();\n    if (construct && !this.isObjectEmpty(construct)) {\n      this.construct = this.getFromSession();\n    }\n  }\n\n  private isObjectEmpty(obj: any) {\n    for (const key in obj) {\n      if (obj[key] && obj[key] !== null && obj[key] !== '') {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private getSpecie() {\n    this.isLoading = true;\n    this.specieSrvc\n      .getBySlug(this.specie)\n      .pipe(finalize(() => this.isLoading = false))\n      .subscribe(data => {\n        this.specie.deserialize(data);\n        this.getFeatures();\n      });\n  }\n\n  private getConstruct(id: any) {\n    if (id) {\n      this.isLoading = true;\n      this.constructSrvc\n        .getById(id)\n        .pipe(finalize(() => this.isLoading = false))\n        .subscribe(\n          (data: Construct) => {\n            this.construct = new Construct().deserialize(data);\n            this.saveInSession();\n          }\n        );\n    }\n  }\n\n  getExampleConstruct() {\n    this.isLoading = true;\n    this.constructSrvc.getExample()\n      .pipe(finalize(() => this.isLoading = false))\n      .subscribe(\n        (data: Construct[]) => {\n          if (data.length > 0) {\n            this.construct = new Construct().deserialize(data[0]);\n            this.saveInSession();\n          } else { this.notify.warning('Unable to load model construct'); }\r\n        },\n        err => this.notify.warning(err || 'Unable to load model construct')\n      );\n  }\n\n  getSpecies() {\n    this.isLoading = true;\n    this.specieSrvc\n      .getAll()\n      .pipe(finalize(() => this.isLoading = false))\n      .subscribe(\n        data => {\n          this.species = data.map((e: any) => {\n            const specie = new Specie().deserialize(e);\n            if (specie.default && !this.specie.slug) {\n              this.specie = Object.assign({}, specie);\n            }\n            return specie;\n          });\n          this.getFeatures();\n        }\n      );\n  }\n\n  getTracksByCategories() {\n    this.isTracksLoading = true;\n    this.trackSrvc\n      .getByCategories()\n      .pipe(finalize(() => this.isTracksLoading = false))\n      .subscribe(data => (this.categories = data));\n  }\n\n  getTracks() {\n    this.isLoading = true;\n    this.trackSrvc\n      .getAll()\n      .pipe(finalize(() => this.isLoading = false))\n      .subscribe(data => {\n        this.tracks = data;\n        if (!this.construct) {\n          this.new();\n        }\n      });\n  }\n\n  getFeatures() {\n    this.isFeaturesLoading = true;\n    this.featureSrvc\n      .getAll(this.specie.tax_id || null)\n      .pipe(finalize(() => this.isFeaturesLoading = false))\n      .subscribe(data => {\n        this.features = data.map((e: any) => new Feature().deserialize(e));\n        this.featuresArray = Object.assign([], this.features.map(f => f.alias));\n      });\n  }\n\n  featChange(alias: string, isChecked: boolean) {\n    isChecked ? this.featuresArray.push(alias) : this.featuresArray = this.featuresArray.filter(f => f !== alias);\n  }\n\n  textModal(str: string) {\n    this.modal.create({\n      nzContent: TextModalComponent,\n      nzWrapClassName: 'center-modal',\n      nzComponentParams: {\n        txt: str\n      },\n      nzFooter: null\n    });\n  }\n\n  new() {\n    if (!this.construct) {\n      this.construct = new Construct();\n    }\n    if (this.tracks.some(e => e.default) && !this.construct.tracks) {\n      this.construct.tracks = [\n        Object.assign(\n          {},\n          this.tracks.find(e => e.default)\n        )\n      ];\n    }\n  }\n\n  clear() {\n    if (\n      confirm(\n        'Are you sure you want to clear all tracks from construct? These action cannot be reverted.'\n      )\n    ) {\n      this.construct.tracks = [];\n      this.construct.dna_seq = '';\n      this.clearSession();\n    }\n  }\n\n  removeTrack(x: Track) {\n    const i: number = this.construct.tracks.indexOf(x);\n    if (i !== -1) {\n      this.construct.tracks.splice(i, 1);\n      this.saveInSession();\n    }\n  }\n\n  someSelected() {\n    return this.categories.some(c => c.elements.some(t => t.selected));\n  }\n\n  addTracks() {\n    if (this.someSelected() && !this.locked) {\n      this.categories.map(c => {\n        c.elements.map(e => {\n          if (e.selected) {\n            e.selected = false;\n            if (!this.construct.tracks) {\n              this.construct.tracks = [];\n            }\n            this.construct.tracks.push(Object.assign({}, e));\n          }\n        });\n      });\n      this.saveInSession();\n      this.showPicker = false;\n    }\n  }\n\n  modelConstruct() {\n    let flag = true;\n    if (this.construct.tracks.length > 0) {\n      if (\n        !confirm(\n          'You really want to load a model construct? You\\'re gonna lose all actual data. Proceed?'\n        )\n      ) {\n        flag = false;\n      }\n    }\n\n    if (flag) {\n      this.getExampleConstruct();\n    }\n  }\n\n  submit() {\n    if (this.checkTracks()) {\n      this.response = null;\n      this.isLoading = true;\n      this.construct.specie_tax_id = this.specie.tax_id;\n      this.sqrutinySrvc.fromConstruct(this.construct, this.featuresArray.length > 0 ? this.featuresArray : null)\n        .pipe(finalize(() => this.isLoading = false))\n        .subscribe(\n          (data: UserHistory) => {\n            this.history = new UserHistory().deserialize(data);\n            this.navSrvc.updateBadge();\n            this.submitted = true;\n            this.clearSession();\n            setTimeout(() => {\n              this.submitted = false;\n              this.router.navigate(['/workspace', this.history.id]);\n            }, 3000);\n          },\n          err => this.response = err\n        );\n    }\n  }\n\n  // Track Details Sidebar\n\n  openSidebar(e: Track, i: number) {\n    if (!this.locked) {\n      this.track = Object.assign({}, e);\n      this.track.pos = i;\n    }\n  }\n\n  addTrack(track: Track) {\n    if (track.pos > -1) {\n      if (!this.construct.dna_seq) {\n        this.construct.dna_seq = '';\n      }\n      const length = this.construct.dna_seq.length;\n      this.construct.tracks[track.pos] = track;\n      this.construct.tracks[track.pos].start = length + 1;\n      this.construct.tracks[track.pos].end = length + track.sequence.length;\n      this.construct.dna_seq += track.sequence;\n      document.getElementById('track' + track.pos).classList.remove('invalid'); // Now is valid\n      this.saveInSession();\n    }\n    this.track = null;\n  }\n\n  changeTrack(pos: number) {\n    if (pos > -1 && this.construct.tracks[pos]) {\n      this.openSidebar(this.construct.tracks[pos], pos);\n      this.saveInSession();\n    }\n  }\n\n  moveTrack(x: number, i: number) {\n    const pos = x + i;\n    if (-1 < pos && pos <= this.construct.tracks.length - 1) {\n      this.construct.tracks = Utils.array_move(this.construct.tracks, x, pos);\n      this.saveInSession();\n    }\n  }\n\n  checkTracks() {\n    let flag = true;\n    this.construct.tracks.map((t, i) => {\n      if (!t.sequence) {\n        document.getElementById('track' + i).classList.add('invalid');\n        flag = false;\n      }\n    });\n    return flag;\n  }\n\n  toggleSelection(event: { target: { checked: boolean } }) {\n    this.categories.map(c =>\n      c.elements.map(e => (e.selected = event.target.checked))\n    );\n  }\n\n  // Export / Save Construct\n\n  downloadAs(op: string) {\n    if (this.construct.tracks.length) {\n      let data: BlobPart;\n      let ext: string;\n\n      switch (op.toUpperCase()) {\n        case 'GENBANK':\n          data = Utils.jsonToGenbank(this.construct);\n          ext = 'gbk';\n          break;\n        case 'FASTA':\n          data = Utils.jsonToFasta([this.construct]);\n          ext = 'fasta';\n          break;\n        case 'Excel':\n          // data = this.construct.tracks;\n          ext = 'xlsx';\n          break;\n        case 'JSON':\n          data = JSON.stringify({ construct: this.construct });\n          ext = 'json';\n          break;\n      }\n\n      if (data) {\n        this.fileSrvc.saveFileAs(data, 'text/plain;charset=utf-8', `SQrutiny_${this.construct.name || 'untitled'}.${ext}`);\n        this.notify.success(`Exported to ${op}!`);\n      } else {\n        this.notify.error('Unable to export');\n      }\n    }\n  }\n\n  // Session storage manage\n  private getFromSession() {\n    return JSON.parse(sessionStorage.getItem(SESSION_NAME)) || null;\n  }\n\n  saveInSession() {\n    if (this.autoSave && this.construct) {\n      sessionStorage.setItem(SESSION_NAME, JSON.stringify(this.construct));\n    }\n  }\n\n  private clearSession() {\n    sessionStorage.removeItem(SESSION_NAME);\n  }\n}\n","<div class=\"ui main container\">\n\n  <div class=\"ui vertical masthead center aligned\">\n\n    <h1 class=\"ui header\">Upload your GenBank</h1>\n    <h2 class=\"ui header\">Allowed extensions: <strong>{{allowedExt.toString()}}.</strong></h2>\n\n    <p>Upload a valid GenBank file. Note that such file must include at least one <strong>CDS feature</strong>. All others features will be filled with <strong>Dummy feature</strong>.</p>\n\n    <div class=\"ui two column centered grid\">\n\n      <div class=\"column\">\n        <sqy-errors-list [errors]=\"response\"></sqy-errors-list>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"sixteen wide column\">\n          <label for=\"construct_specie\">Upload file for organism:</label>\n          <nz-select [(ngModel)]=\"specie.tax_id\" name=\"construct-specie\" required [nzLoading]=\"isLoading\" [nzDisabled]=\"isLoading\" nzShowSearch>\n            <nz-option *ngFor=\"let s of species\" [nzLabel]=\"s.name\" [nzValue]=\"s.tax_id\"></nz-option>\n          </nz-select>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"sixteen wide column\">\n          <nz-upload nzType=\"drag\" #nzUploader [nzCustomRequest]=\"customReq\" [nzFileList]=\"fileList\" [nzAccept]=\"allowedExt\" [nzAction]=\"endpoint\">\n            <div class=\"p-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"45\" height=\"46\" viewBox=\"0 0 63 64\">\n                <g fill=\"#3B454F\" fill-rule=\"nonzero\">\n                  <path d=\"M42.656 15.135a1.953 1.953 0 0 1-1.391-.578L31.5 4.795l-9.765 9.762a1.97 1.97 0 1 1-2.785-2.785L30.106.616a1.97 1.97 0 0 1 2.785 0l11.157 11.156a1.97 1.97 0 0 1-1.392 3.363z\" />\n                  <path d=\"M31.5 36.791a1.97 1.97 0 0 1-1.969-1.969V2.01a1.97 1.97 0 0 1 3.938 0v32.812a1.97 1.97 0 0 1-1.969 1.969z\" />\n                  <path\n                    d=\"M55.781 63.041H7.22A7.225 7.225 0 0 1 0 55.822V41.385a4.599 4.599 0 0 1 4.594-4.594h7.234a4.567 4.567 0 0 1 4.402 3.276l2.814 9.382a.658.658 0 0 0 .628.467h23.656a.658.658 0 0 0 .628-.467l2.814-9.385a4.572 4.572 0 0 1 4.402-3.273h7.234A4.599 4.599 0 0 1 63 41.385v14.437a7.225 7.225 0 0 1-7.219 7.219zM4.594 40.729a.656.656 0 0 0-.657.656v14.437a3.286 3.286 0 0 0 3.282 3.282H55.78a3.286 3.286 0 0 0 3.282-3.282V41.385a.656.656 0 0 0-.657-.656h-7.234a.65.65 0 0 0-.628.467L47.73 50.58a4.628 4.628 0 0 1-4.402 3.274H19.672a4.567 4.567 0 0 1-4.402-3.276l-2.814-9.382a.65.65 0 0 0-.628-.467H4.594z\" />\n                </g>\n              </svg>\n            </div>\n            <div>\n              <p class=\"ant-upload-text\">\n                Select a file or drop here to upload\n              </p>\n              <p class=\"ant-upload-hint\">\n                Only a single file can be uploaded.\n              </p>\n              <p class=\"ant-upload-hint\">\n                <strong>Allowed extensions:</strong> {{allowedExt.toString()}}\n              </p>\n            </div>\n          </nz-upload>\n        </div>\n      </div>\n\n      <div class=\"one column row mt-7 p-4\" *ngIf=\"construct\">\n\n        <div class=\"column mt-4 mb-3\">\n\n          <div class=\"ui two item secondary pointing menu\">\n            <a class=\"item\" (click)=\"view = true\" [ngClass]=\"{'active': view}\">\n              Information\n            </a>\n            <a class=\"item\" (click)=\"view = false\" [ngClass]=\"{'active': !view}\">\n              Tracks <label [hidden]=\"construct.tracks?.length < 1\" class=\"ui circular tiny label\">{{construct.tracks?.length}}</label>\n            </a>\n          </div>\n        </div>\n\n        <div class=\"column\">\n\n          <form class=\"ui form\" [ngClass]=\"{'loading disabled': isSubmitting}\" #constructForm=\"ngForm\" (ngSubmit)=\"submit()\">\n\n            <ng-container *ngIf=\"view\">\n              <div class=\"required field\">\n                <label class=\"required-msg\">Required fields are shown with</label>\n              </div>\n\n              <div class=\"required field\">\n                <label for=\"construct_specie\">Select organism</label>\n                <nz-select name=\"construct-specie\" [(ngModel)]=\"specie.tax_id\" (ngModelChange)=\"getFeatures()\" required [nzLoading]=\"isFeaturesLoading\" [nzDisabled]=\"isFeaturesLoading\" nzShowSearch>\n                  <nz-option *ngFor=\"let s of species\" [nzLabel]=\"s.name\" [nzValue]=\"s.tax_id\"></nz-option>\n                </nz-select>\n              </div>\n\n              <div class=\"grouped required fields\">\n                <label>Select the what features to check</label>\n                <div class=\"field\" *ngFor=\"let f of features\">\n                  <div class=\"ui checkbox\">\n                    <input type=\"checkbox\" name=\"features\" required checked (change)=\"featChange(f.alias, $event.target.checked)\">\n                    <label>\n                      {{f.name}}\n                      <sqy-info-popup [content]=\"f.description\"></sqy-info-popup>\n                    </label>\n                  </div>\n                </div>\n                <div class=\"field txt-c\" *ngIf=\"!featuresArray.length\">\n                  <span class=\"meta\">No features available for selected organism.</span>\n                </div>\n              </div>\n\n              <div class=\"required field\" [ngClass]=\"{'error': name.invalid && (name.dirty || name.touched)}\">\n                <label for=\"construct_name\">Enter a label</label>\n                <input type=\"text\" class=\"transparent\" placeholder=\"Label / Name\" id=\"construct_name\" name=\"construct-name\" #name=\"ngModel\" required [(ngModel)]=\"construct.name\">\n              </div>\n\n              <div class=\"inline field\">\n                <label>Circular</label>\n                <i class=\"circle icon\" [ngClass]=\"{'check green': construct.circular, 'times red': !construct.circular}\"></i>\n              </div>\n\n              <div class=\"field link\" (click)=\"textModal(construct.dna_seq)\" style=\"max-height: 300px;\">\n                <label>DNA sequence</label>\n                <span class=\"meta\">{{construct.dna_seq.length}} bps</span>\n                <p class=\"wrap\">{{construct.dna_seq}}</p>\n              </div>\n\n              <div class=\"inline field\">\n                <label for=\"construct_description\">Description</label>\n                <textarea [(ngModel)]=\"construct.description\" #description=\"ngModel\" id=\"construct_description\" name=\"construct-description\" rows=\"8\" cols=\"80\"></textarea>\n              </div>\n            </ng-container>\n\n            <ng-container *ngIf=\"!view\">\n\n              <div class=\"field\" style=\"height: 70vh; overflow: auto\">\n                <table class=\"ui blue definition table\">\n\n                  <thead>\n                    <tr>\n                      <th></th>\n                      <th>\n                        Label\n                      </th>\n                      <th>\n                        Type\n                      </th>\n                      <th>\n                        Start\n                      </th>\n                      <th>\n                        End\n                      </th>\n                      <th>\n                        Size\n                      </th>\n                      <th></th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n\n                    <tr *ngFor=\"let tr of construct.tracks | filterTracks: search; let i = index\">\n                      <td>\n                        <div class=\"ui circular label\" [ngClass]=\"{'no-color': !tr.color}\" [style.background-color]=\"tr.color\">#{{i+1}}</div>\n                      </td>\n                      <td>\n                        {{tr.label}}\n                      </td>\n                      <td>\n                        {{tr.type}}\n                      </td>\n                      <td>\n                        {{tr.start}}\n                      </td>\n                      <td>\n                        {{tr.end}}\n                      </td>\n                      <td>\n                        {{tr.sequence?.length}} bps\n                      </td>\n                      <td class=\"collapsing\">\n                        <a (click)=\"showTrack(tr)\">\n                          <i class=\"eye icon\"></i>\n                        </a>\n                      </td>\n                    </tr>\n\n                  </tbody>\n\n                </table>\n\n              </div>\n\n            </ng-container>\n\n            <div class=\"field\">\n              <button class=\"ui secondary right labeled fluid icon button\" [disabled]=\"!construct.tracks?.length || constructForm.invalid || (featuresArray && featuresArray.length < 1)\" type=\"submit\">\n                Submit\n                <i class=\"angle right icon\"></i>\n              </button>\n            </div>\n\n          </form>\n\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { routes as rts } from '@config/routes';\nimport { SketcherComponent } from './sketcher/sketcher.component';\nimport { FromFileComponent } from './from-file/from-file.component';\n\nconst routes: Routes = [\n  { path: '', component: SketcherComponent, data: { title: 'Construct sketcher' } },\n  { path: rts.optimize.sketcher, component: SketcherComponent, data: { title: 'Construct sketcher' } },\n  { path: rts.optimize.from_file, component: FromFileComponent, data: { title: 'Upload file' } }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class OptimizerRoutingModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs/internal/Subscription';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpClient, HttpResponse, HttpEvent, HttpEventType, HttpRequest } from '@angular/common/http';\nimport { finalize } from 'rxjs/operators';\n\nimport { UploadXHRArgs } from 'ng-zorro-antd/upload';\nimport { NzModalService } from 'ng-zorro-antd/modal';\nimport { NzMessageService } from 'ng-zorro-antd/message';\n\nimport { environment as env } from '@env/environment';\nimport { Specie } from '@models/specie';\nimport { Construct } from '@models/construct';\nimport { SpecieService } from '@services/specie.service';\nimport { UserHistory } from 'app/workspace/shared/user-history';\nimport { TextModalComponent } from '@components/text-modal/text-modal.component';\nimport { SqrutinyService } from '@services/sqrutiny.service';\nimport { LoaderService } from '@services/loader.service';\nimport { NavService } from '@services/nav.service';\nimport { FeatureService } from '../shared/feature.service';\nimport { Feature } from '../shared/feature';\nimport { TrackDisplayComponent } from '@components/track-display/track-display.component';\nimport { Track } from '../shared/track';\n\n@Component({\n  selector: 'sqy-from-file',\n  templateUrl: './from-file.component.html',\n  styleUrls: ['./from-file.component.scss']\n})\nexport class FromFileComponent implements OnInit, OnDestroy {\n\n  response: any = null;\n  sub: Subscription;\n  specie: Specie = new Specie();\n  species: Specie[] = [];\n  isLoading = false;\n  construct: Construct = null;\n  history: UserHistory = null;\n  fileList = [];\n  endpoint: string;\n  view = true;\n  search: string;\n  isSubmitting = false;\n  allowedExt = ['.gb', '.gbk', '.genbank'];\n  isFeaturesLoading = false;\n  features: Feature[] = [];\n  featuresArray: string[];\n  tplModal: any;\n\n  customReq = (item: UploadXHRArgs) => {\n    this.loader.startLoading();\n    const formData = new FormData();\n    formData.append('file', item.file as any);\n    const req = new HttpRequest('POST', item.action!, formData, {\n      reportProgress: true,\n      withCredentials: true\n    });\n    this.fileList = [item.file];\n    this.response = null;\n    this.construct = null;\n    return this.http.request(req)\n      .pipe(finalize(() => this.loader.stopLoading()))\n      .subscribe(\n        (event: HttpEvent<any>) => {\n          if (event.type === HttpEventType.UploadProgress) {\n            if (event.total! > 0) {\n              (event as any).percent = (event.loaded / event.total!) * 100;\n            }\n            item.onProgress!(event, item.file!);\n          } else if (event instanceof HttpResponse) {\n            item.file.status = 'done';\n            item.onSuccess!(event.body, item.file!, event);\n            this.construct = new Construct().deserialize(event.body);\n            this.notify.success('GenBank file parsed successfully!');\n          }\n        },\n        err => this.response = err\n      );\n  }\n\n  constructor(\n    private route: ActivatedRoute,\n    private specieSrvc: SpecieService,\n    private sqrutinySrvc: SqrutinyService,\n    private router: Router,\n    private notify: NzMessageService,\n    private http: HttpClient,\n    private modal: NzModalService,\n    private loader: LoaderService,\n    private navSrvc: NavService,\n    private featureSrvc: FeatureService\n  ) {\n    this.endpoint = env.endpoints.api + '/constructs/from-genbank';\n  }\n\n  ngOnInit() {\n    this.sub = this.route.queryParams.subscribe(params => {\n      if (params.specie) {\n        this.specie.slug = params.specie || null;\n        this.getSpecie();\n      }\n    });\n    this.getSpecies();\n    this.getFeatures();\n  }\n\n  ngOnDestroy() {\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n    if (this.tplModal) {\n      this.tplModal.destroy();\n    }\n  }\n\n  private getSpecie() {\n    this.isLoading = true;\n    this.specieSrvc\n      .getBySlug(this.specie)\n      .pipe(finalize(() => this.isLoading = false))\n      .subscribe(data => {\n        this.specie.deserialize(data);\n        this.getFeatures();\n      });\n  }\n\n  getSpecies() {\n    this.isLoading = true;\n    this.specieSrvc\n      .getAll()\n      .pipe(finalize(() => this.isLoading = false))\n      .subscribe(\n        data => {\n          this.species = data.map((e: any) => {\n            const specie = new Specie().deserialize(e);\n            if (specie.default && !this.specie.slug) {\n              this.specie = Object.assign({}, specie);\n            }\n            return specie;\n          });\n          this.getFeatures();\n        }\n      );\n  }\n\n  getFeatures() {\n    this.isFeaturesLoading = true;\n    this.featureSrvc\n      .getAll(this.specie.tax_id || null)\n      .pipe(finalize(() => this.isFeaturesLoading = false))\n      .subscribe(data => {\n        this.features = data.map((e: any) => new Feature().deserialize(e));\n        this.featuresArray = Object.assign([], this.features.map(f => f.alias));\n      });\n  }\n\n  submit() {\n    this.response = null;\n    this.isSubmitting = true;\n    this.construct.specie_tax_id = this.specie.tax_id;\n    this.sqrutinySrvc.fromConstruct(this.construct, this.featuresArray.length > 0 ? this.featuresArray : null)\n      .subscribe(\n        (data: UserHistory) => {\n          this.navSrvc.updateBadge();\n          this.notify.loading('Your job has been submitted! In a moment you will be redirected. Please be patient');\n          setTimeout(() => {\n            this.router.navigate(['/workspace', data.id]);\n            this.isSubmitting = false;\n          }, 3000);\n        },\n        err => {\n          this.isSubmitting = false;\n          this.notify.error(err);\n        }\n      );\n  }\n\n  showTrack(track: Track) {\n    if (track) {\n      this.tplModal = this.modal.create({\n        nzContent: TrackDisplayComponent,\n        nzComponentParams: { track },\n        nzCancelText: null,\n        nzOnOk: () => {\n          if (this.tplModal) {\n            this.tplModal.destroy();\n          }\n        }\n      });\n    }\n  }\n\n  featChange(alias: string, isChecked: boolean) {\n    isChecked ? this.featuresArray.push(alias) : this.featuresArray = this.featuresArray.filter(f => f !== alias);\n  }\n\n  textModal(str: string) {\n    this.modal.create({\n      nzContent: TextModalComponent,\n      nzComponentParams: {\n        txt: str\n      },\n      nzFooter: null\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { NzModalModule } from 'ng-zorro-antd/modal';\nimport { NzSliderModule } from 'ng-zorro-antd/slider';\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\nimport { NzUploadModule } from 'ng-zorro-antd/upload';\nimport { NzDrawerModule } from 'ng-zorro-antd/drawer';\nimport { NzSelectModule } from 'ng-zorro-antd/select';\n\nimport { OptimizerRoutingModule } from './optimizer-routing.module';\nimport { SketcherComponent } from './sketcher/sketcher.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { TrackDetailsComponent } from './track-details/track-details.component';\nimport { FilterTracksPipe } from './shared/filter-tracks.pipe';\nimport { FromFileComponent } from './from-file/from-file.component';\nimport { SketcherLoadingComponent } from './shared/sketcher-loading/sketcher-loading.component';\n\n@NgModule({\n  declarations: [\n    SketcherComponent,\n    TrackDetailsComponent,\n    FilterTracksPipe,\n    FromFileComponent,\n    SketcherLoadingComponent\n  ],\n  imports: [\n    CommonModule,\n    OptimizerRoutingModule,\n    SharedModule,\n    NzModalModule,\n    NzSliderModule,\n    NzDropDownModule,\n    ReactiveFormsModule,\n    NzUploadModule,\n    NzDrawerModule,\n    NzSelectModule\n  ]\n})\nexport class OptimizerModule { }\n"]}