function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7aIJ":function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),o=i("3Pt+"),c=i("dEAy"),r=i("zAKX"),a=i("Nqz0"),s=i("tyNb"),b=i("nYR2"),l=i("iYJU"),d=i("fXoL"),u=i("XZrq"),h=i("PScX"),v=i("0yvB"),f=i("ivy7"),p=i("lkLw");function g(t,e){1&t&&(d.Yb(0,"div",13),d.Yb(1,"div",14),d.Tb(2,"i",15),d.Kc(3," Yo have no history. "),d.Xb(),d.Xb())}var m=function(t){return{warning:t}},y=function(t){return[t]},Y=function(t,e,i){return{"ant-badge-status-error":t,"ant-badge-status-success":e,"ant-badge-status-processing":i}},X=function(t){return["/editor",t]};function k(t,e){if(1&t){var i=d.Zb();d.Yb(0,"tr",22),d.Yb(1,"td"),d.Yb(2,"h3"),d.Yb(3,"a",23),d.Kc(4),d.Xb(),d.Xb(),d.Xb(),d.Yb(5,"td"),d.Yb(6,"h3"),d.Yb(7,"a",24),d.Kc(8),d.Xb(),d.Xb(),d.Xb(),d.Yb(9,"td"),d.Kc(10),d.Xb(),d.Yb(11,"td"),d.Yb(12,"time",25),d.Kc(13),d.lc(14,"date"),d.Xb(),d.Xb(),d.Yb(15,"td"),d.Yb(16,"div",26),d.lc(17,"titlecase"),d.Tb(18,"span",27),d.Xb(),d.Xb(),d.Yb(19,"td",28),d.Yb(20,"a",29),d.Tb(21,"i",30),d.Xb(),d.Yb(22,"a",31),d.Tb(23,"i",32),d.Xb(),d.Yb(24,"a",33),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc(2).deleteHistory(n.id)})),d.Tb(25,"i",34),d.Xb(),d.Xb(),d.Xb()}if(2&t){var n=e.$implicit;d.sc("ngClass",d.wc(16,m,"failed"!=n.status&&"finished"!=n.status)),d.Eb(3),d.sc("routerLink",d.wc(18,y,n.id)),d.Eb(1),d.Lc(n.name),d.Eb(4),d.Lc(n.construct.label),d.Eb(2),d.Mc(" ",n.construct.specie.name," "),d.Eb(2),d.sc("dateTime",n.created_at),d.Eb(1),d.Mc(" ",d.nc(14,11,n.created_at,"DD/MM/YYYY hh:mm")," "),d.Eb(3),d.Fb("data-tooltip",d.mc(17,14,n.status)),d.Eb(2),d.sc("ngClass",d.yc(20,Y,"failed"===n.status,"finished"===n.status,"failed"!=n.status&&"finished"!=n.status)),d.Eb(2),d.sc("sqy-clipboard",n.id),d.Eb(2),d.sc("routerLink",d.wc(24,X,n.id))}}var C=function(t){return{loading:t}};function w(t,e){if(1&t&&(d.Yb(0,"div",16),d.Yb(1,"div",17),d.Yb(2,"table",18),d.Yb(3,"thead"),d.Yb(4,"tr"),d.Yb(5,"th",19),d.Kc(6," Your history "),d.Xb(),d.Yb(7,"th",20),d.Kc(8),d.Xb(),d.Xb(),d.Xb(),d.Yb(9,"tbody"),d.Ic(10,k,26,26,"tr",21),d.Xb(),d.Xb(),d.Xb(),d.Xb()),2&t){var i=d.kc();d.Eb(1),d.sc("ngClass",d.wc(3,C,i.isLoading)),d.Eb(7),d.Mc(" ",i.histories.length," entries "),d.Eb(2),d.sc("ngForOf",i.histories)}}var M,T,E,_=((M=function(){function t(e,i,n,o){_classCallCheck(this,t),this.router=e,this.historySrvc=i,this.notify=n,this.navSrvc=o,this.histories=[],this.isLoading=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}return _createClass(t,[{key:"ngOnInit",value:function(){this.isLoading=!0,this.getUserHistory()}},{key:"getUserHistory",value:function(){var t=this;this.isLoading=!0,this.historySrvc.getAll().pipe(Object(b.a)((function(){return t.isLoading=!1}))).subscribe((function(e){t.histories=e.map((function(t){return(new l.a).deserialize(t)}))||[],t.navSrvc.updateBadge()}))}},{key:"clearHistory",value:function(){var t=this;confirm("Are you sure that you want to clear history?. This action cannot be reverted.")&&(this.isLoading=!0,this.historySrvc.deleteAll().pipe(Object(b.a)((function(){return t.isLoading=!1}))).subscribe((function(e){t.navSrvc.updateBadge(),t.getUserHistory(),t.notify.success(e.msg)})))}},{key:"deleteHistory",value:function(t){var e=this;confirm("Are you sure that you want to delete such history?. This action cannot be reverted.")&&(this.isLoading=!0,this.historySrvc.delete(t).pipe(Object(b.a)((function(){return e.isLoading=!1}))).subscribe((function(){e.navSrvc.updateBadge(),e.getUserHistory(),e.notify.success("History deleted!")})))}}]),t}()).\u0275fac=function(t){return new(t||M)(d.Sb(s.c),d.Sb(u.a),d.Sb(h.b),d.Sb(v.a))},M.\u0275cmp=d.Mb({type:M,selectors:[["sqy-workspace"]],decls:25,vars:3,consts:[[1,"ui","main","container"],[1,"ui","padded","grid","p-4"],[1,"sixteen","wide","column"],[1,"ui","header"],[1,"row"],[1,"eleven","wide","column"],[1,"info","circle","icon"],[1,"five","wide","column","right","aligned"],["type","button","name","button",1,"ui","red","right","labeled","icon","button",3,"disabled","click"],[1,"trash","icon"],[1,"one","column","row"],["class","column center aligned p-8",4,"ngIf"],["class","column",4,"ngIf"],[1,"column","center","aligned","p-8"],[1,"ui","icon","header","meta"],[1,"inbox","icon"],[1,"column"],[1,"ui","segment","p-0",3,"ngClass"],[1,"ui","very","padded","selectable","basic","table","b-0"],["colspan","5"],[1,"right","aligned"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"routerLink"],[1,"disabled"],[3,"dateTime"],["data-inverted","","data-position","top center",1,"ant-badge","ant-badge-status","ant-badge-not-a-wrapper","link"],[1,"ant-badge-status-dot",3,"ngClass"],[1,"ui","center","aligned"],["data-inverted","","data-position","top center","data-tooltip","Copy ID",3,"sqy-clipboard"],[1,"copy","icon"],["data-inverted","","data-position","top center","data-tooltip","Load on vector editor",3,"routerLink"],[1,"external","link","icon"],["data-inverted","","data-position","top center","data-tooltip","Delete",3,"click"],[1,"trash","link","red","icon"]],template:function(t,e){1&t&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Yb(2,"div",2),d.Yb(3,"h1",3),d.Kc(4,"Recent history"),d.Xb(),d.Xb(),d.Yb(5,"div",4),d.Yb(6,"div",5),d.Yb(7,"p"),d.Kc(8," Here you can find the history of all the "),d.Yb(9,"strong"),d.Kc(10,"jobs"),d.Xb(),d.Kc(11," submitted. "),d.Xb(),d.Yb(12,"p"),d.Tb(13,"i",6),d.Kc(14," Note that such history is "),d.Yb(15,"strong"),d.Kc(16,"session"),d.Xb(),d.Kc(17," based, this means that it'll expire after a certain time or if browser data is cleared. "),d.Xb(),d.Xb(),d.Yb(18,"div",7),d.Yb(19,"button",8),d.gc("click",(function(t){return e.clearHistory()})),d.Kc(20," Clear history "),d.Tb(21,"i",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(22,"div",10),d.Ic(23,g,4,0,"div",11),d.Ic(24,w,11,5,"div",12),d.Xb(),d.Xb(),d.Xb()),2&t&&(d.Eb(19),d.sc("disabled",!e.isLoading&&!e.histories.length),d.Eb(4),d.sc("ngIf",!e.isLoading&&!e.histories.length),d.Eb(1),d.sc("ngIf",!e.isLoading&&e.histories.length))},directives:[n.k,n.i,n.j,s.f,f.a],pipes:[p.a,n.t],styles:["h1.ui.header[_ngcontent-%COMP%]{font-size:4em;font-weight:400}"]}),M),z=i("IRNp"),x=i("auWj"),K=i("AytR"),O=i("tk/3"),S=((T=function(){function t(e){_classCallCheck(this,t),this.http=e,this.url=K.a.endpoints.api+"/workspace/job/"}return _createClass(t,[{key:"getById",value:function(t){return this.http.get("".concat(this.url).concat(t)).pipe()}}]),t}()).\u0275fac=function(t){return new(t||T)(d.cc(O.c))},T.\u0275prov=d.Ob({token:T,factory:T.\u0275fac,providedIn:"root"}),T),P=i("w/cW"),q=((E=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||E)},E.\u0275cmp=d.Mb({type:E,selectors:[["sqy-history-loading"]],decls:143,vars:0,consts:[[1,"ui","main","fluid","container","p-4","mt-6"],[1,"ui","grid"],[1,"row"],[1,"ui","container"],[1,"sixteen","wide","column"],[1,"ui","padded","one","column","grid"],[1,"column"],[1,"ui","fluid","placeholder"],[1,"header"],[1,"line"],[1,"two","column","row"],[1,"column","txt-r"],[1,"disabled"],[1,"trash","icon"],[1,"paragraph"],[1,"ui","placeholder"],[1,"ui","padded","form","grid"],[1,"one","column","row"],[1,"column","txt-c"],[1,"field"],[1,"four","inline","fields"],[1,"ui","blue","padded","sequence","definition","table"],[1,"image"]],template:function(t,e){1&t&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Yb(2,"div",2),d.Yb(3,"div",3),d.Yb(4,"div",4),d.Yb(5,"div",5),d.Yb(6,"div",6),d.Yb(7,"div",7),d.Yb(8,"div",8),d.Tb(9,"div",9),d.Tb(10,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(11,"div",10),d.Tb(12,"div",6),d.Yb(13,"div",11),d.Yb(14,"a",12),d.Tb(15,"i",13),d.Kc(16," Delete history "),d.Xb(),d.Xb(),d.Xb(),d.Yb(17,"div",6),d.Yb(18,"div",7),d.Yb(19,"div",14),d.Tb(20,"div",9),d.Tb(21,"div",9),d.Tb(22,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(23,"div",6),d.Yb(24,"div",15),d.Yb(25,"div",14),d.Tb(26,"div",9),d.Tb(27,"div",9),d.Tb(28,"div",9),d.Tb(29,"div",9),d.Tb(30,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(31,"div",2),d.Yb(32,"div",3),d.Yb(33,"div",4),d.Yb(34,"div",16),d.Yb(35,"div",17),d.Yb(36,"div",18),d.Yb(37,"div",15),d.Yb(38,"div",14),d.Tb(39,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(40,"div",17),d.Yb(41,"div",6),d.Yb(42,"div",19),d.Yb(43,"div",7),d.Yb(44,"div",14),d.Tb(45,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(46,"div",20),d.Yb(47,"div",19),d.Yb(48,"div",7),d.Yb(49,"div",14),d.Tb(50,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(51,"div",19),d.Yb(52,"div",7),d.Yb(53,"div",14),d.Tb(54,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(55,"div",19),d.Yb(56,"div",7),d.Yb(57,"div",14),d.Tb(58,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(59,"div",19),d.Yb(60,"div",7),d.Yb(61,"div",14),d.Tb(62,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(63,"div",17),d.Yb(64,"div",6),d.Yb(65,"div",7),d.Tb(66,"div",9),d.Xb(),d.Xb(),d.Yb(67,"div",6),d.Yb(68,"div",15),d.Tb(69,"div",9),d.Tb(70,"div",9),d.Tb(71,"div",9),d.Tb(72,"div",9),d.Tb(73,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(74,"div",17),d.Yb(75,"div",6),d.Yb(76,"div",7),d.Tb(77,"div",9),d.Xb(),d.Xb(),d.Yb(78,"div",6),d.Yb(79,"div",15),d.Tb(80,"div",9),d.Xb(),d.Yb(81,"table",21),d.Yb(82,"tbody"),d.Yb(83,"tr"),d.Yb(84,"th"),d.Yb(85,"div",15),d.Tb(86,"div",9),d.Xb(),d.Xb(),d.Yb(87,"td"),d.Yb(88,"div",15),d.Tb(89,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Yb(90,"tr"),d.Yb(91,"th"),d.Yb(92,"div",7),d.Tb(93,"div",9),d.Xb(),d.Xb(),d.Yb(94,"td"),d.Yb(95,"div",7),d.Tb(96,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(97,"div",17),d.Yb(98,"div",6),d.Yb(99,"div",7),d.Tb(100,"div",9),d.Xb(),d.Xb(),d.Yb(101,"div",6),d.Yb(102,"div",15),d.Tb(103,"div",22),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(104,"div",17),d.Yb(105,"div",6),d.Yb(106,"div",7),d.Yb(107,"div",14),d.Tb(108,"div",9),d.Tb(109,"div",9),d.Tb(110,"div",9),d.Tb(111,"div",9),d.Tb(112,"div",9),d.Xb(),d.Yb(113,"div",14),d.Tb(114,"div",9),d.Tb(115,"div",9),d.Tb(116,"div",9),d.Tb(117,"div",9),d.Tb(118,"div",9),d.Xb(),d.Yb(119,"div",14),d.Tb(120,"div",9),d.Tb(121,"div",9),d.Tb(122,"div",9),d.Tb(123,"div",9),d.Tb(124,"div",9),d.Xb(),d.Yb(125,"div",14),d.Tb(126,"div",9),d.Tb(127,"div",9),d.Tb(128,"div",9),d.Tb(129,"div",9),d.Tb(130,"div",9),d.Xb(),d.Yb(131,"div",14),d.Tb(132,"div",9),d.Tb(133,"div",9),d.Tb(134,"div",9),d.Tb(135,"div",9),d.Tb(136,"div",9),d.Xb(),d.Yb(137,"div",14),d.Tb(138,"div",9),d.Tb(139,"div",9),d.Tb(140,"div",9),d.Tb(141,"div",9),d.Tb(142,"div",9),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb())},styles:[""]}),E),A=i("CrrK");function L(t,e){if(1&t&&(d.Yb(0,"th"),d.Kc(1),d.Xb()),2&t){var i=e.$implicit;d.Eb(1),d.Mc(" ",i," ")}}function I(t,e){if(1&t&&(d.Yb(0,"td"),d.Kc(1),d.Xb()),2&t){var i=e.$implicit,n=d.kc().$implicit;d.Eb(1),d.Mc(" ",n[i]," ")}}function B(t,e){if(1&t&&(d.Yb(0,"tr"),d.Ic(1,I,2,1,"td",10),d.Xb()),2&t){var i=e.$implicit,n=d.kc();d.Eb(1),d.sc("ngForOf",n.objectKeys(i))}}var D,F=((D=function(){function t(e,i){_classCallCheck(this,t),this.fileSrvc=e,this.notify=i,this.headers=[],this.values=[],this.objectKeys=Object.keys}return _createClass(t,[{key:"exportToExcel",value:function(){this.values&&(this.fileSrvc.exportAsExcelFile([{name:"Scores",data:this.values}]),this.notify.success("Exported successfully!"))}}]),t}()).\u0275fac=function(t){return new(t||D)(d.Sb(A.a),d.Sb(h.b))},D.\u0275cmp=d.Mb({type:D,selectors:[["sqy-display-values"]],inputs:{headers:"headers",values:"values",min:"min",max:"max",title:"title"},decls:22,vars:5,consts:[[1,"ui","padded","grid"],[1,"row",3,"hidden"],[1,"column"],[1,"ui","header","no-bold"],[1,"two","column","row"],[1,"column","pr-5","right","aligned"],["type","button","name","download",1,"ui","primary","right","labeled","icon","button",3,"click"],[1,"download","icon"],[1,"row"],[1,"ui","selectable","small","compact","table"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Yb(2,"div",2),d.Yb(3,"h2",3),d.Kc(4),d.Xb(),d.Xb(),d.Xb(),d.Yb(5,"div",4),d.Yb(6,"div",2),d.Yb(7,"strong"),d.Kc(8," Total score:"),d.Xb(),d.Kc(9),d.Xb(),d.Yb(10,"div",5),d.Yb(11,"button",6),d.gc("click",(function(t){return e.exportToExcel()})),d.Kc(12," Download as Excel "),d.Tb(13,"i",7),d.Xb(),d.Xb(),d.Xb(),d.Yb(14,"div",8),d.Yb(15,"div",2),d.Yb(16,"table",9),d.Yb(17,"thead"),d.Yb(18,"tr"),d.Ic(19,L,2,1,"th",10),d.Xb(),d.Xb(),d.Yb(20,"tbody"),d.Ic(21,B,2,1,"tr",10),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()),2&t&&(d.Eb(1),d.sc("hidden",!e.title),d.Eb(3),d.Lc(e.title),d.Eb(5),d.Mc(" ",null==e.values?null:e.values.length," "),d.Eb(10),d.sc("ngForOf",e.headers),d.Eb(2),d.sc("ngForOf",e.values))},directives:[n.j],styles:[".center-modal{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}  .center-modal .ant-modal{width:1000px!important;top:0}  .center-modal .ant-modal .ant-modal-body{max-height:calc(90vh - 5em);overflow:auto}label[_ngcontent-%COMP%]{font-weight:700}"]}),D),H=i("gsl8");function j(t,e){if(1&t){var i=d.Zb();d.Yb(0,"div",10),d.Yb(1,"div",15),d.Yb(2,"input",16),d.gc("change",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().featChange(n.alias,t.target.checked)})),d.Xb(),d.Yb(3,"label"),d.Tb(4,"i",17),d.Kc(5),d.Tb(6,"sqy-info-popup",18),d.Xb(),d.Xb(),d.Xb()}if(2&t){var n=e.$implicit;d.Eb(4),d.Hc("color",n.color),d.Eb(1),d.Mc(" ",n.name," "),d.Eb(1),d.sc("content",n.description)}}var G,$=((G=function(){function t(){_classCallCheck(this,t),this.list=[],this.to="gb"}return _createClass(t,[{key:"featChange",value:function(t,e){e?this.list.push(t):this.list=this.list.filter((function(e){return e!==t}))}},{key:"items",set:function(t){t.length>0&&(this._items=t,this.list=this._items.map((function(t){return t.alias})))}}]),t}()).\u0275fac=function(t){return new(t||G)},G.\u0275cmp=d.Mb({type:G,selectors:[["sqy-export-modal"]],inputs:{items:"items"},decls:28,vars:5,consts:[[1,"ui","padded","grid"],[1,"row"],[1,"sixteen","wide","column"],[1,"ui","header","no-bold"],[1,"four","wide","column"],[1,"sqy","label"],[1,"file","outline","icon"],["type","radio","name","to","value","gb",3,"ngModel","ngModelChange"],[1,"file","excel","outline","icon"],["type","radio","name","to","value","excel",3,"ngModel","ngModelChange"],[1,"column"],[1,"one","column","row"],[1,"meta"],[1,"column","pt-3"],["class","column",4,"ngFor","ngForOf"],[1,"ui","checkbox"],["type","checkbox","name","features","checked","",3,"change"],[1,"circle","icon"],[3,"content"]],template:function(t,e){1&t&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Yb(2,"div",2),d.Yb(3,"h2",3),d.Kc(4,"Export as"),d.Xb(),d.Xb(),d.Xb(),d.Yb(5,"div",1),d.Yb(6,"div",4),d.Yb(7,"label",5),d.Tb(8,"i",6),d.Kc(9," GenBank "),d.Xb(),d.Yb(10,"input",7),d.gc("ngModelChange",(function(t){return e.to=t})),d.Xb(),d.Xb(),d.Yb(11,"div",4),d.Yb(12,"label",5),d.Tb(13,"i",8),d.Kc(14," Excel "),d.Xb(),d.Yb(15,"input",9),d.gc("ngModelChange",(function(t){return e.to=t})),d.Xb(),d.Xb(),d.Xb(),d.Yb(16,"div",1),d.Yb(17,"div",10),d.Yb(18,"h2",3),d.Kc(19,"Select items to export"),d.Xb(),d.Xb(),d.Xb(),d.Yb(20,"div",11),d.Yb(21,"div",10),d.Yb(22,"span",12),d.Kc(23,"If there is no item selected only scores will be exported."),d.Xb(),d.Xb(),d.Yb(24,"div",13),d.Yb(25,"span",12),d.Kc(26),d.Xb(),d.Xb(),d.Ic(27,j,7,4,"div",14),d.Xb(),d.Xb()),2&t&&(d.Eb(10),d.sc("ngModel",e.to),d.Eb(5),d.sc("ngModel",e.to),d.Eb(11),d.Nc("",e.list.length," / ",e._items.length," selected"),d.Eb(1),d.sc("ngForOf",e._items))},directives:[o.n,o.b,o.h,o.k,n.j,H.a],styles:[""]}),G),N=i("9p45");function R(t,e){if(1&t&&d.Tb(0,"nz-option",7),2&t){var i=e.$implicit;d.sc("nzLabel",i.desc)("nzValue",i.op)}}function V(t,e){if(1&t){var i=d.Zb();d.Yb(0,"form",1),d.Yb(1,"div",2),d.Yb(2,"div",3),d.Yb(3,"label"),d.Kc(4,"Option"),d.Xb(),d.Yb(5,"nz-select",4),d.gc("ngModelChange",(function(t){return d.Bc(i),d.kc().op=t})),d.Ic(6,R,1,2,"nz-option",5),d.Xb(),d.Xb(),d.Yb(7,"div",3),d.Yb(8,"label"),d.Kc(9,"Value"),d.Xb(),d.Yb(10,"input",6),d.gc("ngModelChange",(function(t){return d.Bc(i),d.kc().value=t})),d.Xb(),d.Xb(),d.Xb(),d.Xb()}if(2&t){var n=d.kc();d.Eb(5),d.sc("ngModel",n.op),d.Eb(1),d.sc("ngForOf",n.operators),d.Eb(4),d.sc("ngModel",n.value)}}var J,Z,U=((J=function t(){_classCallCheck(this,t),this.option=null,this.operators=[{desc:"Greater or equal than",op:"<="},{desc:"Greater than",op:"<"},{desc:"Equal to",op:"="},{desc:"Lower or equal than",op:">="},{desc:"Lower than",op:">"}],this.op=this.operators[0].op}).\u0275fac=function(t){return new(t||J)},J.\u0275cmp=d.Mb({type:J,selectors:[["sqy-set-cutoff"]],inputs:{option:"option"},decls:1,vars:1,consts:[["class","ui tiny form",4,"ngIf"],[1,"ui","tiny","form"],[1,"two","fields"],[1,"field"],["name","operator","nzSize","small","nzPlaceHolder","Operator","required","",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["type","number","name","value","placeholder","Enter a value","required","",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue"]],template:function(t,e){1&t&&d.Ic(0,V,11,3,"form",0),2&t&&d.sc("ngIf",e.option)},directives:[n.k,o.r,o.i,o.j,r.b,o.p,o.h,o.k,n.j,o.l,o.b,r.a],styles:[""]}),J),W=i("dAYa"),Q=i("cxgq"),tt=i("nKCG"),et=i("Q8cG"),it=i("+oEP"),nt=function(t){return{error:t}},ot=((Z=function(){function t(e){_classCallCheck(this,t),this.builder=e,this.onSet=new d.n}return _createClass(t,[{key:"ngOnInit",value:function(){this.highlightForm=this.builder.group({from:[1,o.q.compose([o.q.min(1),o.q.required,o.q.max(this.max-1)])],to:[this.max,o.q.compose([o.q.required,o.q.min(1),o.q.max(this.max)])]})}},{key:"set",value:function(){this.from.value<=this.to.value&&this.onSet.emit("".concat(this.from.value,":").concat(this.to.value))}},{key:"from",get:function(){return this.highlightForm.get("from")}},{key:"to",get:function(){return this.highlightForm.get("to")}}]),t}()).\u0275fac=function(t){return new(t||Z)(d.Sb(o.c))},Z.\u0275cmp=d.Mb({type:Z,selectors:[["sqy-set-highlight"]],inputs:{max:"max"},outputs:{onSet:"onSet"},decls:16,vars:9,consts:[[1,"ui","tiny","form",3,"formGroup","ngSubmit"],[1,"field"],[1,"meta"],[1,"fields"],[1,"field",3,"ngClass"],["type","number","placeholder","From","required","","name","highl-from","formControlName","from"],["type","number","required","","name","highl-to","formControlName","to",3,"placeholder"],["type","submit",1,"ui","fluid","primary","button",3,"disabled"]],template:function(t,e){1&t&&(d.Yb(0,"form",0),d.gc("ngSubmit",(function(t){return e.set()})),d.Yb(1,"div",1),d.Yb(2,"span",2),d.Kc(3,"Enter positions to define highlight area."),d.Xb(),d.Xb(),d.Yb(4,"div",3),d.Yb(5,"div",4),d.Yb(6,"label"),d.Kc(7,"From"),d.Xb(),d.Tb(8,"input",5),d.Xb(),d.Yb(9,"div",4),d.Yb(10,"label"),d.Kc(11,"To"),d.Xb(),d.Tb(12,"input",6),d.Xb(),d.Xb(),d.Yb(13,"div",1),d.Yb(14,"button",7),d.Kc(15,"Set"),d.Xb(),d.Xb(),d.Xb()),2&t&&(d.sc("formGroup",e.highlightForm),d.Eb(5),d.sc("ngClass",d.wc(5,nt,e.from.invalid&&(e.from.dirty||e.from.touched))),d.Eb(4),d.sc("ngClass",d.wc(7,nt,e.to.invalid&&(e.to.dirty||e.to.touched))),d.Eb(3),d.uc("placeholder","Max: ",e.max,""),d.Eb(2),d.sc("disabled",e.highlightForm.invalid))},directives:[o.r,o.i,o.e,n.i,o.l,o.b,o.p,o.h,o.d],styles:[""]}),Z),ct=["dnaSeq"],rt=["proteinSeq"],at=["tracksView"],st=["navigator"],bt=["saver"];function lt(t,e){if(1&t&&d.Tb(0,"nz-option",47),2&t){var i=e.$implicit;d.sc("nzLabel",i)("nzValue",i)}}var dt=function(t){return{"non-active":t}};function ut(t,e){if(1&t&&(d.Yb(0,"a",48),d.gc("click",(function(t){var i=e.$implicit;return i.display=!i.display})),d.Tb(1,"i",49),d.Yb(2,"p",50),d.Kc(3),d.Xb(),d.Xb()),2&t){var i=e.$implicit;d.sc("ngClass",d.wc(4,dt,!i.display)),d.Eb(1),d.Hc("color",i.color),d.Eb(2),d.Lc(i.name)}}function ht(t,e){if(1&t){var i=d.Zb();d.Yb(0,"div",51),d.Yb(1,"div",52),d.Yb(2,"div",53),d.Yb(3,"div",2),d.Yb(4,"h3",54),d.Kc(5),d.Xb(),d.Xb(),d.Xb(),d.Yb(6,"div",55),d.Yb(7,"div",56),d.Yb(8,"a",33),d.Kc(9," Chart "),d.Tb(10,"i",4),d.Xb(),d.Yb(11,"a",33),d.Kc(12," Data "),d.Tb(13,"i",4),d.Xb(),d.Yb(14,"a",33),d.Kc(15," Export "),d.Tb(16,"i",4),d.Xb(),d.Yb(17,"a",33),d.Kc(18," Cutoff "),d.Tb(19,"i",4),d.Xb(),d.Yb(20,"nz-dropdown-menu",null,57),d.Yb(22,"ul",38),d.Yb(23,"li",39),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().changeColors(n.alias)})),d.Tb(24,"i",41),d.Kc(25," Change color "),d.Xb(),d.Yb(26,"li",39),d.gc("click",(function(t){return e.$implicit.display=!1})),d.Tb(27,"i",58),d.Kc(28," Hide "),d.Xb(),d.Xb(),d.Xb(),d.Yb(29,"nz-dropdown-menu",null,59),d.Yb(31,"ul",38),d.Yb(32,"li",39),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().displayScore(n.alias)})),d.Tb(33,"i",40),d.Kc(34," Display all scores "),d.Xb(),d.Yb(35,"li",60),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().displayCutoffs(n.alias)})),d.Tb(36,"i",40),d.Kc(37," Display cutoffs positions "),d.Xb(),d.Xb(),d.Xb(),d.Yb(38,"nz-dropdown-menu",null,61),d.Yb(40,"ul",38),d.Yb(41,"li",39),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().exportToExcel(n.alias)})),d.Tb(42,"i",62),d.Kc(43," Excel "),d.Xb(),d.Yb(44,"li",39),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().exportToGb({key:n.alias})})),d.Tb(45,"i",63),d.Kc(46," GenBank "),d.Xb(),d.Xb(),d.Xb(),d.Yb(47,"nz-dropdown-menu",null,64),d.Yb(49,"ul",38),d.Yb(50,"li",39),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().cutoffModal(n.alias)})),d.Kc(51," Set cutoff "),d.Xb(),d.Yb(52,"li",60),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().displayCutoffs(n.alias)})),d.Tb(53,"i",40),d.Kc(54," Display cutoffs positions "),d.Xb(),d.Yb(55,"li",65),d.Yb(56,"ul"),d.Yb(57,"li",39),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().exportCutoffToGb(n.alias)})),d.Tb(58,"i",63),d.Kc(59," Download as GenBank "),d.Xb(),d.Yb(60,"li",39),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().exportCutoffToExcel(n.alias)})),d.Tb(61,"i",62),d.Kc(62," Download as Excel "),d.Xb(),d.Xb(),d.Xb(),d.Yb(63,"li",60),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().clearCutoffs(n.alias)})),d.Tb(64,"i",45),d.Kc(65," Clear cutoffs positions "),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(66,"div",66),d.Tb(67,"p"),d.Xb(),d.Yb(68,"div",67),d.Yb(69,"div",68),d.Yb(70,"div",69),d.Yb(71,"strong"),d.Kc(72,"Values: "),d.Xb(),d.Kc(73),d.Xb(),d.Tb(74,"i",4),d.Xb(),d.Yb(75,"nz-dropdown-menu",null,70),d.Yb(77,"ul",38),d.Yb(78,"li",39),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().switchScore(n.alias,"raw")})),d.Kc(79," Raw "),d.Tb(80,"i",71),d.Xb(),d.Yb(81,"li",39),d.gc("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc().switchScore(n.alias,"norm")})),d.Kc(82," Normalized "),d.Tb(83,"i",71),d.Xb(),d.Xb(),d.Xb(),d.Tb(84,"sqy-info-popup",72),d.Xb(),d.Xb(),d.Xb(),d.Tb(85,"sqrutiny-matrix",73),d.Yb(86,"div",74),d.Yb(87,"div",2),d.Yb(88,"span",75),d.Kc(89," Min: "),d.Yb(90,"strong"),d.Kc(91),d.Xb(),d.Xb(),d.Xb(),d.Yb(92,"div",67),d.Yb(93,"span",75),d.Kc(94," Max: "),d.Yb(95,"strong"),d.Kc(96),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()}if(2&t){var n=e.$implicit,o=d.Ac(21),c=d.Ac(30),r=d.Ac(39),a=d.Ac(48),s=d.Ac(76);d.sc("hidden",!n.display),d.Eb(5),d.Lc(n.name),d.Eb(3),d.sc("nzDropdownMenu",o),d.Eb(3),d.sc("nzDropdownMenu",c),d.Eb(3),d.sc("nzDropdownMenu",r),d.Eb(3),d.sc("nzDropdownMenu",a),d.Eb(18),d.sc("nzDisabled",!n.cutoffs),d.Eb(17),d.sc("nzDisabled",!n.cutoffs),d.Eb(3),d.sc("nzDisabled",!n.cutoffs),d.Eb(8),d.sc("nzDisabled",!n.cutoffs),d.Eb(3),d.uc("id","cutoff_",n.alias,""),d.Eb(3),d.sc("nzDropdownMenu",s),d.Eb(4),d.Mc("","raw"===n.type?"Raw":"Normalized"," "),d.Eb(7),d.sc("hidden","raw"!==n.type),d.Eb(3),d.sc("hidden","norm"!==n.type),d.Eb(1),d.sc("content",n.description),d.Eb(1),d.tc("id",n.alias),d.Eb(6),d.Lc(n.min),d.Eb(5),d.Lc(n.max)}}function vt(t,e){if(1&t){var i=d.Zb();d.Yb(0,"sqy-set-highlight",76),d.gc("onSet",(function(t){return d.Bc(i),d.kc().setHighlight(t)})),d.Xb()}if(2&t){var n=d.kc();d.sc("max",n._data.construct.dna_seq.length)}}var ft,pt=function(t){return{"loading disabled":t}},gt=((ft=function(){function t(e,i,n,o,c,r,a,s){_classCallCheck(this,t),this.sqSrvc=e,this.notify=i,this.modal=n,this.fileSrvc=o,this.historySrvc=c,this.route=r,this.loader=a,this.featureSrvc=s,this._data=null,this.isSearching=!1,this.options=[],this.filters=[],this.enzimes=["GAATTC","CTTAAG","CCWGG","GGWCC","GGATCC","CCTAGG","AAGCTT","TTCGAA"],this.operators=[{desc:"Greater or equal than",op:"<="},{desc:"Greater than",op:"<"},{desc:"Equal to",op:"="},{desc:"Lower or equal than",op:">="},{desc:"Lower than",op:">"}],this.operatorsFn={"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},"=":function(t,e){return t===e},">":function(t,e){return t>e},">=":function(t,e){return t>=e}}}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this;this._data&&this.options&&(this.nav.nativeElement.length=this._data.construct.dna_seq.length,document.querySelectorAll(".protvista").forEach((function(e){return e.setAttribute("length",t._data.construct.dna_seq.length)})),this.dnaSeq.nativeElement.data=this._data.construct.dna_seq,this.proteinSeq.nativeElement.data=this.toProteinSeqVw(this._data.construct.protein_seq),this.tracksElem.nativeElement.data=this.getTrackView(this._data.construct.tracks),document.querySelectorAll(".score-graph").forEach((function(e,i){e.data=t.options[i].data,e.color=t.options[i].color})),this.saver.nativeElement.preSave=function(){t.loader.startLoading();var e=document.querySelector("#results-graphs"),i=document.createElement("h1");i.setAttribute("id","tmp_title_element"),i.innerHTML="SQrutiny Result Snapshot",e.insertBefore(i,e.firstChild),e.querySelectorAll(".no-sv").forEach((function(t){return t.style.display="none"})),e.querySelectorAll("h3").forEach((function(t){return t.style.fontSize="12px"}))},this.saver.nativeElement.postSave=function(){var e=document.querySelector("#results-graphs");e.removeChild(document.getElementById("tmp_title_element")),e.querySelectorAll(".no-sv").forEach((function(t){return t.style.display="inherit"})),e.querySelectorAll("h3").forEach((function(t){return t.style.fontSize="1.28571429rem"})),t.loader.stopLoading()})}},{key:"ngOnDestroy",value:function(){this.destroyModal()}},{key:"getTrackView",value:function(t){return t.map((function(t){return{accession:"XXXXX",start:t.start,end:t.end,color:t.color}}))}},{key:"toProteinSeqVw",value:function(t){return" ".concat(t.split("").join("  ")," ")}},{key:"getRandomColor",value:function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}},{key:"displayAll",value:function(){this.options.map((function(t){return t.display=!0}))}},{key:"hideAll",value:function(){this.options.map((function(t){return t.display=!1}))}},{key:"setHighlight",value:function(t){t&&document.querySelectorAll(".protvista").forEach((function(e){return e.fixedHighlight=t}))}},{key:"clearHighlight",value:function(){document.querySelectorAll(".protvista").forEach((function(t){return t.fixedHighlight=void 0}))}},{key:"clearCutoffs",value:function(t){document.getElementById(t).cutoffs=void 0,this.getByAlias(this.options,t).cutoffs=null,this.filters=this.filters.filter((function(e){return e.alias!==t})),document.getElementById("cutoff_"+t).getElementsByTagName("p")[0].innerHTML="",document.getElementById("cutoff_"+t).style.visibility="hidden"}},{key:"clearAllCutoffs",value:function(){document.querySelectorAll(".score-graph").forEach((function(t){return t.cutoffs=void 0})),this.options.map((function(t){return t.cutoffs=null})),this.filters=[],document.querySelectorAll(".cutoff").forEach((function(t){return t.style.visibility="hidden"}))}},{key:"cutoffModal",value:function(t){var e=this,i=this.getByAlias(this.options,t);i&&(this.tplModal=this.modal.create({nzTitle:"Set cutoff for "+i.name,nzContent:U,nzWidth:450,nzComponentParams:{option:i},nzOnOk:function(n){null===n.op||null===n.value||Number.isNaN(n.value)||e.setThreshold({alias:t,value:n.value,op:n.op,type:i.type})}}),this.tplModal.afterClose.subscribe((function(){return e.destroyModal()})))}},{key:"setThreshold",value:function(t){var e=this;if(t.alias&&t.op&&null!==t.value){var i=[],n=this.getByAlias(this.options,t.alias);i=n.data.filter((function(i){if(e.operatorsFn[t.op](t.value,i.score))return{pos:i.pos,score:i.score}}));var o=this.operators.find((function(e){return e.op===t.op}));if(i.length){n.cutoffs=i,this.filters.push(t),document.getElementById(t.alias).cutoffs=i.map((function(t){return t.pos}));var c=document.getElementById("cutoff_"+t.alias).getElementsByTagName("p")[0];c.innerHTML="<i class='filter icon'></i> ".concat(o.desc," ").concat(t.value),c.style.visibility="visible"}else this.clearCutoffs(t.alias),this.notify.info("No results found for: ".concat(o.desc," ").concat(t.value," in ").concat(n.name))}}},{key:"displayScore",value:function(t){var e=this.getByAlias(this._data.result,t);this.valuesModal(e.scores,["Start","End","Raw values","Normalized values"],this.getByAlias(this.options,t).name+" data")}},{key:"displayCutoffs",value:function(t){var e=this.getByAlias(this.options,t);this.valuesModal(e.cutoffs,["Position","Score"],e.name+" cutoff positions")}},{key:"valuesModal",value:function(t,e,i){var n=this;this.tplModal=this.modal.create({nzContent:F,nzWrapClassName:"center-modal",nzComponentParams:{headers:e,values:t,title:i},nzFooter:null}),this.tplModal.afterClose.subscribe((function(){return n.destroyModal()}))}},{key:"changeColors",value:function(t){var e=this;if(t){var i=this.getByAlias(this.options,t);i.color=this.getRandomColor(),document.getElementById(t).color=i.color}else this.options.forEach((function(t){return t.color=e.getRandomColor()})),document.querySelectorAll(".score-graph").forEach((function(t,i){return t.color=e.options[i].color}))}},{key:"switchScore",value:function(t,e){var i=this.getByAlias(this._data.result,t);if(i){var n=this.getByAlias(this.options,t);this.clearCutoffs(n.alias),n.data=i.scores.map((function(t){return{pos:t.start,score:"raw"===e?t.raw_score:t.norm_score}})),document.getElementById(t).data=n.data,n.type=e}}},{key:"searchMotif",value:function(t){var e=this;t&&(this.isSearching=!0,this.sqSrvc.motifInSeq(this._data.construct.dna_seq,t).pipe(Object(b.a)((function(){return e.isSearching=!1}))).subscribe((function(t){if(t.count>0){var i="";t.data.map((function(t){return i+=",".concat(t[0],":").concat(t[1])})),","===i.charAt(0)&&(i=i.substring(1)),document.querySelectorAll(".protvista").forEach((function(t){return t.fixedHighlight=i}))}else e.notify.error("No match was found")}),(function(t){return e.notify.error(t)})))}},{key:"getFeatures",value:function(){var t=this;this.loader.startLoading(),this.featureSrvc.getAll().subscribe((function(e){var i=e.map((function(t){return(new N.a).deserialize(t)}));t.options.map((function(t){var e=i.find((function(e){return e.alias===t.alias}));e&&(t.name=e.name,t.description=e.description,t.min=e.genome_min,t.max=e.genome_max)})),t.loader.stopLoading()}))}},{key:"exportCutoffToGb",value:function(t){var e=this.getByAlias(this.filters,t);e&&this.exportToGb([{key:t,filter:e}])}},{key:"exportModal",value:function(){var t=this;this.tplModal=this.modal.create({nzTitle:"Export wizard",nzContent:$,nzComponentParams:{items:this.options.map((function(t){return{name:t.name,color:t.color,alias:t.alias}}))},nzWidth:700,nzOkText:"Export",nzOnOk:function(e){return"gb"===e.to?t.exportToGb(e.list.map((function(t){return{key:t}}))||[]):t.exportToExcel(e.list||[])}}),this.tplModal.afterClose.subscribe((function(){return t.destroyModal()}))}},{key:"destroyModal",value:function(){this.tplModal&&this.tplModal.destroy()}},{key:"exportToGb",value:function(t){var e=this;this.loader.startLoading(),t&&!Array.isArray(t)&&(t=[t]),this.historySrvc.export(this.route.snapshot.data.history.id,{options:t||null}).pipe(Object(b.a)((function(){return e.loader.stopLoading()}))).subscribe((function(t){e.notify.success("Your download is about to start."),e.fileSrvc.saveFileAs(t.data,t.mimetype,t.filename)}),(function(t){return e.notify.error(t)}))}},{key:"exportCutoffToExcel",value:function(t){var e=this,i=[];t?(Array.isArray(t)||(t=[t]),t.map((function(t){var n=e.getByAlias(e.options,t);n.cutoffs&&(i=[{name:n.name,data:n.cutoffs}])}))):i=this.options.filter((function(t){return!t.cutoffs})),i.length>0?(this.fileSrvc.exportAsExcelFile(i,1===i.length?t[0]:"scores"),this.notify.success("Exported! Your download is about to start.")):this.notify.error("Unable to export.")}},{key:"exportToExcel",value:function(t){var e=this,i=[];t?(Array.isArray(t)||(t=[t]),t.map((function(t){var n=e.getByAlias(e._data.result,t);i.push({name:n.alias,data:n.scores})}))):i=this._data.result.map((function(t){return{name:t.alias,data:t.scores}})),i.length>0?(this.fileSrvc.exportAsExcelFile(i,1===i.length?t[0]:"scores"),this.notify.success("Exported! Your download is about to start.")):this.notify.error("Unable to export.")}},{key:"getByAlias",value:function(t,e){return t.find((function(t){return t.alias===e}))}},{key:"data",set:function(t){var e=this;this._data=[],this.options=[],t.result&&t.construct&&t.result.length&&(this._data=t,this.loader.startLoading(),this._data.result.map((function(t){e.options.push({alias:t.alias,display:!0,data:t.scores.map((function(t){return{pos:t.start,score:t.raw_score}})),type:"raw",color:e.getRandomColor()})})),this.getFeatures())}}]),t}()).\u0275fac=function(t){return new(t||ft)(d.Sb(W.a),d.Sb(h.b),d.Sb(c.c),d.Sb(A.a),d.Sb(u.a),d.Sb(s.a),d.Sb(Q.a),d.Sb(tt.a))},ft.\u0275cmp=d.Mb({type:ft,selectors:[["sqy-result-viewer"]],viewQuery:function(t,e){var i;1&t&&(d.Oc(ct,!0),d.Oc(rt,!0),d.Oc(at,!0),d.Oc(st,!0),d.Oc(bt,!0)),2&t&&(d.zc(i=d.hc())&&(e.dnaSeq=i.first),d.zc(i=d.hc())&&(e.proteinSeq=i.first),d.zc(i=d.hc())&&(e.tracksElem=i.first),d.zc(i=d.hc())&&(e.nav=i.first),d.zc(i=d.hc())&&(e.saver=i.first))},inputs:{data:"data"},decls:81,vars:10,consts:[[1,"ui","vertically","divided","grid",2,"margin-bottom","4em"],[1,"equal","width","center","aligned","middle","aligned","row",2,"padding","0em"],[1,"column"],["nz-dropdown","","nzTrigger","click","nzPlacement","bottomCenter",3,"nzDropdownMenu"],[1,"dropdown","icon"],[3,"click"],[1,"download","icon"],[1,"ui","icon","fluid","input",3,"ngClass"],[1,"search","icon"],["type","text","placeholder","Search for motif",3,"keyup.enter"],["nzPlaceHolder","Restriction enzyme","nzDisabled","","ngDefaultControl","","nzAllowClear","",1,"w-1-1",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[1,"zoom","icon"],["element-id","results-graphs","file-name","sqrutiny_result"],["saver",""],[1,"ui","primary","button"],[1,"one","column","row"],[1,"column","mt-0"],["attributes","length displaystart displayend highlight"],[1,"ui","very","padded","grid","graphs"],["id","results-graphs",1,"one","column","row"],[1,"column","mb-3"],[1,"protvista"],["navigator",""],["highlight-event","onmouseover","use-ctrl-to-zoom","",1,"protvista"],["dnaSeq",""],["proteinSeq",""],["shape","roundRectangle","use-ctrl-to-zoom","","highlight-event","onmouseover",1,"protvista"],["tracksView",""],[1,"column","no-sv"],[1,"meta"],[1,"ui","top","attached","menu"],[1,"item"],["nz-dropdown","","nzTrigger","click",3,"nzDropdownMenu"],[1,"cogs","icon"],["class","item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","column pt-4",3,"hidden",4,"ngFor","ngForOf"],["graphsMenu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item","",3,"click"],[1,"eye","icon"],[1,"sync","icon"],["hgMenu","nzDropdownMenu"],["nz-menu-item","","nz-popover","","nzType","primary","nzPopoverTrigger","click","nzPopoverTitle","Set highlight by positions",3,"nzPopoverContent"],[1,"crosshairs","icon"],[1,"eraser","icon"],["hgTmplt",""],[3,"nzLabel","nzValue"],[1,"item",3,"ngClass","click"],[1,"circle","icon"],[1,"feat-label"],[1,"column","pt-4",3,"hidden"],[1,"ui","padded","grid"],[1,"row"],[1,"ui","horizontal","divider","header"],[1,"three","column","row","mb-2","no-sv"],[1,"column","s-action"],["acMenu","nzDropdownMenu"],[1,"eye","slash","icon"],["dataMenu","nzDropdownMenu"],["nz-menu-item","",3,"nzDisabled","click"],["sExMenu","nzDropdownMenu"],[1,"file","excel","outline","icon"],[1,"dna","icon"],["cutMenu","nzDropdownMenu"],["nz-submenu","","nzTitle","Download current threshold",3,"nzDisabled"],[1,"column","txt-c","cutoff",2,"visibility","hidden",3,"id"],[1,"column","right","aligned"],["nz-dropdown","","nzTrigger","click",1,"ui","dropdown",3,"nzDropdownMenu"],[1,"text"],["vlMenu","nzDropdownMenu"],[1,"check","small","icon",3,"hidden"],[3,"content"],["height","70","use-ctrl-to-zoom","",1,"protvista","score-graph",3,"id"],[1,"ui","two","column","grid","no-sv"],[1,"meta",2,"font-size",".9em !important"],[3,"max","onSet"]],template:function(t,e){if(1&t&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Yb(2,"div",2),d.Yb(3,"a",3),d.Kc(4," Highlight "),d.Tb(5,"i",4),d.Xb(),d.Xb(),d.Yb(6,"div",2),d.Yb(7,"a",5),d.gc("click",(function(t){return e.exportModal()})),d.Tb(8,"i",6),d.Kc(9," Export "),d.Xb(),d.Xb(),d.Yb(10,"div",2),d.Yb(11,"div",7),d.Tb(12,"i",8),d.Yb(13,"input",9),d.gc("keyup.enter",(function(t){return e.searchMotif(t.target.value)})),d.Xb(),d.Xb(),d.Xb(),d.Yb(14,"div",2),d.Yb(15,"nz-select",10),d.gc("ngModelChange",(function(t){return e.searchMotif(t)}))("ngModelChange",(function(t){return e.enzime=t})),d.Ic(16,lt,1,2,"nz-option",11),d.Xb(),d.Xb(),d.Yb(17,"div",2),d.Yb(18,"p"),d.Tb(19,"i",12),d.Kc(20," Use "),d.Yb(21,"strong"),d.Kc(22,"Ctrl"),d.Xb(),d.Kc(23," + "),d.Yb(24,"strong"),d.Kc(25,"Scroll"),d.Xb(),d.Kc(26," to zoom. "),d.Xb(),d.Xb(),d.Yb(27,"div",2),d.Yb(28,"protvista-saver",13,14),d.Yb(30,"button",15),d.Kc(31," Download as PNG "),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(32,"div",16),d.Yb(33,"div",17),d.Yb(34,"protvista-manager",18),d.Yb(35,"div",19),d.Yb(36,"div",20),d.Yb(37,"div",21),d.Tb(38,"protvista-navigation",22,23),d.Tb(40,"protvista-sequence",24,25),d.Tb(42,"protvista-sequence",24,26),d.Tb(44,"protvista-interpro-track",27,28),d.Xb(),d.Yb(46,"div",29),d.Yb(47,"p",30),d.Kc(48,"Click on each feature to show or hide"),d.Xb(),d.Xb(),d.Yb(49,"div",29),d.Yb(50,"div",31),d.Yb(51,"div",32),d.Yb(52,"a",33),d.Tb(53,"i",34),d.Kc(54," Graphs "),d.Tb(55,"i",4),d.Xb(),d.Xb(),d.Ic(56,ut,4,6,"a",35),d.Xb(),d.Xb(),d.Ic(57,ht,97,19,"div",36),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(58,"nz-dropdown-menu",null,37),d.Yb(60,"ul",38),d.Yb(61,"li",39),d.gc("click",(function(t){return e.displayAll()})),d.Tb(62,"i",40),d.Kc(63," Display all "),d.Xb(),d.Yb(64,"li",39),d.gc("click",(function(t){return e.hideAll()})),d.Tb(65,"i",40),d.Kc(66," Hide all "),d.Xb(),d.Yb(67,"li",39),d.gc("click",(function(t){return e.changeColors()})),d.Tb(68,"i",41),d.Kc(69," Change colors "),d.Xb(),d.Xb(),d.Xb(),d.Yb(70,"nz-dropdown-menu",null,42),d.Yb(72,"ul",38),d.Yb(73,"li",43),d.Tb(74,"i",44),d.Kc(75," Set highlight "),d.Xb(),d.Yb(76,"li",39),d.gc("click",(function(t){return e.clearHighlight()})),d.Tb(77,"i",45),d.Kc(78," Clear highlight "),d.Xb(),d.Xb(),d.Xb(),d.Ic(79,vt,1,1,"ng-template",null,46,d.Jc)),2&t){var i=d.Ac(59),n=d.Ac(71),o=d.Ac(80);d.Eb(3),d.sc("nzDropdownMenu",n),d.Eb(8),d.sc("ngClass",d.wc(8,pt,e.isSearching)),d.Eb(4),d.sc("ngModel",e.enzime),d.Eb(1),d.sc("ngForOf",e.enzimes),d.Eb(36),d.sc("nzDropdownMenu",i),d.Eb(4),d.sc("ngForOf",e.options),d.Eb(1),d.sc("ngForOf",e.options),d.Eb(16),d.sc("nzPopoverContent",o)}},directives:[a.a,a.b,n.i,r.b,o.b,o.h,o.k,n.j,a.d,et.a,et.b,it.a,r.a,et.d,H.a,ot],styles:["a.non-active[_ngcontent-%COMP%]{color:currentColor;opacity:.5;text-decoration:none}.graphs[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{padding:0}.s-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .7em}@media only screen and (min-width:1920px){.ui.dropdown[_ngcontent-%COMP%]   .scrolling.menu[_ngcontent-%COMP%], .ui.scrolling.dropdown[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{max-height:25.57142857rem}}.feat-label[_ngcontent-%COMP%]{font-size:12px;margin-left:.5em}.overlay[_ngcontent-%COMP%]{fill:none;pointer-events:all}.focus[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:#4682b4}.tooltip[_ngcontent-%COMP%]{fill:none}.value[_ngcontent-%COMP%]{font-weight:700}"]}),ft);function mt(t,e){1&t&&d.Tb(0,"sqy-history-loading")}function yt(t,e){if(1&t){var i=d.Zb();d.Yb(0,"a",66),d.gc("click",(function(t){return d.Bc(i),d.kc(2).getJob()})),d.Tb(1,"i",67),d.Kc(2," Refresh content "),d.Xb()}}var Yt=function(t,e){return{background:t,"border-bottom":e}};function Xt(t,e){if(1&t){var i=d.Zb();d.Yb(0,"div",68),d.gc("mouseover",(function(t){d.Bc(i);var n=e.$implicit;return d.kc(2).trackHovered=n}))("mouseout",(function(t){return d.Bc(i),d.kc(2).trackHovered=null}))("click",(function(t){d.Bc(i);var n=e.$implicit;return d.kc(2).showTrack(n)})),d.Yb(1,"div",69),d.Yb(2,"h4"),d.Kc(3),d.Xb(),d.Xb(),d.Tb(4,"div",70),d.Yb(5,"div",71),d.Kc(6),d.Xb(),d.Xb()}if(2&t){var n=e.$implicit,o=e.index;d.Eb(3),d.Lc(n.label),d.Eb(1),d.sc("ngStyle",d.xc(4,Yt,"url("+n.glyph_thumbnail+")","1.5px solid "+n.color)),d.Fb("data-tooltip",n.name),d.Eb(2),d.Mc(" ",o+1," ")}}function kt(t,e){if(1&t&&(d.Yb(0,"div",72),d.Yb(1,"div",73),d.Tb(2,"i",74),d.Kc(3," It was not possible to show you the results due to an internal problem. Please try again later or "),d.Yb(4,"a",43),d.Kc(5,"contact us"),d.Xb(),d.Kc(6,". "),d.Xb(),d.Xb()),2&t){var i=d.kc(2);d.sc("hidden",!i.history.job),d.Eb(4),d.sc("routerLink","/contact")}}function Ct(t,e){if(1&t){var i=d.Zb();d.Yb(0,"div",72),d.Yb(1,"div",73),d.Tb(2,"i",75),d.Kc(3," The results are processing please be patient... "),d.Xb(),d.Yb(4,"button",76),d.gc("click",(function(t){return d.Bc(i),d.kc(2).getJob()})),d.Kc(5," Refresh "),d.Tb(6,"i",67),d.Xb(),d.Xb()}if(2&t){var n=d.kc(2);d.sc("hidden",!n.history.job),d.Eb(4),d.sc("disabled",n.isJobLoading)}}function wt(t,e){if(1&t&&d.Tb(0,"sqy-result-viewer",77),2&t){var i=d.kc(2);d.sc("data",i.resultData)}}var Mt=function(t){return{loading:t}},Tt=function(t,e,i){return{"ant-badge-status-error":t,"ant-badge-status-processing":e,"ant-badge-status-success":i}},Et=function(t,e){return{"check green":t,"times red":e}},_t=function(t){return{construct:t}},zt=function(t){return["/editor",t]},xt=function(t){return{"disabled loading":t}};function Kt(t,e){if(1&t){var i=d.Zb();d.Yb(0,"div",2),d.Yb(1,"div",3),d.Yb(2,"div",4),d.Yb(3,"div",5),d.Yb(4,"div",6),d.Yb(5,"div",7),d.Yb(6,"div",8),d.Yb(7,"h1",9),d.Kc(8),d.Xb(),d.Xb(),d.Yb(9,"div",10),d.Yb(10,"div",8),d.Yb(11,"span",11),d.Yb(12,"time",12),d.Kc(13),d.lc(14,"date"),d.Xb(),d.Xb(),d.Yb(15,"div",13),d.Tb(16,"span",14),d.Yb(17,"span",15),d.Kc(18),d.lc(19,"titlecase"),d.Xb(),d.Xb(),d.Xb(),d.Yb(20,"div",16),d.Ic(21,yt,3,0,"a",17),d.Yb(22,"a",18),d.gc("click",(function(t){return d.Bc(i),d.kc().deleteHistory()})),d.Tb(23,"i",19),d.Kc(24," Delete history "),d.Xb(),d.Xb(),d.Xb(),d.Yb(25,"div",20),d.Yb(26,"div",21),d.Yb(27,"div",22),d.Tb(28,"i",23),d.Yb(29,"div",24),d.Yb(30,"a",25),d.Kc(31,"Construct"),d.Xb(),d.Yb(32,"p"),d.Kc(33,"Check Construct details"),d.Xb(),d.Xb(),d.Xb(),d.Yb(34,"div",22),d.Tb(35,"i",26),d.Yb(36,"div",24),d.Yb(37,"a",27),d.Kc(38,"Plot area"),d.Xb(),d.Yb(39,"p"),d.Kc(40,"Go to results visualizator area"),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(41,"div",28),d.Yb(42,"div",29),d.Tb(43,"input",30),d.Yb(44,"button",31),d.Kc(45," Copy "),d.Tb(46,"i",32),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(47,"div",33),d.Yb(48,"div",5),d.Yb(49,"div",6),d.Yb(50,"div",34),d.Yb(51,"div",35),d.Yb(52,"div",36),d.Yb(53,"h2"),d.Kc(54,"Construct summary"),d.Xb(),d.Xb(),d.Xb(),d.Yb(55,"div",35),d.Yb(56,"div",8),d.Yb(57,"div",37),d.Yb(58,"p"),d.Kc(59),d.Xb(),d.Xb(),d.Yb(60,"div",38),d.Yb(61,"div",39),d.Yb(62,"label"),d.Kc(63,"Label:"),d.Xb(),d.Kc(64),d.Xb(),d.Yb(65,"div",39),d.Yb(66,"label"),d.Kc(67,"Number of tracks:"),d.Xb(),d.Kc(68),d.Xb(),d.Yb(69,"div",39),d.Yb(70,"label"),d.Kc(71,"Circular:"),d.Xb(),d.Tb(72,"i",40),d.Xb(),d.Yb(73,"div",39),d.Yb(74,"a",41),d.Kc(75,"See it on Sketcher "),d.Tb(76,"i",42),d.Xb(),d.Xb(),d.Yb(77,"div",39),d.Yb(78,"a",43),d.Kc(79,"See it on Vector Editor "),d.Tb(80,"i",42),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(81,"div",35),d.Yb(82,"div",8),d.Yb(83,"h4",44),d.Tb(84,"i",45),d.Kc(85," Organism "),d.Xb(),d.Xb(),d.Yb(86,"div",8),d.Yb(87,"p"),d.Kc(88,"Open on "),d.Yb(89,"a",46),d.Kc(90,"NCBI Taxonomy browser"),d.Xb(),d.Kc(91," organism info"),d.Xb(),d.Yb(92,"div",47),d.Yb(93,"div",48),d.Yb(94,"label"),d.Kc(95,"Name:"),d.Xb(),d.Yb(96,"a",46),d.Kc(97),d.Xb(),d.Xb(),d.Yb(98,"div",48),d.Yb(99,"label"),d.Kc(100,"Taxonomy ID:"),d.Xb(),d.Kc(101),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(102,"div",35),d.Yb(103,"div",8),d.Yb(104,"h4",44),d.Tb(105,"i",49),d.Kc(106," Sequence "),d.Xb(),d.Xb(),d.Yb(107,"div",8),d.Yb(108,"p"),d.Tb(109,"i",50),d.Kc(110," Click on sequence to display full content"),d.Xb(),d.Yb(111,"table",51),d.Yb(112,"tbody"),d.Yb(113,"tr"),d.Yb(114,"th"),d.Kc(115,"DNA"),d.Xb(),d.Yb(116,"td",52),d.gc("click",(function(t){d.Bc(i);var e=d.kc();return e.textModal(e.history.construct.dna_seq)})),d.Kc(117),d.Xb(),d.Yb(118,"td"),d.Yb(119,"strong"),d.Kc(120,"Total:"),d.Xb(),d.Kc(121),d.Xb(),d.Xb(),d.Yb(122,"tr"),d.Yb(123,"th"),d.Kc(124,"Protein"),d.Xb(),d.Yb(125,"td",52),d.gc("click",(function(t){d.Bc(i);var e=d.kc();return e.textModal(e.history.construct.protein_seq)})),d.Kc(126),d.Xb(),d.Yb(127,"td"),d.Yb(128,"strong"),d.Kc(129,"Total:"),d.Xb(),d.Kc(130),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(131,"div",35),d.Yb(132,"div",8),d.Yb(133,"h4",44),d.Kc(134," Tracks "),d.Xb(),d.Xb(),d.Yb(135,"div",53),d.Yb(136,"div",3),d.Yb(137,"div",54),d.Yb(138,"p"),d.Tb(139,"i",50),d.Kc(140," Hover a track to display information"),d.Xb(),d.Xb(),d.Yb(141,"div",55),d.Yb(142,"strong"),d.Kc(143,"Start:"),d.Xb(),d.Kc(144),d.Xb(),d.Yb(145,"div",55),d.Yb(146,"strong"),d.Kc(147,"End:"),d.Xb(),d.Kc(148),d.Xb(),d.Yb(149,"div",55),d.Yb(150,"strong"),d.Kc(151,"Length:"),d.Xb(),d.Kc(152),d.Xb(),d.Yb(153,"div",56),d.Yb(154,"p",57),d.Kc(155),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(156,"div",8),d.Yb(157,"div",58),d.Yb(158,"div",59),d.Ic(159,Xt,7,7,"div",60),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(160,"div",61),d.Yb(161,"div",8),d.Yb(162,"div",62),d.Yb(163,"div",35),d.Yb(164,"div",63),d.Ic(165,kt,7,2,"div",64),d.Ic(166,Ct,7,2,"div",64),d.Ic(167,wt,1,1,"sqy-result-viewer",65),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()}if(2&t){var n=d.kc();d.sc("ngClass",d.wc(42,Mt,n.isLoading)),d.Eb(8),d.Mc(" ",n.history.name," "),d.Eb(4),d.sc("dateTime",n.history.created_at),d.Eb(1),d.Lc(d.nc(14,37,n.history.created_at,"d MMMM, YYYY hh:mm")),d.Eb(2),d.sc("hidden",!n.history.job),d.Eb(1),d.sc("ngClass",d.yc(44,Tt,n.history.hasFailed(),n.history.isActive(),n.history.isDone())),d.Eb(2),d.Lc(d.mc(19,40,null==n.history.job?null:n.history.job.status)),d.Eb(3),d.sc("ngIf",n.history.isActive()),d.Eb(22),d.sc("value",n.history.id),d.Eb(1),d.sc("sqy-clipboard",n.history.id),d.Eb(13),d.sc("hidden",!n.history.construct.description),d.Eb(2),d.Lc(n.history.construct.description),d.Eb(5),d.Mc(" ",n.history.construct.name," "),d.Eb(4),d.Mc(" ",n.history.construct.n_tracks," "),d.Eb(4),d.sc("ngClass",d.xc(48,Et,n.history.construct.circular,!n.history.construct.circular)),d.Eb(2),d.sc("queryParams",d.wc(51,_t,n.history.construct.id)),d.Eb(4),d.sc("routerLink",d.wc(53,zt,n.history.id)),d.Eb(11),d.tc("href",n.history.construct.specie.tax_link,d.Dc),d.Eb(7),d.tc("href",n.history.construct.specie.tax_link,d.Dc),d.Eb(1),d.Mc(" ",n.history.construct.specie.name," "),d.Eb(4),d.Mc(" ",n.history.construct.specie.tax_id," "),d.Eb(16),d.Mc(" ",n.history.construct.dna_seq," "),d.Eb(4),d.Mc(" ",n.history.construct.dna_seq.length," bps "),d.Eb(5),d.Mc(" ",n.history.construct.protein_seq," "),d.Eb(4),d.Mc(" ",n.history.construct.protein_seq.length," "),d.Eb(11),d.sc("hidden",!n.trackHovered),d.Eb(3),d.Mc(" ",null==n.trackHovered?null:n.trackHovered.start," "),d.Eb(1),d.sc("hidden",!n.trackHovered),d.Eb(3),d.Mc(" ",null==n.trackHovered?null:n.trackHovered.end," "),d.Eb(1),d.sc("hidden",!n.trackHovered),d.Eb(3),d.Mc(" ",null==n.trackHovered?null:n.trackHovered.sequence.length," bps "),d.Eb(3),d.Mc("",n.history.construct.n_tracks," tracks"),d.Eb(4),d.sc("ngForOf",n.history.construct.tracks),d.Eb(5),d.sc("ngClass",d.wc(55,xt,n.isJobLoading)),d.Eb(1),d.sc("ngIf",n.history.hasFailed()),d.Eb(1),d.sc("ngIf",n.history.isActive()),d.Eb(1),d.sc("ngIf",n.history.isDone())}}var Ot,St,Pt=((Ot=function(){function t(e,i,n,o,c,r,a,s){_classCallCheck(this,t),this.route=e,this.router=i,this.historySrvc=n,this.jobSrvc=o,this.modal=c,this.notify=r,this.titleSrvc=a,this.navSrvc=s,this.history=null,this.isLoading=!1,this.isJobLoading=!1,this.trackHovered=null,this.attempts=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.history=(new l.a).deserialize(this.route.snapshot.data.history),this.titleSrvc.setTitle(this.history.name),this.getJob()}},{key:"ngOnDestroy",value:function(){this.interval&&clearInterval(this.interval),this.destroyModal()}},{key:"getJob",value:function(){var t=this;this.isJobLoading=!0,this.jobSrvc.getById(this.history.job_id).pipe(Object(b.a)((function(){t.isLoading=!1,t.isJobLoading=!1}))).subscribe((function(e){t.history.job=e,t.history.isDone()?(t.interval&&clearInterval(t.interval),t.resultData={construct:t.history.construct,result:t.history.job.result}):t.history.isActive()&&(t.interval||(t.interval=setInterval((function(){return t.getJob()}),3e3),t.attempts=0),t.attempts++,t.attempts>=50&&clearInterval(t.interval))}),(function(e){return t.notify.error(e)}))}},{key:"showTrack",value:function(t){var e=this;t&&(this.tplModal=this.modal.create({nzContent:x.a,nzComponentParams:{track:t},nzCancelText:null,nzOnOk:function(){e.tplModal&&e.tplModal.destroy()}}),this.tplModal.afterClose.subscribe((function(){return e.destroyModal()})))}},{key:"destroyModal",value:function(){this.tplModal&&this.tplModal.destroy()}},{key:"deleteHistory",value:function(){var t=this;confirm("Are you sure?")&&(this.isLoading=!0,this.historySrvc.delete(this.history.id).pipe(Object(b.a)((function(){return t.isLoading=!1}))).subscribe((function(){t.navSrvc.updateBadge(),t.notify.success("History deleted!"),t.router.navigate(["/workspace"])}),(function(e){return t.notify.error(e||"Unable to delete history")})))}},{key:"textModal",value:function(t){var e=this;this.tplModal=this.modal.create({nzContent:z.a,nzWrapClassName:"center-modal",nzComponentParams:{txt:t},nzFooter:null}),this.tplModal.afterClose.subscribe((function(){return e.destroyModal()}))}}]),t}()).\u0275fac=function(t){return new(t||Ot)(d.Sb(s.a),d.Sb(s.c),d.Sb(u.a),d.Sb(S),d.Sb(c.c),d.Sb(h.b),d.Sb(P.a),d.Sb(v.a))},Ot.\u0275cmp=d.Mb({type:Ot,selectors:[["sqy-history"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","ui main fluid container p-4 mt-6 basic segment",3,"ngClass",4,"ngIf"],[1,"ui","main","fluid","container","p-4","mt-6","basic","segment",3,"ngClass"],[1,"ui","grid"],["id","history",1,"row"],[1,"ui","container"],[1,"sixteen","wide","column"],[1,"ui","padded","one","column","grid"],[1,"column"],[1,"ui","header"],[1,"two","column","row"],[1,"date"],[3,"dateTime"],[1,"ant-badge","ant-badge-status","ant-badge-not-a-wrapper",3,"hidden"],[1,"ant-badge-status-dot",3,"ngClass"],[1,"ant-badge-status-text"],[1,"column","txt-r"],["class","m-4",3,"click",4,"ngIf"],[1,"m-4","delete",3,"click"],[1,"trash","icon"],[1,"eleven","wide","column"],[1,"ui","very","relaxed","horizontal","selection","large","list"],[1,"item"],[1,"barcode","large","icon"],[1,"content"],["onclick","window.location.hash = 'construct'",1,"header"],[1,"chart","bar","outline","large","icon"],["onclick","window.location.hash = 'results'",1,"header"],[1,"five","wide","column","right","aligned"],[1,"ui","action","fluid","input"],["type","text","name","history-id",3,"value"],["type","button","name","copy",1,"ui","right","labeled","icon","primary","button",3,"sqy-clipboard"],[1,"copy","icon"],["id","construct",1,"row"],[1,"ui","padded","form","construct-summary","grid"],[1,"one","column","row"],[1,"column","txt-c"],[1,"field",3,"hidden"],[1,"four","inline","fields"],[1,"field"],[1,"circle","icon",3,"ngClass"],["routerLink","/optimize/sketcher",3,"queryParams"],[1,"external","link","icon"],[3,"routerLink"],[1,"ui","horizontal","divider","header"],[1,"bug","icon"],["target","_blank",3,"href"],[1,"two","inline","fields"],[1,"inline","field"],[1,"dna","icon"],[1,"info","icon"],[1,"ui","blue","padded","sequence","definition","table"],[1,"link",3,"click"],[1,"column",2,"min-height","18px"],[1,"four","wide","column"],[1,"three","wide","column","center","aligned",3,"hidden"],[1,"right","floated","two","wide","column","right","aligned"],[1,"meta"],[1,"construct"],[1,"strand"],["class","track",3,"mouseover","mouseout","click",4,"ngFor","ngForOf"],["id","results",1,"one","column","row"],[1,"ui","protvista","padded","grid"],[1,"ui","basic","segment","column",3,"ngClass"],["class","ui placeholder segment",3,"hidden",4,"ngIf"],[3,"data",4,"ngIf"],[1,"m-4",3,"click"],[1,"sync","icon"],[1,"track",3,"mouseover","mouseout","click"],[1,"header"],["data-inverted","","data-position","bottom center",1,"image",3,"ngStyle"],[1,"index"],[1,"ui","placeholder","segment",3,"hidden"],[1,"ui","icon","header"],[1,"times","circle","red","icon"],[1,"spinner","loading","icon"],["type","button","name","refresh",1,"ui","primary","right","labeled","icon","button",3,"disabled","click"],[3,"data"]],template:function(t,e){1&t&&(d.Ic(0,mt,1,0,"sqy-history-loading",0),d.Ic(1,Kt,168,57,"div",1)),2&t&&(d.sc("ngIf",!e.history),d.Eb(1),d.sc("ngIf",e.history))},directives:[n.k,q,n.i,f.a,s.f,n.j,n.l,gt],pipes:[p.a,n.t],styles:["div.ui.grid.main-h[_ngcontent-%COMP%]{margin-bottom:4em}.ui.protvista[_ngcontent-%COMP%]   .ui.placeholder.segment[_ngcontent-%COMP%]{min-height:400px}a.delete[_ngcontent-%COMP%]{color:#e63757}h1.ui.header[_ngcontent-%COMP%]{font-size:2.5em;font-weight:400}.ui.horizontal.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .ui.horizontal.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .ui.horizontal.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] + .content[_ngcontent-%COMP%]{display:inline!important}.protvista.actions[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}.protvista.actions[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{color:inherit;font-size:1.3rem}td.fitted[_ngcontent-%COMP%]{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ui.horizontal.list[_ngcontent-%COMP%]:not(.celled) > .item[_ngcontent-%COMP%]{padding:.7rem 1.5rem !important!important}table.sequence[_ngcontent-%COMP%]{width:100%}table.sequence[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{max-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}table.sequence[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:90%;padding-left:.5em}table.sequence[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:10%}.construct[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:auto;width:100%;max-height:150px}.construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]{white-space:nowrap;margin:1em;height:120px}.construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]{position:relative;display:inline-block;width:150px;height:30px;-webkit-transition:all .45s;transition:all .45s;-webkit-transform-origin:center left;transform-origin:center left;cursor:pointer}.construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{position:relative;border-top:1.5px solid #ccc;margin-top:.5em;text-align:center;font-weight:700;color:#ddd}.construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:1em;width:100%;font-size:.8rem;text-align:center}.construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-weight:400;color:#888!important}.construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   div.image[_ngcontent-%COMP%]{font-size:1em!important;left:0;width:100%!important;line-height:.8em!important;height:100%!important;background-size:100%!important;background-repeat:no-repeat!important;background-position:50%!important;z-index:3}#construct[_ngcontent-%COMP%], #history[_ngcontent-%COMP%]{margin-bottom:2em}.construct-summary[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{text-align:center}"]}),Ot),qt=i("GpOm"),At=[{path:"",component:_},{path:i("YqVT").a.workspace.detail,component:Pt,resolve:{history:qt.a}}],Lt=((St=function t(){_classCallCheck(this,t)}).\u0275mod=d.Qb({type:St}),St.\u0275inj=d.Pb({factory:function(t){return new(t||St)},providers:[qt.a],imports:[[s.g.forChild(At)],s.g]}),St),It=i("PCNd");i.d(e,"WorkspaceModule",(function(){return Dt}));var Bt,Dt=((Bt=function t(){_classCallCheck(this,t)}).\u0275mod=d.Qb({type:Bt}),Bt.\u0275inj=d.Pb({factory:function(t){return new(t||Bt)},imports:[[n.c,Lt,It.a,c.b,r.c,a.c,o.o]]}),Bt)}}]);
//# sourceMappingURL=7-es5.c36487c34f6685ba1162.js.map