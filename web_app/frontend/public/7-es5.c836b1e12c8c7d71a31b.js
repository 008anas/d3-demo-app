function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(a){o=!0,r=a}finally{try{i||null==c.return||c.return()}finally{if(o)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Iab2:function(e,t,n){var i,o;void 0===(o="function"==typeof(i=function(){"use strict";function t(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){r(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(e,r,s){var c=o.URL||o.webkitURL,a=document.createElement("a");a.download=r=r||e.name||"download",a.rel="noopener","string"==typeof e?(a.href=e,a.origin===location.origin?i(a):n(a.href)?t(e,r,s):i(a,a.target="_blank")):(a.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(a.href)}),4e4),setTimeout((function(){i(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),o);else if(n(e))t(e,o,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,n,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,i);var s="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&c)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},l.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,d=u.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});o.saveAs=r.saveAs=r,e.exports=r})?i.apply(t,[]):i)||(e.exports=o)},meJe:function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),o=n("dEAy"),r=n("mrSG"),s=n("LSvS"),c=n("fXoL"),a=n("3Pt+"),l=n("xgIS"),u=n("VRyK"),d=n("quSY"),h=n("pLZG"),b=n("vkgz"),p=n("lJxs");function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.length;if(0===i)throw new Error("list of properties cannot be empty.");return function(e){return Object(p.a)(function(e,t){return function(n){for(var i=n,o=0;o<t;o++){var r=i[e[o]];if(void 0===r)return;i=r}return i}}(t,i))(e)}}var g=n("/uUt"),v=n("1G5W"),m=n("bMUq"),y=n("OCB9"),z=n("XNiG"),k=["overlay"],C=["nzTemplate"];function O(e,t){if(1&e&&(c.Wb(0),c.Lc(1),c.Vb()),2&e){var n=c.kc(2);c.Eb(1),c.Mc(n.title)}}function w(e,t){if(1&e&&(c.Yb(0,"div",2),c.Yb(1,"div",3),c.Tb(2,"div",4),c.Yb(3,"div",5),c.Jc(4,O,2,1,"ng-container",6),c.Xb(),c.Xb(),c.Xb()),2&e){var n=c.kc();c.sc("ngClass",n._classMap)("ngStyle",n.nzOverlayStyle)("@.disabled",null==n.noAnimation?null:n.noAnimation.nzNoAnimation)("nzNoAnimation",null==n.noAnimation?null:n.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),c.Eb(4),c.sc("nzStringTemplateOutlet",n.title)}}var T,S,M,P,_,x,X=["*"],Y=((x=function(){function e(t,n){_classCallCheck(this,e),this.cdr=t,this.noAnimation=n,this.nzVisibleChange=new c.n,this._classMap={},this._hasBackdrop=!1,this._prefix="ant-tooltip-placement",this._visible=!1,this._positions=_toConsumableArray(m.c),this._placement="top",this._trigger="hover"}return _createClass(e,[{key:"show",value:function(){this.nzVisible||this.isTitleEmpty()&&this.isContentEmpty()||(this.nzVisible=!0,this.nzVisibleChange.emit(!0),this.cdr.detectChanges())}},{key:"hide",value:function(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(!1),this.cdr.detectChanges())}},{key:"updateByDirective",value:function(){var e=this;this.setClassMap(),this.cdr.detectChanges(),Promise.resolve().then((function(){e.updatePosition()}))}},{key:"updatePosition",value:function(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}},{key:"onPositionChange",value:function(e){this._placement=Object(m.H)(e),this.setClassMap(),this.cdr.detectChanges()}},{key:"setClassMap",value:function(){var e;this._classMap=(_defineProperty(e={},this.nzOverlayClassName,!0),_defineProperty(e,"".concat(this._prefix,"-").concat(this._placement),!0),e)}},{key:"setOverlayOrigin",value:function(e){this.origin=e,this.cdr.markForCheck()}},{key:"isTitleEmpty",value:function(){return!(this.title instanceof c.M||""!==this.title&&Object(m.L)(this.title))}},{key:"isContentEmpty",value:function(){return!(this.content instanceof c.M||""!==this.content&&Object(m.L)(this.content))}},{key:"content",get:function(){return void 0!==this.nzContent?this.nzContent:this.nzContentTemplate}},{key:"title",get:function(){return void 0!==this.nzTitle?this.nzTitle:this.nzTitleTemplate}}]),e}()).\u0275fac=function(e){c.fc()},x.\u0275dir=c.Nb({type:x,outputs:{nzVisibleChange:"nzVisibleChange"}}),x),L=((_=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).noAnimation=n,i.nzOverlayClassName="",i.nzOverlayStyle={},i.nzMouseEnterDelay=.15,i.nzMouseLeaveDelay=.1,i.nzVisibleChange=new c.n,i}return _inherits(t,e),_createClass(t,[{key:"ngOnChanges",value:function(){var e=this;Promise.resolve().then((function(){e.updatePosition()}))}},{key:"nzPlacement",set:function(e){e!==this._placement&&(this._placement=e,this._positions=[m.x[this.nzPlacement]].concat(_toConsumableArray(this._positions)))},get:function(){return this._placement}},{key:"nzVisible",set:function(e){var t=Object(m.R)(e);this._visible!==t&&(this._visible=t,this.nzVisibleChange.emit(t))},get:function(){return this._visible}},{key:"nzTrigger",set:function(e){this._trigger=e,this._hasBackdrop="click"===this._trigger},get:function(){return this._trigger}}]),t}(Y)).\u0275fac=function(e){return new(e||_)(c.Sb(c.h),c.Sb(m.o,9))},_.\u0275dir=c.Nb({type:_,viewQuery:function(e,t){var n;1&e&&c.Oc(k,!0),2&e&&c.zc(n=c.hc())&&(t.overlay=n.first)},inputs:{nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzPlacement:"nzPlacement",nzVisible:"nzVisible",nzTrigger:"nzTrigger"},outputs:{nzVisibleChange:"nzVisibleChange"},features:[c.Bb,c.Cb()]}),_),E=((P=function(e){function t(e,n){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).noAnimation=n,i}return _inherits(t,e),t}(L)).\u0275fac=function(e){return new(e||P)(c.Sb(c.h),c.Sb(m.o,9))},P.\u0275cmp=c.Mb({type:P,selectors:[["nz-tooltip"]],contentQueries:function(e,t,n){var i;1&e&&c.Gc(n,C,!0),2&e&&c.zc(i=c.hc())&&(t.nzTitleTemplate=i.first)},inputs:{nzTitle:"nzTitle"},exportAs:["nzTooltipComponent"],features:[c.Db([{provide:L,useExisting:P}]),c.Bb],ngContentSelectors:X,decls:3,vars:4,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","backdropClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-inner"],[4,"nzStringTemplateOutlet"]],template:function(e,t){1&e&&(c.rc(),c.qc(0),c.Jc(1,w,5,6,"ng-template",0,1,c.Kc),c.gc("backdropClick",(function(e){return t.hide()}))("detach",(function(e){return t.hide()}))("positionChange",(function(e){return t.onPositionChange(e)}))),2&e&&(c.Eb(1),c.sc("cdkConnectedOverlayOrigin",t.origin)("cdkConnectedOverlayOpen",t._visible)("cdkConnectedOverlayHasBackdrop",t._hasBackdrop)("cdkConnectedOverlayPositions",t._positions))},directives:[y.a,m.j,i.i,i.l,m.o,m.s],styles:["\n      .ant-tooltip {\n        position: relative;\n      }\n    "],encapsulation:2,data:{animation:[m.V]},changeDetection:0}),P),j=((M=function(){function e(t,n,i,o,r,s){_classCallCheck(this,e),this.elementRef=t,this.hostView=n,this.resolver=i,this.renderer=o,this._tooltip=r,this.noAnimation=s,this.nzTrigger="hover",this.nzPlacement="top",this.needProxyProperties=["nzOverlayClassName","nzOverlayStyle","nzMouseEnterDelay","nzMouseLeaveDelay","nzVisible","noAnimation"],this.nzVisibleChange=new c.n,this.isTooltipComponentVisible=!1,this.isDynamicTooltip=!1,this.triggerUnlisteners=[],this.$destroy=new z.a}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=e.nzTrigger,n=e.specificTrigger||t;n&&!n.isFirstChange()&&this.registerTriggers(),this.tooltip&&this.isDynamicTooltip&&this.updateChangedProperties(e)}},{key:"ngOnInit",value:function(){var e=this;this._tooltip?(Object(m.U)("'<nz-tooltip></nz-tooltip>', '<nz-popover></nz-popover>' and '<nz-popconfirm></nz-popconfirm>' is deprecated and will be removed in 9.0.0. Refer: https://ng.ant.design/components/tooltip/zh ."),this.tooltip=this._tooltip,this.tooltip.setOverlayOrigin(this)):this.createDynamicTooltipComponent(),this.tooltip.nzVisibleChange.pipe(Object(g.a)(),Object(v.a)(this.$destroy)).subscribe((function(t){e.isTooltipComponentVisible=t,e.nzVisibleChange.emit(t)}))}},{key:"ngAfterViewInit",value:function(){this.registerTriggers()}},{key:"ngOnDestroy",value:function(){this.$destroy.next(),this.$destroy.complete(),this.clearTogglingTimer(),this.removeTriggerListeners(),this.tooltipRef&&this.tooltipRef.destroy()}},{key:"show",value:function(){this.tooltip.show()}},{key:"hide",value:function(){this.tooltip.hide()}},{key:"updatePosition",value:function(){this.tooltip&&this.isDynamicTooltip&&this.tooltip.updatePosition()}},{key:"createDynamicTooltipComponent",value:function(){this.isDynamicTooltip=!0,this.tooltipRef=this.hostView.createComponent(this.componentFactory),this.tooltip=this.tooltipRef.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.tooltipRef.location.nativeElement),this.tooltip.setOverlayOrigin(this),this.updateChangedProperties(this.needProxyProperties)}},{key:"registerTriggers",value:function(){var e,t=this,n=this.elementRef.nativeElement,i=this.isDynamicTooltip?this.trigger:this.tooltip.nzTrigger;this.removeTriggerListeners(),"hover"===i?(this.triggerUnlisteners.push(this.renderer.listen(n,"mouseenter",(function(){t.delayEnterLeave(!0,!0,t.tooltip.nzMouseEnterDelay)}))),this.triggerUnlisteners.push(this.renderer.listen(n,"mouseleave",(function(){t.delayEnterLeave(!0,!1,t.tooltip.nzMouseLeaveDelay),t.tooltip.overlay.overlayRef&&!e&&(e=t.tooltip.overlay.overlayRef.overlayElement,t.triggerUnlisteners.push(t.renderer.listen(e,"mouseenter",(function(){t.delayEnterLeave(!1,!0)}))),t.triggerUnlisteners.push(t.renderer.listen(e,"mouseleave",(function(){t.delayEnterLeave(!1,!1)}))))})))):"focus"===i?(this.triggerUnlisteners.push(this.renderer.listen(n,"focus",(function(){return t.show()}))),this.triggerUnlisteners.push(this.renderer.listen(n,"blur",(function(){return t.hide()})))):"click"===i&&this.triggerUnlisteners.push(this.renderer.listen(n,"click",(function(e){e.preventDefault(),t.show()})))}},{key:"updateChangedProperties",value:function(e){var t=this,n=Array.isArray(e);if((n?e:Object.keys(e)).forEach((function(e){-1!==t.needProxyProperties.indexOf(e)&&t.updateComponentValue(e,t[e])})),n)this.updateComponentValue("nzTitle",this.title),this.updateComponentValue("nzContent",this.content),this.updateComponentValue("nzPlacement",this.placement),this.updateComponentValue("nzTrigger",this.trigger);else{var i=e;(i.specificTitle||i.directiveNameTitle||i.nzTitle)&&this.updateComponentValue("nzTitle",this.title),(i.specificContent||i.directiveNameContent||i.nzContent)&&this.updateComponentValue("nzContent",this.content),(i.specificTrigger||i.nzTrigger)&&this.updateComponentValue("nzTrigger",this.trigger),(i.specificPlacement||i.nzPlacement)&&this.updateComponentValue("nzPlacement",this.placement)}this.tooltip.updateByDirective()}},{key:"updateComponentValue",value:function(e,t){void 0!==t&&(this.tooltip[e]=t)}},{key:"delayEnterLeave",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.delayTimer?this.clearTogglingTimer():i>0?this.delayTimer=setTimeout((function(){n.delayTimer=void 0,t?n.show():n.hide()}),1e3*i):t&&e?this.show():this.hide()}},{key:"removeTriggerListeners",value:function(){this.triggerUnlisteners.forEach((function(e){return e()})),this.triggerUnlisteners.length=0}},{key:"clearTogglingTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}},{key:"title",get:function(){return this.specificTitle||this.directiveNameTitle||this.nzTitle}},{key:"content",get:function(){return this.specificContent||this.directiveNameContent||this.nzContent}},{key:"placement",get:function(){return this.specificPlacement||this.nzPlacement}},{key:"trigger",get:function(){return this.specificTrigger||this.nzTrigger}}]),e}()).\u0275fac=function(e){c.fc()},M.\u0275dir=c.Nb({type:M,inputs:{nzTrigger:"nzTrigger",nzPlacement:"nzPlacement",nzTitle:"nzTitle",nzContent:"nzContent",nzMouseEnterDelay:"nzMouseEnterDelay",nzMouseLeaveDelay:"nzMouseLeaveDelay",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzVisible:"nzVisible"},outputs:{nzVisibleChange:"nzVisibleChange"},features:[c.Cb()]}),M),I=((S=function(e){function t(e,n,i,o,r,s){var c;return _classCallCheck(this,t),(c=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,i,o,r,s))).componentFactory=c.resolver.resolveComponentFactory(E),c}return _inherits(t,e),t}(j)).\u0275fac=function(e){return new(e||S)(c.Sb(c.l),c.Sb(c.Q),c.Sb(c.j),c.Sb(c.E),c.Sb(L,8),c.Sb(m.o,9))},S.\u0275dir=c.Nb({type:S,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(e,t){2&e&&c.Jb("ant-tooltip-open",t.isTooltipComponentVisible)},inputs:{specificTitle:["nzTooltipTitle","specificTitle"],directiveNameTitle:["nz-tooltip","directiveNameTitle"],specificTrigger:["nzTooltipTrigger","specificTrigger"],specificPlacement:["nzTooltipPlacement","specificPlacement"]},exportAs:["nzTooltip"],features:[c.Bb]}),S),V=((T=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:T}),T.\u0275inj=c.Pb({factory:function(e){return new(e||T)},imports:[[i.c,y.g,m.g,m.q,m.p]]}),T),D=["slider"];function F(e,t){if(1&e&&c.Tb(0,"nz-slider-step",7),2&e){var n=c.kc();c.sc("nzVertical",n.nzVertical)("nzLowerBound",n.bounds.lower)("nzUpperBound",n.bounds.upper)("nzMarksArray",n.marksArray)("nzIncluded",n.nzIncluded)}}function A(e,t){if(1&e&&c.Tb(0,"nz-slider-handle",8),2&e){var n=t.$implicit,i=c.kc();c.sc("nzVertical",i.nzVertical)("nzOffset",n.offset)("nzValue",n.value)("nzActive",n.active)("nzTipFormatter",i.nzTipFormatter)("nzTooltipVisible",i.nzTooltipVisible)("nzTooltipPlacement",i.nzTooltipPlacement)}}function R(e,t){if(1&e&&c.Tb(0,"nz-slider-marks",9),2&e){var n=c.kc();c.sc("nzVertical",n.nzVertical)("nzMin",n.nzMin)("nzMax",n.nzMax)("nzLowerBound",n.bounds.lower)("nzUpperBound",n.bounds.upper)("nzMarksArray",n.marksArray)("nzIncluded",n.nzIncluded)}}function B(e,t){if(1&e&&c.Tb(0,"div",2),2&e){var n=c.kc();c.sc("ngStyle",n.style)("nzTitle",n.tooltipTitle)("nzTrigger",null)("nzPlacement",n.nzTooltipPlacement)}}function J(e,t){if(1&e&&c.Tb(0,"div",3),2&e){var n=c.kc();c.sc("ngStyle",n.style)}}function N(e,t){if(1&e&&c.Tb(0,"span",2),2&e){var n=t.$implicit;c.Jb("ant-slider-mark-active",n.active),c.sc("ngStyle",n.style)("innerHTML",n.label,c.Dc)}}function q(e,t){if(1&e&&c.Tb(0,"span",2),2&e){var n=t.$implicit;c.Jb("ant-slider-dot-active",n.active),c.sc("ngStyle",n.style)}}function U(e){return e instanceof Array&&2===e.length}function $(e){return e instanceof Object}var W,H,G,K,Z,Q,ee,te=((Q=function(){function e(t,n){_classCallCheck(this,e),this.cdr=t,this.platform=n,this.nzDisabled=!1,this.nzDots=!1,this.nzIncluded=!0,this.nzRange=!1,this.nzVertical=!1,this.nzDefaultValue=null,this.nzMarks=null,this.nzMax=100,this.nzMin=0,this.nzStep=1,this.nzTooltipVisible="default",this.nzTooltipPlacement="top",this.nzOnAfterChange=new c.n,this.value=null,this.cacheSliderStart=null,this.cacheSliderLength=null,this.activeValueIndex=void 0,this.track={offset:null,length:null},this.bounds={lower:null,upper:null},this.isDragging=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.handles=this.generateHandles(this.nzRange?2:1),this.sliderDOM=this.slider.nativeElement,this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null,this.platform.isBrowser&&this.createDraggingObservables(),this.toggleDragDisabled(this.nzDisabled),null===this.getValue()&&this.setValue(this.formatValue(null))}},{key:"ngOnChanges",value:function(e){var t=e.nzDisabled,n=e.nzMarks,i=e.nzRange;t&&!t.firstChange?this.toggleDragDisabled(t.currentValue):n&&!n.firstChange?this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null:i&&!i.firstChange&&this.setValue(this.formatValue(null))}},{key:"ngOnDestroy",value:function(){this.unsubscribeDrag()}},{key:"writeValue",value:function(e){this.setValue(e,!0)}},{key:"onValueChange",value:function(e){}},{key:"onTouched",value:function(){}},{key:"registerOnChange",value:function(e){this.onValueChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.nzDisabled=e,this.toggleDragDisabled(e)}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.value=this.formatValue(e),this.updateTrackAndHandles()):this.valuesEqual(this.value,e)||(this.value=e,this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0)))}},{key:"getValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.value&&U(this.value)?Object(m.N)(this.value).sort((function(e,t){return e-t})):this.value}},{key:"getValueToOffset",value:function(e){var t=this,n=e;return void 0===n&&(n=this.getValue(!0)),U(n)?n.map((function(e){return t.valueToOffset(e)})):this.valueToOffset(n)}},{key:"setActiveValueIndex",value:function(e){var t=this.getValue();if(U(t)){var n,i=null,o=-1;t.forEach((function(t,r){n=Math.abs(e-t),(null===i||n<i)&&(i=n,o=r)})),this.activeValueIndex=o}}},{key:"setActiveValue",value:function(e){if(U(this.value)){var t=Object(m.N)(this.value);t[this.activeValueIndex]=e,this.setValue(t)}else this.setValue(e)}},{key:"updateTrackAndHandles",value:function(){var e,t,n=this.getValue(),i=this.getValueToOffset(n),o=this.getValue(!0),r=this.getValueToOffset(o),s=U(o)?o:[0,o],c=U(r)?[r[0],r[1]-r[0]]:[0,r];this.handles.forEach((function(e,t){e.offset=U(i)?i[t]:i,e.value=U(n)?n[t]:n||0})),e=_slicedToArray(s,2),this.bounds.lower=e[0],this.bounds.upper=e[1],t=_slicedToArray(c,2),this.track.offset=t[0],this.track.length=t[1],this.cdr.markForCheck()}},{key:"onDragStart",value:function(e){this.toggleDragMoving(!0),this.cacheSliderProperty(),this.setActiveValueIndex(e),this.setActiveValue(e),this.showHandleTooltip(this.nzRange?this.activeValueIndex:0)}},{key:"onDragMove",value:function(e){this.setActiveValue(e),this.cdr.markForCheck()}},{key:"onDragEnd",value:function(){this.nzOnAfterChange.emit(this.getValue(!0)),this.toggleDragMoving(!1),this.cacheSliderProperty(!0),this.hideAllHandleTooltip(),this.cdr.markForCheck()}},{key:"createDraggingObservables",value:function(){var e=this,t=this.sliderDOM,n=this.nzVertical?"pageY":"pageX",i={start:"mousedown",move:"mousemove",end:"mouseup",pluckKey:[n]},o={start:"touchstart",move:"touchmove",end:"touchend",pluckKey:["touches","0",n],filter:function(e){return e instanceof TouchEvent}};[i,o].forEach((function(n){var i=n.start,o=n.move,r=n.end,s=n.pluckKey,c=n.filter,a=void 0===c?function(){return!0}:c;n.startPlucked$=Object(l.a)(t,i).pipe(Object(h.a)(a),Object(b.a)(m.O),f.apply(void 0,_toConsumableArray(s)),Object(p.a)((function(t){return e.findClosestValue(t)}))),n.end$=Object(l.a)(document,r),n.moveResolved$=Object(l.a)(document,o).pipe(Object(h.a)(a),Object(b.a)(m.O),f.apply(void 0,_toConsumableArray(s)),Object(g.a)(),Object(p.a)((function(t){return e.findClosestValue(t)})),Object(g.a)(),Object(v.a)(n.end$))})),this.dragStart$=Object(u.a)(i.startPlucked$,o.startPlucked$),this.dragMove$=Object(u.a)(i.moveResolved$,o.moveResolved$),this.dragEnd$=Object(u.a)(i.end$,o.end$)}},{key:"subscribeDrag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["start","move","end"];-1!==e.indexOf("start")&&this.dragStart$&&!this.dragStart_&&(this.dragStart_=this.dragStart$.subscribe(this.onDragStart.bind(this))),-1!==e.indexOf("move")&&this.dragMove$&&!this.dragMove_&&(this.dragMove_=this.dragMove$.subscribe(this.onDragMove.bind(this))),-1!==e.indexOf("end")&&this.dragEnd$&&!this.dragEnd_&&(this.dragEnd_=this.dragEnd$.subscribe(this.onDragEnd.bind(this)))}},{key:"unsubscribeDrag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["start","move","end"];-1!==e.indexOf("start")&&this.dragStart_&&(this.dragStart_.unsubscribe(),this.dragStart_=null),-1!==e.indexOf("move")&&this.dragMove_&&(this.dragMove_.unsubscribe(),this.dragMove_=null),-1!==e.indexOf("end")&&this.dragEnd_&&(this.dragEnd_.unsubscribe(),this.dragEnd_=null)}},{key:"toggleDragMoving",value:function(e){var t=["move","end"];e?(this.isDragging=!0,this.subscribeDrag(t)):(this.isDragging=!1,this.unsubscribeDrag(t))}},{key:"toggleDragDisabled",value:function(e){e?this.unsubscribeDrag():this.subscribeDrag(["start"])}},{key:"findClosestValue",value:function(e){var t=this.getSliderStartPosition(),n=this.getSliderLength(),i=Object(m.C)((e-t)/n,0,1),o=(this.nzMax-this.nzMin)*(this.nzVertical?1-i:i)+this.nzMin,r=null===this.nzMarks?[]:Object.keys(this.nzMarks).map(parseFloat);if(null!==this.nzStep&&!this.nzDots){var s=Math.round(o/this.nzStep)*this.nzStep;r.push(s)}var c=r.map((function(e){return Math.abs(o-e)})),a=r[c.indexOf(Math.min.apply(Math,_toConsumableArray(c)))];return null===this.nzStep?a:parseFloat(a.toFixed(Object(m.I)(this.nzStep)))}},{key:"valueToOffset",value:function(e){return Object(m.G)(this.nzMin,this.nzMax,e)}},{key:"getSliderStartPosition",value:function(){if(null!==this.cacheSliderStart)return this.cacheSliderStart;var e=Object(m.F)(this.sliderDOM);return this.nzVertical?e.top:e.left}},{key:"getSliderLength",value:function(){if(null!==this.cacheSliderLength)return this.cacheSliderLength;var e=this.sliderDOM;return this.nzVertical?e.clientHeight:e.clientWidth}},{key:"cacheSliderProperty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cacheSliderStart=e?null:this.getSliderStartPosition(),this.cacheSliderLength=e?null:this.getSliderLength()}},{key:"formatValue",value:function(e){var t=this;return this.assertValueValid(e)?U(e)?e.map((function(e){return Object(m.C)(e,t.nzMin,t.nzMax)})):Object(m.C)(e,this.nzMin,this.nzMax):null===this.nzDefaultValue?this.nzRange?[this.nzMin,this.nzMax]:this.nzMin:this.nzDefaultValue}},{key:"assertValueValid",value:function(e){return!(!Array.isArray(e)&&isNaN("number"!=typeof e?parseFloat(e):e))&&this.assertValueTypeMatch(e)}},{key:"assertValueTypeMatch",value:function(e){if(e){if(U(e)!==this.nzRange)throw new Error('The "nzRange" can\'t match the "ngModel"\'s type, please check these properties: "nzRange", "ngModel", "nzDefaultValue".');return!0}return!0}},{key:"valuesEqual",value:function(e,t){return typeof e==typeof t&&(U(e)&&U(t)?Object(m.A)(e,t):e===t)}},{key:"showHandleTooltip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.handles.forEach((function(t,n){t.active=n===e}))}},{key:"hideAllHandleTooltip",value:function(){this.handles.forEach((function(e){return e.active=!1}))}},{key:"generateHandles",value:function(e){return Array(e).fill(0).map((function(){return{offset:null,value:null,active:!1}}))}},{key:"generateMarkItems",value:function(e){var t=[];for(var n in e){var i=e[n],o="number"==typeof n?n:parseFloat(n);o>=this.nzMin&&o<=this.nzMax&&t.push({value:o,offset:this.valueToOffset(o),config:i})}return t.length?t:null}}]),e}()).\u0275fac=function(e){return new(e||Q)(c.Sb(c.h),c.Sb(s.a))},Q.\u0275cmp=c.Mb({type:Q,selectors:[["nz-slider"]],viewQuery:function(e,t){var n;1&e&&c.Hc(D,!0),2&e&&c.zc(n=c.hc())&&(t.slider=n.first)},inputs:{nzDisabled:"nzDisabled",nzDots:"nzDots",nzIncluded:"nzIncluded",nzRange:"nzRange",nzVertical:"nzVertical",nzDefaultValue:"nzDefaultValue",nzMarks:"nzMarks",nzMax:"nzMax",nzMin:"nzMin",nzStep:"nzStep",nzTooltipVisible:"nzTooltipVisible",nzTooltipPlacement:"nzTooltipPlacement",nzTipFormatter:"nzTipFormatter"},outputs:{nzOnAfterChange:"nzOnAfterChange"},exportAs:["nzSlider"],features:[c.Db([{provide:a.g,useExisting:Object(c.W)((function(){return Q})),multi:!0}]),c.Cb()],decls:7,vars:13,consts:[[1,"ant-slider"],["slider",""],[1,"ant-slider-rail"],[3,"nzVertical","nzIncluded","nzOffset","nzLength"],[3,"nzVertical","nzLowerBound","nzUpperBound","nzMarksArray","nzIncluded",4,"ngIf"],[3,"nzVertical","nzOffset","nzValue","nzActive","nzTipFormatter","nzTooltipVisible","nzTooltipPlacement",4,"ngFor","ngForOf"],[3,"nzVertical","nzMin","nzMax","nzLowerBound","nzUpperBound","nzMarksArray","nzIncluded",4,"ngIf"],[3,"nzVertical","nzLowerBound","nzUpperBound","nzMarksArray","nzIncluded"],[3,"nzVertical","nzOffset","nzValue","nzActive","nzTipFormatter","nzTooltipVisible","nzTooltipPlacement"],[3,"nzVertical","nzMin","nzMax","nzLowerBound","nzUpperBound","nzMarksArray","nzIncluded"]],template:function(e,t){1&e&&(c.Yb(0,"div",0,1),c.Tb(2,"div",2),c.Tb(3,"nz-slider-track",3),c.Jc(4,F,1,5,"nz-slider-step",4),c.Jc(5,A,1,7,"nz-slider-handle",5),c.Jc(6,R,1,7,"nz-slider-marks",6),c.Xb()),2&e&&(c.Jb("ant-slider-disabled",t.nzDisabled)("ant-slider-vertical",t.nzVertical)("ant-slider-with-marks",t.marksArray),c.Eb(3),c.sc("nzVertical",t.nzVertical)("nzIncluded",t.nzIncluded)("nzOffset",t.track.offset)("nzLength",t.track.length),c.Eb(1),c.sc("ngIf",t.marksArray),c.Eb(1),c.sc("ngForOf",t.handles),c.Eb(1),c.sc("ngIf",t.marksArray))},directives:function(){return[re,i.k,i.j,oe,ne,ie]},encapsulation:2,changeDetection:0}),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],Q.prototype,"nzDisabled",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Boolean)],Q.prototype,"nzDots",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Boolean)],Q.prototype,"nzIncluded",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Boolean)],Q.prototype,"nzRange",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Boolean)],Q.prototype,"nzVertical",void 0),Q),ne=((Z=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.sliderComponent=t,this.cdr=n,this.nzTooltipVisible="default",this.nzActive=!1,this.style={},this.hovers_=new d.a,this.enterHandle=function(){i.sliderComponent.isDragging||(i.toggleTooltip(!0),i.updateTooltipPosition(),i.cdr.detectChanges())},this.leaveHandle=function(){i.sliderComponent.isDragging||(i.toggleTooltip(!1),i.cdr.detectChanges())}}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this,n=e.nzOffset,i=e.nzValue,o=e.nzActive,r=e.nzTooltipVisible;n&&this.updateStyle(),i&&(this.updateTooltipTitle(),this.updateTooltipPosition()),o&&this.toggleTooltip(!!o.currentValue),r&&"always"===r.currentValue&&Promise.resolve().then((function(){return t.toggleTooltip(!0,!0)}))}},{key:"ngOnDestroy",value:function(){this.hovers_.unsubscribe()}},{key:"toggleTooltip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(t||"default"===this.nzTooltipVisible&&this.tooltip)&&(e?this.tooltip.show():this.tooltip.hide())}},{key:"updateTooltipTitle",value:function(){this.tooltipTitle=this.nzTipFormatter?this.nzTipFormatter(this.nzValue):"".concat(this.nzValue)}},{key:"updateTooltipPosition",value:function(){var e=this;this.tooltip&&Promise.resolve().then((function(){return e.tooltip.updatePosition()}))}},{key:"updateStyle",value:function(){this.style[this.nzVertical?"bottom":"left"]="".concat(this.nzOffset,"%"),this.cdr.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||Z)(c.Sb(te),c.Sb(c.h))},Z.\u0275cmp=c.Mb({type:Z,selectors:[["nz-slider-handle"]],viewQuery:function(e,t){var n;1&e&&c.Oc(I,!0),2&e&&c.zc(n=c.hc())&&(t.tooltip=n.first)},hostBindings:function(e,t){1&e&&c.gc("mouseenter",(function(e){return t.enterHandle()}))("mouseleave",(function(e){return t.leaveHandle()}))},inputs:{nzTooltipVisible:"nzTooltipVisible",nzActive:"nzActive",nzVertical:"nzVertical",nzOffset:"nzOffset",nzValue:"nzValue",nzTooltipPlacement:"nzTooltipPlacement",nzTipFormatter:"nzTipFormatter"},exportAs:["nzSliderHandle"],features:[c.Cb()],decls:2,vars:2,consts:[["nz-tooltip","","class","ant-slider-handle",3,"ngStyle","nzTitle","nzTrigger","nzPlacement",4,"ngIf"],["class","ant-slider-handle",3,"ngStyle",4,"ngIf"],["nz-tooltip","",1,"ant-slider-handle",3,"ngStyle","nzTitle","nzTrigger","nzPlacement"],[1,"ant-slider-handle",3,"ngStyle"]],template:function(e,t){1&e&&(c.Jc(0,B,1,4,"div",0),c.Jc(1,J,1,1,"div",1)),2&e&&(c.sc("ngIf",null!==t.nzTipFormatter&&"never"!==t.nzTooltipVisible),c.Eb(1),c.sc("ngIf",null===t.nzTipFormatter||"never"===t.nzTooltipVisible))},directives:[i.k,I,i.l],encapsulation:2,changeDetection:0}),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],Z.prototype,"nzActive",void 0),Z),ie=((K=function(){function e(){_classCallCheck(this,e),this.nzLowerBound=null,this.nzUpperBound=null,this.nzVertical=!1,this.nzIncluded=!1}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.nzMarksArray&&this.buildMarks(),(e.nzMarksArray||e.nzLowerBound||e.nzUpperBound)&&this.togglePointActive()}},{key:"trackById",value:function(e,t){return t.value}},{key:"buildMarks",value:function(){var e=this,t=this.nzMax-this.nzMin;this.marks=this.nzMarksArray.map((function(n){var i=n.value,o=n.offset,r=n.config,s=e.getMarkStyles(i,t,r);return{label:$(r)?r.label:r,offset:o,style:s,value:i,config:r,active:!1}}))}},{key:"getMarkStyles",value:function(e,t,n){var i;return i=this.nzVertical?{marginBottom:"-50%",bottom:"".concat((e-this.nzMin)/t*100,"%")}:{transform:"translate3d(-50%, 0, 0)",left:"".concat((e-this.nzMin)/t*100,"%")},$(n)&&n.style&&(i=Object.assign({},i,n.style)),i}},{key:"togglePointActive",value:function(){var e=this;this.marks&&null!==this.nzLowerBound&&null!==this.nzUpperBound&&this.marks.forEach((function(t){var n=t.value;t.active=!e.nzIncluded&&n===e.nzUpperBound||e.nzIncluded&&n<=e.nzUpperBound&&n>=e.nzLowerBound}))}}]),e}()).\u0275fac=function(e){return new(e||K)},K.\u0275cmp=c.Mb({type:K,selectors:[["nz-slider-marks"]],inputs:{nzLowerBound:"nzLowerBound",nzUpperBound:"nzUpperBound",nzVertical:"nzVertical",nzIncluded:"nzIncluded",nzMarksArray:"nzMarksArray",nzMin:"nzMin",nzMax:"nzMax"},exportAs:["nzSliderMarks"],features:[c.Cb()],decls:2,vars:2,consts:[[1,"ant-slider-mark"],["class","ant-slider-mark-text",3,"ant-slider-mark-active","ngStyle","innerHTML",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-mark-text",3,"ngStyle","innerHTML"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Jc(1,N,1,4,"span",1),c.Xb()),2&e&&(c.Eb(1),c.sc("ngForOf",t.marks)("ngForTrackBy",t.trackById))},directives:[i.j,i.l],encapsulation:2,changeDetection:0}),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],K.prototype,"nzVertical",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],K.prototype,"nzIncluded",void 0),K),oe=((G=function(){function e(){_classCallCheck(this,e),this.nzLowerBound=null,this.nzUpperBound=null,this.nzVertical=!1,this.nzIncluded=!1}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.nzMarksArray&&this.buildSteps(),(e.nzMarksArray||e.nzLowerBound||e.nzUpperBound)&&this.togglePointActive()}},{key:"trackById",value:function(e,t){return t.value}},{key:"buildSteps",value:function(){var e=this.nzVertical?"bottom":"left";this.steps=this.nzMarksArray.map((function(t){var n=t.value,i=t.offset;return{value:n,offset:i,config:t.config,active:!1,style:_defineProperty({},e,"".concat(i,"%"))}}))}},{key:"togglePointActive",value:function(){var e=this;this.steps&&null!==this.nzLowerBound&&null!==this.nzUpperBound&&this.steps.forEach((function(t){var n=t.value;t.active=!e.nzIncluded&&n===e.nzUpperBound||e.nzIncluded&&n<=e.nzUpperBound&&n>=e.nzLowerBound}))}}]),e}()).\u0275fac=function(e){return new(e||G)},G.\u0275cmp=c.Mb({type:G,selectors:[["nz-slider-step"]],inputs:{nzLowerBound:"nzLowerBound",nzUpperBound:"nzUpperBound",nzVertical:"nzVertical",nzIncluded:"nzIncluded",nzMarksArray:"nzMarksArray"},exportAs:["nzSliderStep"],features:[c.Cb()],decls:2,vars:2,consts:[[1,"ant-slider-step"],["class","ant-slider-dot",3,"ant-slider-dot-active","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-dot",3,"ngStyle"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Jc(1,q,1,3,"span",1),c.Xb()),2&e&&(c.Eb(1),c.sc("ngForOf",t.steps)("ngForTrackBy",t.trackById))},directives:[i.j,i.l],encapsulation:2,changeDetection:0}),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],G.prototype,"nzVertical",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],G.prototype,"nzIncluded",void 0),G),re=((H=function(){function e(){_classCallCheck(this,e),this.nzVertical=!1,this.nzIncluded=!1,this.style={}}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.nzIncluded&&(this.style.visibility=this.nzIncluded?"visible":"hidden"),(e.nzVertical||e.nzOffset||e.nzLength)&&(this.nzVertical?(this.style.bottom="".concat(this.nzOffset,"%"),this.style.height="".concat(this.nzLength,"%"),this.style.left=null,this.style.width=null):(this.style.left="".concat(this.nzOffset,"%"),this.style.width="".concat(this.nzLength,"%"),this.style.bottom=null,this.style.height=null))}}]),e}()).\u0275fac=function(e){return new(e||H)},H.\u0275cmp=c.Mb({type:H,selectors:[["nz-slider-track"]],inputs:{nzVertical:"nzVertical",nzIncluded:"nzIncluded",nzOffset:"nzOffset",nzLength:"nzLength"},exportAs:["nzSliderTrack"],features:[c.Cb()],decls:1,vars:1,consts:[[1,"ant-slider-track",3,"ngStyle"]],template:function(e,t){1&e&&c.Tb(0,"div",0),2&e&&c.sc("ngStyle",t.style)},directives:[i.l],encapsulation:2,changeDetection:0}),Object(r.b)([Object(m.e)(),Object(r.d)("design:type",Number)],H.prototype,"nzOffset",void 0),Object(r.b)([Object(m.e)(),Object(r.d)("design:type",Number)],H.prototype,"nzLength",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],H.prototype,"nzVertical",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],H.prototype,"nzIncluded",void 0),H),se=((W=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:W}),W.\u0275inj=c.Pb({factory:function(e){return new(e||W)},imports:[[i.c,s.b,V]]}),W),ce=n("EY2u"),ae=n("itXk"),le=n("CqXF"),ue=n("Kj3r"),de=(n("IzEk"),n("3+Bf")),he=n("6KbF"),be=n("OzZK"),pe=n("FwiY"),fe=(n("2Vo4"),n("3UWI"),n("JX91"),n("5+tZ"),n("tyNb")),ge=((ee=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:ee}),ee.\u0275inj=c.Pb({factory:function(e){return new(e||ee)},imports:[[i.c,a.f,s.b,be.c,y.g,pe.b,m.p,m.g]]}),ee);function ve(e,t){if(1&e){var n=c.Zb();c.Yb(0,"div",1),c.gc("mouseenter",(function(e){return c.Cc(n),c.kc(2).setVisibleStateWhen(!0,"hover")}))("mouseleave",(function(e){return c.Cc(n),c.kc(2).setVisibleStateWhen(!1,"hover")})),c.Yb(1,"div"),c.qc(2),c.Xb(),c.Xb()}if(2&e){var i=c.kc(2);c.Gb("ant-dropdown nz-dropdown ant-dropdown-placement-"+i.nzPlacement),c.sc("ngClass",i.nzOverlayClassName)("ngStyle",i.nzOverlayStyle)("@slideMotion",i.dropDownPosition)("@.disabled",null==i.noAnimation?null:i.noAnimation.nzNoAnimation)("nzNoAnimation",null==i.noAnimation?null:i.noAnimation.nzNoAnimation),c.Eb(1),c.Jb("ant-table-filter-dropdown",i.nzTableFilter)}}function me(e,t){if(1&e&&c.Jc(0,ve,3,10,"div",0),2&e){var n=c.kc();c.sc("ngIf",n.open)}}var ye,ze=["*"],ke=((ye=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).isInDropDown=!0,e}return _inherits(t,e),t}(m.n)).\u0275fac=function(e){return xe(e||ye)},ye.\u0275prov=c.Ob({token:ye,factory:ye.\u0275fac}),ye);function Ce(e){return e.get(ke)}var Oe,we,Te,Se,Me,Pe=((we=function(){function e(t,n,i,o,r,s){_classCallCheck(this,e),this.cdr=t,this.elementRef=n,this.renderer=i,this.viewContainerRef=o,this.nzMenuDropdownService=r,this.noAnimation=s,this.open=!1,this.triggerWidth=0,this.dropDownPosition="bottom",this.visible$=new z.a,this.nzTrigger="hover",this.nzPlacement="bottomLeft",this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzTableFilter=!1}return _createClass(e,[{key:"setVisibleStateWhen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";this.nzTrigger!==t&&"all"!==t||this.visible$.next(e)}},{key:"setValue",value:function(e,t){this[e]=t,this.cdr.markForCheck()}},{key:"ngAfterContentInit",value:function(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}}]),e}()).\u0275fac=function(e){return new(e||we)(c.Sb(c.h),c.Sb(c.l),c.Sb(c.E),c.Sb(c.Q),c.Sb(ke),c.Sb(m.o,9))},we.\u0275cmp=c.Mb({type:we,selectors:[["nz-dropdown-menu"]],viewQuery:function(e,t){var n;1&e&&c.Hc(c.M,!0),2&e&&c.zc(n=c.hc())&&(t.templateRef=n.first)},exportAs:["nzDropdownMenu"],features:[c.Db([ke,{provide:m.m,useFactory:Ce,deps:[[new c.J,c.r]]}])],ngContentSelectors:ze,decls:1,vars:0,consts:[[3,"class","ngClass","ngStyle","nzNoAnimation","mouseenter","mouseleave",4,"ngIf"],[3,"ngClass","ngStyle","nzNoAnimation","mouseenter","mouseleave"]],template:function(e,t){1&e&&(c.rc(),c.Jc(0,me,1,1,"ng-template"))},directives:[i.k,i.i,i.l,m.o],styles:["\n      :root .ant-dropdown.nz-dropdown {\n        top: 0;\n        left: 0;\n        position: relative;\n        width: 100%;\n        margin-top: 4px;\n        margin-bottom: 4px;\n      }\n    "],encapsulation:2,data:{animation:[m.Q]},changeDetection:0}),we),_e=((Oe=function(){function e(t,n,i,o,r,s,a){_classCallCheck(this,e),this.elementRef=t,this.renderer=n,this.overlay=i,this.platform=o,this.nzButtonComponent=r,this.nzButtonGroupComponent=s,this.viewContainerRef=a,this.overlayRef=null,this.destroy$=new z.a,this.triggerWidth=0,this.el=this.elementRef.nativeElement,this.dropdownOpen=!1,this.positions=_toConsumableArray(m.a),this.positionSubscription=d.a.EMPTY,this.overlaySubscription=d.a.EMPTY,this.hover$=Object(u.a)(Object(l.a)(this.el,"mouseenter").pipe(Object(le.a)(!0)),Object(l.a)(this.el,"mouseleave").pipe(Object(le.a)(!1))),this.$click=Object(l.a)(this.el,"click").pipe(Object(b.a)((function(e){return e.stopPropagation()})),Object(le.a)(!0)),this.nzTrigger="hover",this.nzBackdrop=!0,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzTableFilter=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new c.n,n.addClass(t.nativeElement,"ant-dropdown-trigger"),this.nzButtonComponent&&(this.nzButtonComponent.isInDropdown=!0),this.nzButtonGroupComponent&&(this.nzButtonGroupComponent.isInDropdown=!0)}return _createClass(e,[{key:"setDisabled",value:function(e){e?(this.renderer.setAttribute(this.el,"disabled",""),this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(this.nzVisible),this.updateOverlayByVisible())):this.renderer.removeAttribute(this.el,"disabled")}},{key:"getOverlayConfig",value:function(){return new y.e({positionStrategy:this.overlay.position().flexibleConnectedTo(this.el).withLockedPosition(),minWidth:this.triggerWidth,hasBackdrop:"click"===this.nzTrigger,backdropClass:this.nzBackdrop?void 0:"nz-overlay-transparent-backdrop",scrollStrategy:this.overlay.scrollStrategies.reposition()})}},{key:"createOverlay",value:function(){if(this.overlayRef){var e=this.overlayRef.getConfig();return this.updateOverlayConfig(e),this.overlayRef}var t=this.getOverlayConfig();return this.overlayRef=this.overlay.create(t),this.subscribeOverlayEvent(this.overlayRef),this.subscribeToPositions(t.positionStrategy),this.overlayRef}},{key:"updateOverlayConfig",value:function(e){return e.minWidth=this.triggerWidth,e.hasBackdrop="click"===this.nzTrigger,e}},{key:"dispose",value:function(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null,this.positionSubscription.unsubscribe(),this.overlaySubscription.unsubscribe())}},{key:"subscribeToPositions",value:function(e){var t=this;this.positionSubscription.unsubscribe(),this.positionSubscription=e.positionChanges.pipe(Object(v.a)(this.destroy$)).subscribe((function(e){t.nzDropdownMenu.setValue("dropDownPosition",e.connectionPair.originY)}))}},{key:"subscribeOverlayEvent",value:function(e){var t=this;this.overlaySubscription.unsubscribe(),this.overlaySubscription=Object(u.a)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Object(h.a)((function(e){return e.keyCode===de.e&&!Object(de.n)(e)})))).pipe(Object(v.a)(this.destroy$)).subscribe((function(){t.nzDropdownMenu.setVisibleStateWhen(!1)}))}},{key:"getPortal",value:function(){return this.portal&&this.portal.templateRef===this.nzDropdownMenu.templateRef||(this.portal=new he.f(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.portal}},{key:"openMenu",value:function(){if(!this.dropdownOpen){var e=this.createOverlay(),t=e.getConfig();this.nzDropdownMenu.setValue("open",!0),this.setPosition(t.positionStrategy),e.attach(this.getPortal()),this.dropdownOpen=!0}}},{key:"closeMenu",value:function(){this.overlayRef&&(this.overlayRef.detach(),this.dropdownOpen=!1,this.nzDropdownMenu.setValue("open",!1))}},{key:"setPosition",value:function(e){this.positionStrategy=e,e.withPositions(_toConsumableArray(this.positions))}},{key:"updatePositionStrategy",value:function(e){this.positionStrategy&&this.positionStrategy.withPositions(e)}},{key:"setTriggerWidth",value:function(){this.platform.isBrowser&&(this.triggerWidth=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:this.el).getBoundingClientRect().width)}},{key:"initActionSubscribe",value:function(){var e=this,t="hover"===this.nzTrigger?this.hover$:this.$click,n=this.nzDropdownMenu.visible$,i=this.nzClickHide?this.nzDropdownMenu.nzMenuDropdownService.menuItemClick$.pipe(Object(le.a)(!1)):ce.a,o=Object(u.a)(n,t,i),r=this.nzDropdownMenu.nzMenuDropdownService.menuOpen$;Object(ae.a)([o,r]).pipe(Object(p.a)((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return n||i})),Object(ue.a)(50),Object(g.a)(),Object(v.a)(this.destroy$)).subscribe((function(t){e.nzDisabled||e.nzVisible===t||(e.nzVisible=t,e.updateOverlayByVisible(),e.nzVisibleChange.emit(e.nzVisible),e.setTriggerWidth(),e.nzDropdownMenu.setValue("triggerWidth",e.triggerWidth))}))}},{key:"updateOverlayByVisible",value:function(){this.nzVisible?this.openMenu():this.closeMenu()}},{key:"updateDisabledState",value:function(){this.setDisabled(this.nzDisabled)}},{key:"regeneratePosition",value:function(e,t){return[m.x[e]].concat(_toConsumableArray(t))}},{key:"ngAfterViewInit",value:function(){this.nzDropdownMenu&&(this.setTriggerWidth(),this.initActionSubscribe(),this.updateDisabledState())}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete(),this.dispose()}},{key:"ngOnChanges",value:function(e){var t=e.nzVisible,n=e.nzTrigger,i=e.nzPlacement,o=e.nzDisabled,r=e.nzOverlayClassName,s=e.nzOverlayStyle,c=e.nzTableFilter;this.nzDropdownMenu&&(t&&(this.updateOverlayByVisible(),this.nzDropdownMenu.visible$.next(this.nzVisible)),n&&this.nzDropdownMenu.setValue("nzTrigger",this.nzTrigger),c&&this.nzDropdownMenu.setValue("nzTableFilter",this.nzTableFilter),r&&this.nzDropdownMenu.setValue("nzOverlayClassName",this.nzOverlayClassName),s&&this.nzDropdownMenu.setValue("nzOverlayStyle",this.nzOverlayStyle),i&&(this.nzDropdownMenu.setValue("nzPlacement",this.nzPlacement),this.nzDropdownMenu.setValue("dropDownPosition",-1!==this.nzDropdownMenu.nzPlacement.indexOf("top")?"top":"bottom"),this.positions=this.regeneratePosition(this.nzPlacement,this.positions),this.updatePositionStrategy(this.positions))),o&&this.updateDisabledState()}}]),e}()).\u0275fac=function(e){return new(e||Oe)(c.Sb(c.l),c.Sb(c.E),c.Sb(y.d),c.Sb(s.a),c.Sb(be.a,9),c.Sb(be.b,8),c.Sb(c.Q))},Oe.\u0275dir=c.Nb({type:Oe,selectors:[["","nz-dropdown",""]],inputs:{nzTrigger:"nzTrigger",nzBackdrop:"nzBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzTableFilter:"nzTableFilter",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement",nzDropdownMenu:"nzDropdownMenu",nzMatchWidthElement:"nzMatchWidthElement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[c.Cb()]}),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],Oe.prototype,"nzBackdrop",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],Oe.prototype,"nzClickHide",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],Oe.prototype,"nzDisabled",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],Oe.prototype,"nzVisible",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],Oe.prototype,"nzTableFilter",void 0),Oe),xe=c.ac(ke),Xe=((Me=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:Me}),Me.\u0275inj=c.Pb({factory:function(e){return new(e||Me)}}),Me),Ye=((Se=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:Se}),Se.\u0275inj=c.Pb({factory:function(e){return new(e||Se)}}),Se),Le=((Te=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:Te}),Te.\u0275inj=c.Pb({factory:function(e){return new(e||Te)},imports:[[i.c,y.g,a.f,be.c,ge,pe.b,s.b,m.p,m.q,Xe,Ye,m.g],ge]}),Te),Ee=n("tk/3"),je=n("LRne"),Ie=n("HDdC"),Ve=n("eIep"),De=n("R0Ic"),Fe=n("Rm4T");function Ae(e,t){if(1&e&&(c.Wb(0),c.Tb(1,"i",8),c.Vb()),2&e){var n=c.kc(3);c.Eb(1),c.sc("nzType",n.icon)}}function Re(e,t){if(1&e&&c.Lc(0),2&e){var n=c.kc(3);c.Nc(" ",n.formatter(n.nzPercent)," ")}}function Be(e,t){if(1&e&&(c.Yb(0,"span",5),c.Jc(1,Ae,2,1,"ng-container",6),c.Jc(2,Re,1,1,"ng-template",null,7,c.Kc),c.Xb()),2&e){var n=c.Ac(3),i=c.kc(2);c.Eb(1),c.sc("ngIf","exception"===i.status||"success"===i.status&&!i.nzFormat)("ngIfElse",n)}}function Je(e,t){if(1&e&&c.Jc(0,Be,4,2,"span",4),2&e){var n=c.kc();c.sc("ngIf",n.nzShowInfo)}}function Ne(e,t){if(1&e&&c.Tb(0,"div",14),2&e){var n=c.kc(2);c.Ic("width",n.nzSuccessPercent,"%")("border-radius","round"===n.nzStrokeLinecap?"100px":"0")("height",n.strokeWidth,"px")}}function qe(e,t){}function Ue(e,t){if(1&e&&(c.Yb(0,"div"),c.Yb(1,"div",9),c.Yb(2,"div",10),c.Tb(3,"div",11),c.Jc(4,Ne,1,6,"div",12),c.Xb(),c.Xb(),c.Jc(5,qe,0,0,"ng-template",13),c.Xb()),2&e){var n=c.kc(),i=c.Ac(1);c.Eb(3),c.Ic("width",n.nzPercent,"%")("border-radius","round"===n.nzStrokeLinecap?"100px":"0")("background",n.isGradient?null:n.nzStrokeColor,c.Lb)("background-image",n.isGradient?n.lineGradient:null,c.Lb)("height",n.strokeWidth,"px"),c.Eb(1),c.sc("ngIf",n.nzSuccessPercent||0===n.nzSuccessPercent),c.Eb(1),c.sc("ngTemplateOutlet",i)}}function $e(e,t){if(1&e&&(c.jc(),c.Tb(0,"stop")),2&e){var n=t.$implicit;c.Fb("offset",n.offset)("stop-color",n.color)}}function We(e,t){if(1&e&&(c.jc(),c.Yb(0,"defs"),c.Yb(1,"linearGradient",18),c.Jc(2,$e,1,2,"stop",19),c.Xb(),c.Xb()),2&e){var n=c.kc(2);c.Eb(1),c.sc("id","gradient-"+n.gradientId),c.Eb(1),c.sc("ngForOf",n.circleGradient)}}function He(e,t){if(1&e&&(c.jc(),c.Tb(0,"path",20)),2&e){var n=t.$implicit,i=c.kc(2);c.sc("ngStyle",n.strokePathStyle),c.Fb("d",i.pathString)("stroke-linecap",i.nzStrokeLinecap)("stroke",n.stroke)("stroke-width",i.nzPercent?i.strokeWidth:0)}}function Ge(e,t){1&e&&c.jc()}function Ke(e,t){if(1&e&&(c.Yb(0,"div",10),c.jc(),c.Yb(1,"svg",15),c.Jc(2,We,3,2,"defs",2),c.Tb(3,"path",16),c.Jc(4,He,1,5,"path",17),c.Xb(),c.Jc(5,Ge,0,0,"ng-template",13),c.Xb()),2&e){var n=c.kc(),i=c.Ac(1);c.Ic("width",n.nzWidth,"px")("height",n.nzWidth,"px")("font-size",.15*n.nzWidth+6,"px"),c.Jb("ant-progress-circle-gradient",n.isGradient),c.Eb(2),c.sc("ngIf",n.isGradient),c.Eb(1),c.sc("ngStyle",n.trailPathStyle),c.Fb("stroke-width",n.strokeWidth)("d",n.pathString),c.Eb(1),c.sc("ngForOf",n.progressCirclePath)("ngForTrackBy",n.trackByFn),c.Eb(1),c.sc("ngTemplateOutlet",i)}}var Ze,Qe,et=function(e){var t=[];return Object.keys(e).forEach((function(n){var i=e[n],o=+n.replace("%","");if(isNaN(o))return{};t.push({key:o,value:i})})),t=t.sort((function(e,t){return e.key-t.key}))},tt=0,nt=new Map([["success","check"],["exception","close"]]),it=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),ot=function(e){return"".concat(e,"%")},rt=((Qe=function(){function e(t){_classCallCheck(this,e),this.nzConfigService=t,this.nzWidth=132,this.nzPercent=0,this.nzType="line",this.lineGradient=null,this.isGradient=!1,this.gradientId=tt++,this.progressCirclePath=[],this.trackByFn=function(e){return"".concat(e)},this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new z.a}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=e.nzGapPosition,n=e.nzStrokeLinecap,i=e.nzStrokeColor,o=e.nzGapDegree,r=e.nzType,s=e.nzStatus,c=e.nzPercent,a=e.nzSuccessPercent;s&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(c||a)&&(parseInt(this.nzPercent.toString(),10)>=100?(Object(m.L)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(s||c||a)&&this.updateIcon(),i&&this.setStrokeColor(),(t||n||o||r||c||i)&&this.getCirclePaths()}},{key:"ngOnInit",value:function(){var e=this;this.nzConfigService.getConfigChangeEventForComponent("progress").pipe(Object(v.a)(this.destroy$)).subscribe((function(){e.updateIcon(),e.setStrokeColor(),e.getCirclePaths()}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"updateIcon",value:function(){var e=nt.get(this.status);this.icon=e?e+(this.isCircleStyle?"-o":"-circle-fill"):""}},{key:"getCirclePaths",value:function(){var e=this;if(this.isCircleStyle){var t=Object(m.L)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],n=50-this.strokeWidth/2,i=2*Math.PI*n,o=this.nzGapDegree||("circle"===this.nzType?0:75),r=0,s=-n,c=0,a=-2*n;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":r=-n,s=0,c=2*n,a=0;break;case"right":r=n,s=0,c=-2*n,a=0;break;case"bottom":s=n,a=2*n}this.pathString="M 50,50 m ".concat(r,",").concat(s,"\n       a ").concat(n,",").concat(n," 0 1 1 ").concat(c,",").concat(-a,"\n       a ").concat(n,",").concat(n," 0 1 1 ").concat(-c,",").concat(a),this.trailPathStyle={strokeDasharray:"".concat(i-o,"px ").concat(i,"px"),strokeDashoffset:"-".concat(o/2,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=t.map((function(n,r){var s=2===t.length&&0===r;return{stroke:e.isGradient&&!s?"url(#gradient-".concat(e.gradientId,")"):null,strokePathStyle:{stroke:e.isGradient?null:s?it.get("success"):e.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:"".concat((n||0)/100*(i-o),"px ").concat(i,"px"),strokeDashoffset:"-".concat(o/2,"px")}}})).reverse()}}},{key:"setStrokeColor",value:function(){var e,t,n,i,o,s,c,a,l=this.nzStrokeColor,u=this.isGradient=!!l&&"string"!=typeof l;u&&!this.isCircleStyle?this.lineGradient=(t=(e=l).from,n=void 0===t?"#1890ff":t,i=e.to,o=void 0===i?"#1890ff":i,s=e.direction,c=void 0===s?"to right":s,a=Object(r.f)(e,["from","to","direction"]),0!==Object.keys(a).length?"linear-gradient(".concat(c,", ").concat(et(a).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", "),")"):"linear-gradient(".concat(c,", ").concat(n,", ").concat(o,")")):u&&this.isCircleStyle?this.circleGradient=et(this.nzStrokeColor).map((function(e){var t=e.key,n=e.value;return{offset:"".concat(t,"%"),color:n}})):(this.lineGradient=null,this.circleGradient=[])}},{key:"formatter",get:function(){return this.nzFormat||ot}},{key:"status",get:function(){return this.nzStatus||this.inferredStatus}},{key:"strokeWidth",get:function(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}},{key:"isCircleStyle",get:function(){return"circle"===this.nzType||"dashboard"===this.nzType}}]),e}()).\u0275fac=function(e){return new(e||Qe)(c.Sb(m.i))},Qe.\u0275cmp=c.Mb({type:Qe,selectors:[["nz-progress"]],inputs:{nzWidth:"nzWidth",nzPercent:"nzPercent",nzType:"nzType",nzShowInfo:"nzShowInfo",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap"},exportAs:["nzProgress"],features:[c.Cb()],decls:5,vars:11,consts:[["progressInfoTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["formatTemplate",""],["nz-icon","",3,"nzType"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(e,t){1&e&&(c.Jc(0,Je,1,1,"ng-template",null,0,c.Kc),c.Yb(2,"div",1),c.Jc(3,Ue,6,12,"div",2),c.Jc(4,Ke,6,15,"div",3),c.Xb()),2&e&&(c.Eb(2),c.Jb("ant-progress-line","line"==t.nzType)("ant-progress-small","small"==t.nzSize)("ant-progress-show-info",t.nzShowInfo)("ant-progress-circle",t.isCircleStyle),c.sc("ngClass","ant-progress ant-progress-status-"+t.status),c.Eb(1),c.sc("ngIf","line"===t.nzType),c.Eb(1),c.sc("ngIf",t.isCircleStyle))},directives:[i.i,i.k,pe.a,i.p,i.l,i.j],encapsulation:2,changeDetection:0}),Object(r.b)([Object(m.z)("progress",!0),Object(r.d)("design:type",Boolean)],Qe.prototype,"nzShowInfo",void 0),Object(r.b)([Object(m.z)("progress"),Object(r.d)("design:type",Object)],Qe.prototype,"nzStrokeColor",void 0),Object(r.b)([Object(m.z)("progress","default"),Object(r.d)("design:type",String)],Qe.prototype,"nzSize",void 0),Object(r.b)([Object(m.e)(),Object(r.d)("design:type",Number)],Qe.prototype,"nzSuccessPercent",void 0),Object(r.b)([Object(m.e)(),Object(r.d)("design:type",Number)],Qe.prototype,"nzPercent",void 0),Object(r.b)([Object(m.z)("progress"),Object(m.e)(),Object(r.d)("design:type",Number)],Qe.prototype,"nzStrokeWidth",void 0),Object(r.b)([Object(m.z)("progress"),Object(m.e)(),Object(r.d)("design:type",Number)],Qe.prototype,"nzGapDegree",void 0),Object(r.b)([Object(m.z)("progress","top"),Object(r.d)("design:type",String)],Qe.prototype,"nzGapPosition",void 0),Object(r.b)([Object(m.z)("progress","round"),Object(r.d)("design:type",String)],Qe.prototype,"nzStrokeLinecap",void 0),Qe),st=((Ze=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:Ze}),Ze.\u0275inj=c.Pb({factory:function(e){return new(e||Ze)},imports:[[i.c,pe.b]]}),Ze),ct=["file"],at=["nz-upload-btn",""],lt=["*"];function ut(e,t){if(1&e&&(c.Yb(0,"div",14),c.Lc(1),c.Xb()),2&e){var n=c.kc(4);c.Eb(1),c.Mc(n.locale.uploading)}}function dt(e,t){if(1&e&&(c.Wb(0),c.Jc(1,ut,2,1,"div",13),c.Vb()),2&e){c.kc();var n=c.Ac(2),i=c.kc().$implicit,o=c.kc();c.Eb(1),c.sc("ngIf","picture-card"===o.listType&&"uploading"===i.status)("ngIfElse",n)}}function ht(e,t){1&e&&c.Tb(0,"i",16)}function bt(e,t){if(1&e&&c.Jc(0,ht,1,0,"i",15),2&e){c.kc();var n=c.Ac(4),i=c.kc().$implicit;c.sc("ngIf",!i.thumbUrl&&!i.url)("ngIfElse",n)}}function pt(e,t){if(1&e&&c.Tb(0,"img",19),2&e){var n=c.kc(3).$implicit;c.sc("src",n.thumbUrl||n.url,c.Ec),c.Fb("alt",n.name)}}function ft(e,t){if(1&e){var n=c.Zb();c.Yb(0,"a",17),c.gc("click",(function(e){c.Cc(n);var t=c.kc(2).$implicit;return c.kc().handlePreview(t,e)})),c.Jc(1,pt,1,2,"img",18),c.Xb()}if(2&e){c.kc();var i=c.Ac(6),o=c.kc().$implicit,r=c.kc();c.sc("href",o.thumbUrl||o.url,c.Ec),c.Eb(1),c.sc("ngIf",r.isImageUrl(o))("ngIfElse",i)}}function gt(e,t){1&e&&c.Tb(0,"i",20)}function vt(e,t){if(1&e&&c.Tb(0,"i",21),2&e){var n=c.kc(2).$implicit;c.sc("nzType","uploading"===n.status?"loading":"paper-clip")}}function mt(e,t){if(1&e&&(c.Jc(0,dt,2,2,"ng-container",6),c.Jc(1,bt,1,2,"ng-template",null,9,c.Kc),c.Jc(3,ft,2,3,"ng-template",null,10,c.Kc),c.Jc(5,gt,1,0,"ng-template",null,11,c.Kc),c.Jc(7,vt,1,1,"ng-template",null,12,c.Kc)),2&e){var n=c.Ac(8),i=c.kc(2);c.sc("ngIf",i.showPic)("ngIfElse",n)}}function yt(e,t){if(1&e){var n=c.Zb();c.Wb(0),c.Yb(1,"a",23),c.gc("click",(function(e){c.Cc(n);var t=c.kc(2).$implicit;return c.kc().handlePreview(t,e)})),c.Lc(2),c.Xb(),c.Vb()}if(2&e){var i=c.kc(2).$implicit;c.Eb(1),c.tc("title",i.name),c.sc("href",i.thumbUrl||i.url,c.Ec),c.Fb("download",i.linkProps&&i.linkProps.download),c.Eb(1),c.Mc(i.name)}}function zt(e,t){if(1&e){var n=c.Zb();c.Yb(0,"span",24),c.gc("click",(function(e){c.Cc(n);var t=c.kc(2).$implicit;return c.kc().handlePreview(t,e)})),c.Lc(1),c.Xb()}if(2&e){var i=c.kc(2).$implicit;c.tc("title",i.name),c.Eb(1),c.Mc(i.name)}}function kt(e,t){if(1&e&&(c.Jc(0,yt,3,4,"ng-container",6),c.Jc(1,zt,2,2,"ng-template",null,22,c.Kc)),2&e){var n=c.Ac(2),i=c.kc().$implicit;c.sc("ngIf",i.url)("ngIfElse",n)}}function Ct(e,t){}function Ot(e,t){}function wt(e,t){if(1&e&&(c.Yb(0,"span",25),c.Jc(1,Ct,0,0,"ng-template",26),c.Jc(2,Ot,0,0,"ng-template",26),c.Xb()),2&e){var n=c.kc().$implicit,i=c.Ac(2),o=c.Ac(4);c.sc("nzTitle",n.message),c.Eb(1),c.sc("ngTemplateOutlet",i),c.Eb(1),c.sc("ngTemplateOutlet",o)}}function Tt(e,t){}function St(e,t){}function Mt(e,t){if(1&e&&(c.Yb(0,"span"),c.Jc(1,Tt,0,0,"ng-template",26),c.Jc(2,St,0,0,"ng-template",26),c.Xb()),2&e){c.kc();var n=c.Ac(2),i=c.Ac(4);c.Eb(1),c.sc("ngTemplateOutlet",n),c.Eb(1),c.sc("ngTemplateOutlet",i)}}var Pt=function(){return{opacity:.5,"pointer-events":"none"}};function _t(e,t){if(1&e){var n=c.Zb();c.Yb(0,"a",30),c.gc("click",(function(e){c.Cc(n);var t=c.kc(2).$implicit;return c.kc().handlePreview(t,e)})),c.Tb(1,"i",31),c.Xb()}if(2&e){var i=c.kc(2).$implicit,o=c.kc();c.tc("title",o.locale.previewFile),c.sc("href",i.thumbUrl||i.url,c.Ec)("ngStyle",!(i.url||i.thumbUrl)&&c.vc(3,Pt))}}function xt(e,t){if(1&e){var n=c.Zb();c.Yb(0,"i",32),c.gc("click",(function(e){c.Cc(n);var t=c.kc(2).$implicit;return c.kc().handleRemove(t,e)})),c.Xb()}if(2&e){var i=c.kc(3);c.tc("title",i.locale.removeFile)}}function Xt(e,t){if(1&e&&(c.Wb(0),c.Yb(1,"span",27),c.Jc(2,_t,2,4,"a",28),c.Jc(3,xt,1,1,"i",29),c.Xb(),c.Vb()),2&e){var n=c.kc().$implicit,i=c.kc();c.Eb(2),c.sc("ngIf",i.showPreview(n)),c.Eb(1),c.sc("ngIf",i.icons.showRemoveIcon)}}function Yt(e,t){if(1&e){var n=c.Zb();c.Yb(0,"i",34),c.gc("click",(function(e){c.Cc(n);var t=c.kc(2).$implicit;return c.kc().handleRemove(t,e)})),c.Xb()}if(2&e){var i=c.kc(3);c.tc("title",i.locale.removeFile)}}function Lt(e,t){if(1&e&&c.Jc(0,Yt,1,1,"i",33),2&e){var n=c.kc(2);c.sc("ngIf",n.icons.showRemoveIcon)}}function Et(e,t){if(1&e&&(c.Yb(0,"div",35),c.Tb(1,"nz-progress",36),c.Xb()),2&e){var n=c.kc().$implicit;c.Eb(1),c.sc("nzPercent",n.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function jt(e,t){if(1&e&&(c.Yb(0,"div"),c.Jc(1,mt,9,2,"ng-template",null,1,c.Kc),c.Jc(3,kt,3,2,"ng-template",null,2,c.Kc),c.Yb(5,"div",3),c.Jc(6,wt,3,3,"span",4),c.Jc(7,Mt,3,2,"span",5),c.Xb(),c.Jc(8,Xt,4,2,"ng-container",6),c.Jc(9,Lt,1,1,"ng-template",null,7,c.Kc),c.Jc(11,Et,2,3,"div",8),c.Xb()),2&e){var n=t.$implicit,i=c.Ac(10),o=c.kc();c.Hb("ant-upload-list-item ant-upload-list-item-",n.status,""),c.sc("@itemState",void 0),c.Eb(6),c.sc("ngIf","error"===n.status),c.Eb(1),c.sc("ngIf","error"!==n.status),c.Eb(1),c.sc("ngIf","picture-card"===o.listType&&"uploading"!==n.status)("ngIfElse",i),c.Eb(3),c.sc("ngIf","uploading"===n.status)}}var It=["uploadComp"],Vt=["listComp"],Dt=function(){return[]};function Ft(e,t){if(1&e&&c.Tb(0,"nz-upload-list",6,7),2&e){var n=c.kc();c.Ic("display",n.nzShowUploadList?"":"none"),c.sc("locale",n.locale)("listType",n.nzListType)("items",n.nzFileList||c.vc(8,Dt))("icons",n.nzShowUploadList)("onPreview",n.nzPreview)("onRemove",n.onRemove)}}function At(e,t){1&e&&c.qc(0)}function Rt(e,t){}function Bt(e,t){if(1&e&&(c.Yb(0,"div",8),c.Yb(1,"div",9,10),c.Jc(3,Rt,0,0,"ng-template",11),c.Xb(),c.Xb()),2&e){var n=c.kc(),i=c.Ac(3);c.Ic("display",n.nzShowButton?"":"none"),c.sc("ngClass",n.classList),c.Eb(1),c.sc("options",n._btnOptions),c.Eb(2),c.sc("ngTemplateOutlet",i)}}function Jt(e,t){}function Nt(e,t){}var qt=function(){return{"ant-upload-btn":!0}};function Ut(e,t){if(1&e){var n=c.Zb();c.Wb(0),c.Yb(1,"div",12),c.gc("drop",(function(e){return c.Cc(n),c.kc().fileDrop(e)}))("dragover",(function(e){return c.Cc(n),c.kc().fileDrop(e)}))("dragleave",(function(e){return c.Cc(n),c.kc().fileDrop(e)})),c.Yb(2,"div",13,10),c.Yb(4,"div",14),c.Jc(5,Jt,0,0,"ng-template",11),c.Xb(),c.Xb(),c.Xb(),c.Jc(6,Nt,0,0,"ng-template",11),c.Vb()}if(2&e){var i=c.kc(),o=c.Ac(3),r=c.Ac(1);c.Eb(1),c.sc("ngClass",i.classList),c.Eb(1),c.sc("options",i._btnOptions)("classes",c.vc(5,qt)),c.Eb(3),c.sc("ngTemplateOutlet",o),c.Eb(1),c.sc("ngTemplateOutlet",r)}}function $t(e,t){}function Wt(e,t){}function Ht(e,t){if(1&e&&(c.Wb(0),c.Jc(1,$t,0,0,"ng-template",11),c.Jc(2,Wt,0,0,"ng-template",11),c.Vb()),2&e){c.kc(2);var n=c.Ac(1),i=c.Ac(5);c.Eb(1),c.sc("ngTemplateOutlet",n),c.Eb(1),c.sc("ngTemplateOutlet",i)}}function Gt(e,t){if(1&e&&c.Jc(0,Ht,3,2,"ng-container",3),2&e){var n=c.kc(),i=c.Ac(10);c.sc("ngIf","picture-card"===n.nzListType)("ngIfElse",i)}}function Kt(e,t){}function Zt(e,t){}function Qt(e,t){if(1&e&&(c.Jc(0,Kt,0,0,"ng-template",11),c.Jc(1,Zt,0,0,"ng-template",11)),2&e){c.kc();var n=c.Ac(5),i=c.Ac(1);c.sc("ngTemplateOutlet",n),c.Eb(1),c.sc("ngTemplateOutlet",i)}}var en,tn,nn,on,rn=((on=function(){function e(t,n,i){if(_classCallCheck(this,e),this.http=t,this.el=n,this.updateHostClassService=i,this.reqs={},this.inited=!1,this.destroy=!1,this.classes={},this.prefixCls="ant-upload",!t)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}return _createClass(e,[{key:"onClick",value:function(){!this.options.disabled&&this.options.openFileDialogOnClick&&this.file.nativeElement.click()}},{key:"onKeyDown",value:function(e){this.options.disabled||"Enter"!==e.key&&e.keyCode!==de.d||this.onClick()}},{key:"onFileDrop",value:function(e){var t=this;if(this.options.disabled||"dragover"===e.type)e.preventDefault();else{if(this.options.directory)this.traverseFileTree(e.dataTransfer.items);else{var n=Array.prototype.slice.call(e.dataTransfer.files).filter((function(e){return t.attrAccept(e,t.options.accept)}));n.length&&this.uploadFiles(n)}e.preventDefault()}}},{key:"onChange",value:function(e){if(!this.options.disabled){var t=e.target;this.uploadFiles(t.files),t.value=""}}},{key:"traverseFileTree",value:function(e){var t=this,n=function e(n,i){n.isFile?n.file((function(e){t.attrAccept(e,t.options.accept)&&t.uploadFiles([e])})):n.isDirectory&&n.createReader().readEntries((function(t){var o=!0,r=!1,s=void 0;try{for(var c,a=t[Symbol.iterator]();!(o=(c=a.next()).done);o=!0){var l=c.value;e(l,"".concat(i).concat(n.name,"/"))}}catch(u){r=!0,s=u}finally{try{o||null==a.return||a.return()}finally{if(r)throw s}}}))},i=!0,o=!1,r=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0)n(s.value.webkitGetAsEntry(),"")}catch(a){o=!0,r=a}finally{try{i||null==c.return||c.return()}finally{if(o)throw r}}}},{key:"attrAccept",value:function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),i=""+e.name,o=""+e.type,r=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?-1!==i.toLowerCase().indexOf(t.toLowerCase(),i.toLowerCase().length-t.toLowerCase().length):/\/\*$/.test(t)?r===t.replace(/\/.*$/,""):o===t}))}return!0}},{key:"attachUid",value:function(e){return e.uid||(e.uid=Math.random().toString(36).substring(2)),e}},{key:"uploadFiles",value:function(e){var t=this,n=Object(je.a)(Array.prototype.slice.call(e));this.options.filters&&this.options.filters.forEach((function(e){n=n.pipe(Object(Ve.a)((function(t){var n=e.fn(t);return n instanceof Ie.a?n:Object(je.a)(n)})))})),n.subscribe((function(e){e.forEach((function(n){t.attachUid(n),t.upload(n,e)}))}),(function(e){Object(m.T)("Unhandled upload filter error",e)}))}},{key:"upload",value:function(e,t){var n=this;if(!this.options.beforeUpload)return this.post(e);var i=this.options.beforeUpload(e,t);if(i instanceof Ie.a)i.subscribe((function(t){var i=Object.prototype.toString.call(t);"[object File]"===i||"[object Blob]"===i?(n.attachUid(t),n.post(t)):"boolean"==typeof t&&!1!==t&&n.post(e)}),(function(e){Object(m.T)("Unhandled upload beforeUpload error",e)}));else if(!1!==i)return this.post(e)}},{key:"post",value:function(e){var t=this;if(!this.destroy){var n=this.options,i=e.uid,o=n.data,r=n.headers;"function"==typeof o&&(o=o(e)),"function"==typeof r&&(r=r(e));var s={action:n.action,name:n.name,headers:r,file:e,data:o,withCredentials:n.withCredentials,onProgress:n.onProgress?function(t){n.onProgress(t,e)}:void 0,onSuccess:function(o,r){t.clean(i),n.onSuccess(o,e,r)},onError:function(o){t.clean(i),n.onError(o,e)}},c=(n.customRequest||this.xhr).call(this,s);c instanceof d.a||Object(m.T)("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[i]=c,n.onStart(e)}}},{key:"xhr",value:function(e){var t=this,n=new FormData;n.append(e.name,e.file),e.data&&Object.keys(e.data).map((function(t){n.append(t,e.data[t])})),e.headers||(e.headers={}),null!==e.headers["X-Requested-With"]?e.headers["X-Requested-With"]="XMLHttpRequest":delete e.headers["X-Requested-With"];var i=new Ee.g("POST",e.action,n,{reportProgress:!0,withCredentials:e.withCredentials,headers:new Ee.f(e.headers)});return this.http.request(i).subscribe((function(t){t.type===Ee.e.UploadProgress?(t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t,e.file)):t instanceof Ee.h&&e.onSuccess(t.body,e.file,t)}),(function(n){t.abort(e.file),e.onError(n,e.file)}))}},{key:"clean",value:function(e){var t=this.reqs[e];t instanceof d.a&&t.unsubscribe(),delete this.reqs[e]}},{key:"abort",value:function(e){var t=this;e?this.clean(e&&e.uid):Object.keys(this.reqs).forEach((function(e){return t.clean(e)}))}},{key:"setClassMap",value:function(){var e,t=Object.assign((_defineProperty(e={},this.prefixCls,!0),_defineProperty(e,"".concat(this.prefixCls,"-disabled"),this.options.disabled),e),this.classes);this.updateHostClassService.updateHostClass(this.el.nativeElement,t)}},{key:"ngOnInit",value:function(){this.inited=!0,this.setClassMap()}},{key:"ngOnChanges",value:function(){this.inited&&this.setClassMap()}},{key:"ngOnDestroy",value:function(){this.destroy=!0,this.abort()}}]),e}()).\u0275fac=function(e){return new(e||on)(c.Sb(Ee.c,8),c.Sb(c.l),c.Sb(m.u))},on.\u0275cmp=c.Mb({type:on,selectors:[["","nz-upload-btn",""]],viewQuery:function(e,t){var n;1&e&&c.Oc(ct,!0),2&e&&c.zc(n=c.hc())&&(t.file=n.first)},hostVars:2,hostBindings:function(e,t){1&e&&c.gc("click",(function(e){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))("drop",(function(e){return t.onFileDrop(e)}))("dragover",(function(e){return t.onFileDrop(e)})),2&e&&c.Fb("tabindex","0")("role","button")},inputs:{classes:"classes",options:"options"},exportAs:["nzUploadBtn"],features:[c.Db([m.u]),c.Cb()],attrs:at,ngContentSelectors:lt,decls:3,vars:4,consts:[["type","file",2,"display","none",3,"multiple","change"],["file",""]],template:function(e,t){1&e&&(c.rc(),c.Yb(0,"input",0,1),c.gc("change",(function(e){return t.onChange(e)})),c.Xb(),c.qc(2)),2&e&&(c.sc("multiple",t.options.multiple),c.Fb("accept",t.options.accept)("directory",t.options.directory?"directory":null)("webkitdirectory",t.options.directory?"webkitdirectory":null))},encapsulation:2}),on),sn=((nn=function(){function e(t,n,i,o){_classCallCheck(this,e),this.el=t,this.cdr=n,this.updateHostClassService=i,this.platform=o,this.imageTypes=["image","webp","png","svg","gif","jpg","jpeg","bmp"],this.locale={},this.prefixCls="ant-upload-list"}return _createClass(e,[{key:"setClassMap",value:function(){var e;this.updateHostClassService.updateHostClass(this.el.nativeElement,(_defineProperty(e={},this.prefixCls,!0),_defineProperty(e,"".concat(this.prefixCls,"-").concat(this.listType),!0),e))}},{key:"extname",value:function(e){var t=e.split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]}},{key:"isImageUrl",value:function(e){if(~this.imageTypes.indexOf(e.type))return!0;var t=e.thumbUrl||e.url||"";if(!t)return!1;var n=this.extname(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|bmp)$/i.test(n))||!/^data:/.test(t)&&!n}},{key:"previewFile",value:function(e,t){e.type&&-1===this.imageTypes.indexOf(e.type)&&t("");var n=new FileReader;n.onloadend=function(){return t(n.result)},n.readAsDataURL(e)}},{key:"genThumb",value:function(){var e=this;if(this.platform.isBrowser){var t=window;this.showPic&&"undefined"!=typeof document&&void 0!==t&&t.FileReader&&t.File&&this.items.filter((function(e){return e.originFileObj instanceof File&&void 0===e.thumbUrl})).forEach((function(t){t.thumbUrl="",e.previewFile(t.originFileObj,(function(n){t.thumbUrl=n,e.detectChanges()}))}))}}},{key:"showPreview",value:function(e){var t=this.icons,n=t.showPreviewIcon,i=t.hidePreviewIconInNonImage;return!(!n||!this.isImageUrl(e)&&i)}},{key:"handlePreview",value:function(e,t){if(this.onPreview)return t.preventDefault(),this.onPreview(e)}},{key:"handleRemove",value:function(e,t){t.preventDefault(),this.onRemove&&this.onRemove(e)}},{key:"detectChanges",value:function(){this.cdr.detectChanges()}},{key:"ngOnChanges",value:function(){this.setClassMap(),this.genThumb()}},{key:"showPic",get:function(){return"picture"===this.listType||"picture-card"===this.listType}},{key:"items",set:function(e){e.forEach((function(e){e.linkProps="string"==typeof e.linkProps?JSON.parse(e.linkProps):e.linkProps})),this._items=e},get:function(){return this._items}}]),e}()).\u0275fac=function(e){return new(e||nn)(c.Sb(c.l),c.Sb(c.h),c.Sb(m.u),c.Sb(s.a))},nn.\u0275cmp=c.Mb({type:nn,selectors:[["nz-upload-list"]],inputs:{locale:"locale",items:"items",listType:"listType",icons:"icons",onPreview:"onPreview",onRemove:"onRemove"},exportAs:["nzUploadList"],features:[c.Db([m.u]),c.Cb()],decls:1,vars:1,consts:[[3,"class",4,"ngFor","ngForOf"],["icon",""],["preview",""],[1,"ant-upload-list-item-info"],["nz-tooltip","",3,"nzTitle",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["close",""],["class","ant-upload-list-item-progress",4,"ngIf"],["thumbUrlCheck",""],["thumbTpl",""],["noThumbTpl",""],["noPicTpl",""],["class","ant-upload-list-item-uploading-text",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-uploading-text"],["class","ant-upload-list-item-thumbnail","nz-icon","","nzType","picture","nzTheme","twotone",4,"ngIf","ngIfElse"],["nz-icon","","nzType","picture","nzTheme","twotone",1,"ant-upload-list-item-thumbnail"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"href","click"],[3,"src",4,"ngIf","ngIfElse"],[3,"src"],["nz-icon","","nzType","file","nzTheme","twotone",1,"ant-upload-list-item-icon"],["nz-icon","",3,"nzType"],["prevText",""],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"href","title","click"],[1,"ant-upload-list-item-name",3,"title","click"],["nz-tooltip","",3,"nzTitle"],[3,"ngTemplateOutlet"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","title","ngStyle","click",4,"ngIf"],["nz-icon","","nzType","delete",3,"title","click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href","title","ngStyle","click"],["nz-icon","","nzType","eye-o"],["nz-icon","","nzType","delete",3,"title","click"],["nz-icon","","nzType","close",3,"title","click",4,"ngIf"],["nz-icon","","nzType","close",3,"title","click"],[1,"ant-upload-list-item-progress"],[3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(e,t){1&e&&c.Jc(0,jt,12,9,"div",0),2&e&&c.sc("ngForOf",t.items)},directives:[i.j,i.k,pe.a,I,i.p,i.l,rt],encapsulation:2,data:{animation:[Object(De.j)("itemState",[Object(De.i)(":enter",[Object(De.h)({height:"0",width:"0",opacity:0}),Object(De.e)(150,Object(De.h)({height:"*",width:"*",opacity:1}))]),Object(De.i)(":leave",[Object(De.e)(150,Object(De.h)({height:"0",width:"0",opacity:0}))])])]},changeDetection:0}),nn),cn=((tn=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.cdr=t,this.i18n=n,this.locale={},this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzChange=new c.n,this.nzFileListChange=new c.n,this.onStart=function(e){i.nzFileList||(i.nzFileList=[]);var t=i.fileToObject(e);t.status="uploading",i.nzFileList=i.nzFileList.concat(t),i.nzFileListChange.emit(i.nzFileList),i.nzChange.emit({file:t,fileList:i.nzFileList,type:"start"}),i.detectChangesList()},this.onProgress=function(e,t){var n=i.getFileItem(t,i.nzFileList);n.percent=e.percent,i.nzChange.emit({event:e,file:Object.assign({},n),fileList:i.nzFileList,type:"progress"}),i.detectChangesList()},this.onSuccess=function(e,t){var n=i.nzFileList,o=i.getFileItem(t,n);o.status="done",o.response=e,i.nzChange.emit({file:Object.assign({},o),fileList:n,type:"success"}),i.detectChangesList()},this.onError=function(e,t){var n=i.nzFileList,o=i.getFileItem(t,n);o.error=e,o.status="error",o.message=i.genErr(o),i.nzChange.emit({file:Object.assign({},o),fileList:n,type:"error"}),i.detectChangesList()},this.onRemove=function(e){i.uploadComp.abort(e),e.status="removed";var t="function"==typeof i.nzRemove?i.nzRemove(e):null==i.nzRemove||i.nzRemove;(t instanceof Ie.a?t:Object(je.a)(t)).pipe(Object(h.a)((function(e){return e}))).subscribe((function(){i.nzFileList=i.removeFileItem(e,i.nzFileList),i.nzChange.emit({file:e,fileList:i.nzFileList,type:"removed"}),i.nzFileListChange.emit(i.nzFileList),i.cdr.detectChanges()}))},this.prefixCls="ant-upload",this.classList=[]}return _createClass(e,[{key:"zipOptions",value:function(){var e=this;"boolean"==typeof this.nzShowUploadList&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,hidePreviewIconInNonImage:!1});var t=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&-1===t.findIndex((function(e){return"limit"===e.name}))&&t.push({name:"limit",fn:function(t){return t.slice(-e.nzLimit)}}),this.nzSize>0&&-1===t.findIndex((function(e){return"size"===e.name}))&&t.push({name:"size",fn:function(t){return t.filter((function(t){return t.size/1024<=e.nzSize}))}}),this.nzFileType&&this.nzFileType.length>0&&-1===t.findIndex((function(e){return"type"===e.name}))){var n=this.nzFileType.split(",");t.push({name:"type",fn:function(e){return e.filter((function(e){return~n.indexOf(e.type)}))}})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:t,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}},{key:"fileToObject",value:function(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e}}},{key:"getFileItem",value:function(e,t){return t.filter((function(t){return t.uid===e.uid}))[0]}},{key:"removeFileItem",value:function(e,t){return t.filter((function(t){return t.uid!==e.uid}))}},{key:"genErr",value:function(e){return e.response&&"string"==typeof e.response?e.response:e.error&&e.error.statusText||this.locale.uploadError}},{key:"fileDrop",value:function(e){e.type!==this.dragState&&(this.dragState=e.type,this.setClassMap())}},{key:"detectChangesList",value:function(){this.cdr.detectChanges(),this.listComp.detectChanges()}},{key:"setClassMap",value:function(){var e=[];"drag"===this.nzType?(this.nzFileList.some((function(e){return"uploading"===e.status}))&&e.push("".concat(this.prefixCls,"-drag-uploading")),"dragover"===this.dragState&&e.push("".concat(this.prefixCls,"-drag-hover"))):e=["".concat(this.prefixCls,"-select-").concat(this.nzListType)],this.classList=[this.prefixCls,"".concat(this.prefixCls,"-").concat(this.nzType)].concat(_toConsumableArray(e),[this.nzDisabled&&"".concat(this.prefixCls,"-disabled")||""]).filter((function(e){return!!e})),this.cdr.detectChanges()}},{key:"ngOnInit",value:function(){var e=this;this.i18n$=this.i18n.localeChange.subscribe((function(){e.locale=e.i18n.getLocaleData("Upload"),e.detectChangesList()}))}},{key:"ngOnChanges",value:function(e){var t=this;e.nzFileList&&(this.nzFileList||[]).forEach((function(e){return e.message=t.genErr(e)})),this.zipOptions().setClassMap()}},{key:"ngOnDestroy",value:function(){this.i18n$.unsubscribe()}},{key:"nzShowUploadList",set:function(e){this._showUploadList="boolean"==typeof e?Object(m.R)(e):e},get:function(){return this._showUploadList}}]),e}()).\u0275fac=function(e){return new(e||tn)(c.Sb(c.h),c.Sb(Fe.c))},tn.\u0275cmp=c.Mb({type:tn,selectors:[["nz-upload"]],viewQuery:function(e,t){var n;1&e&&(c.Oc(It,!0),c.Oc(Vt,!0)),2&e&&(c.zc(n=c.hc())&&(t.uploadComp=n.first),c.zc(n=c.hc())&&(t.listComp=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&c.Jb("ant-upload-picture-card-wrapper","picture-card"===t.nzListType)},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzShowUploadList:"nzShowUploadList",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzHeaders:"nzHeaders",nzRemove:"nzRemove",nzPreview:"nzPreview"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],features:[c.Cb()],ngContentSelectors:lt,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],[4,"ngIf","ngIfElse"],["select",""],["pic",""],[3,"locale","listType","items","icons","onPreview","onRemove"],["listComp",""],[3,"ngClass"],["nz-upload-btn","",3,"options"],["uploadComp",""],[3,"ngTemplateOutlet"],[3,"ngClass","drop","dragover","dragleave"],["nz-upload-btn","",3,"options","classes"],[1,"ant-upload-drag-container"]],template:function(e,t){if(1&e&&(c.rc(),c.Jc(0,Ft,2,9,"ng-template",null,0,c.Kc),c.Jc(2,At,1,0,"ng-template",null,1,c.Kc),c.Jc(4,Bt,4,5,"ng-template",null,2,c.Kc),c.Jc(6,Ut,7,6,"ng-container",3),c.Jc(7,Gt,1,2,"ng-template",null,4,c.Kc),c.Jc(9,Qt,2,2,"ng-template",null,5,c.Kc)),2&e){var n=c.Ac(8);c.Eb(6),c.sc("ngIf","drag"===t.nzType)("ngIfElse",n)}},directives:[i.k,sn,i.i,rn,i.p],encapsulation:2,changeDetection:0}),Object(r.b)([Object(m.e)(),Object(r.d)("design:type",Object)],tn.prototype,"nzLimit",void 0),Object(r.b)([Object(m.e)(),Object(r.d)("design:type",Object)],tn.prototype,"nzSize",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],tn.prototype,"nzDirectory",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],tn.prototype,"nzOpenFileDialogOnClick",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],tn.prototype,"nzDisabled",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],tn.prototype,"nzMultiple",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],tn.prototype,"nzShowButton",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],tn.prototype,"nzWithCredentials",void 0),tn),an=((en=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:en}),en.\u0275inj=c.Pb({factory:function(e){return new(e||en)},imports:[[i.c,a.f,s.b,V,st,Fe.b,pe.b]]}),en),ln=n("Wfee"),un=n("tkJt"),dn=["drawerTemplate"];function hn(e,t){if(1&e){var n=c.Zb();c.Yb(0,"div",9),c.gc("click",(function(e){return c.Cc(n),c.kc(2).maskClick()})),c.Xb()}if(2&e){var i=c.kc(2);c.sc("ngStyle",i.nzMaskStyle)}}function bn(e,t){if(1&e&&(c.Wb(0),c.Tb(1,"div",14),c.Vb()),2&e){var n=c.kc(4);c.Eb(1),c.sc("innerHTML",n.nzTitle,c.Dc)}}function pn(e,t){if(1&e&&(c.Yb(0,"div",12),c.Jc(1,bn,2,1,"ng-container",13),c.Xb()),2&e){var n=c.kc(3);c.Eb(1),c.sc("nzStringTemplateOutlet",n.nzTitle)}}function fn(e,t){if(1&e){var n=c.Zb();c.Yb(0,"button",15),c.gc("click",(function(e){return c.Cc(n),c.kc(3).closeClick()})),c.Tb(1,"i",16),c.Xb()}}function gn(e,t){if(1&e&&(c.Yb(0,"div"),c.Jc(1,pn,2,1,"div",10),c.Jc(2,fn,2,0,"button",11),c.Xb()),2&e){var n=c.kc(2);c.Jb("ant-drawer-header",!!n.nzTitle)("ant-drawer-header-no-title",!!n.nzTitle),c.Eb(1),c.sc("ngIf",n.nzTitle),c.Eb(1),c.sc("ngIf",n.nzClosable)}}function vn(e,t){}function mn(e,t){1&e&&c.Ub(0)}function yn(e,t){if(1&e&&(c.Wb(0),c.Jc(1,mn,1,0,"ng-container",17),c.Vb()),2&e){var n=c.kc(2);c.Eb(1),c.sc("ngTemplateOutlet",n.nzContent)("ngTemplateOutletContext",n.templateContext)}}function zn(e,t){1&e&&c.qc(0,0,["*ngIf","!nzContent"])}function kn(e,t){if(1&e&&(c.Yb(0,"div",1),c.Jc(1,hn,1,1,"div",2),c.Yb(2,"div"),c.Yb(3,"div",3),c.Yb(4,"div",4),c.Jc(5,gn,3,6,"div",5),c.Yb(6,"div",6),c.Jc(7,vn,0,0,"ng-template",7),c.Jc(8,yn,2,2,"ng-container",8),c.Jc(9,zn,1,0,void 0,8),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e){var n=c.kc();c.Ic("transform",n.offsetTransform)("z-index",n.nzZIndex),c.Jb("ant-drawer-open",n.isOpen)("ant-drawer-top","top"===n.nzPlacement)("ant-drawer-bottom","bottom"===n.nzPlacement)("ant-drawer-right","right"===n.nzPlacement)("ant-drawer-left","left"===n.nzPlacement),c.sc("nzNoAnimation",n.nzNoAnimation),c.Eb(1),c.sc("ngIf",n.nzMask),c.Eb(1),c.Hb("ant-drawer-content-wrapper ",n.nzWrapClassName,""),c.Ic("width",n.width)("height",n.height)("transform",n.transform),c.Eb(2),c.Ic("height",n.isLeftOrRight?"100%":null),c.Eb(1),c.sc("ngIf",n.nzTitle||n.nzClosable),c.Eb(1),c.sc("ngStyle",n.nzBodyStyle),c.Eb(2),c.sc("ngIf",n.isTemplateRef(n.nzContent)),c.Eb(1),c.sc("ngIf",!n.nzContent)}}var Cn,On,wn,Tn,Sn,Mn=["*"],Pn=function e(){_classCallCheck(this,e)},_n=((wn=function(e){function t(e,n,i,o,r,s,a,l,u){var d;return _classCallCheck(this,t),(d=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).document=e,d.nzConfigService=n,d.renderer=i,d.overlay=o,d.injector=r,d.changeDetectorRef=s,d.focusTrapFactory=a,d.viewContainerRef=l,d.overlayKeyboardDispatcher=u,d.nzClosable=!0,d.nzNoAnimation=!1,d.nzKeyboard=!0,d.nzPlacement="right",d.nzMaskStyle={},d.nzBodyStyle={},d.nzWidth=256,d.nzHeight=256,d.nzZIndex=1e3,d.nzOffsetX=0,d.nzOffsetY=0,d.nzOnViewInit=new c.n,d.nzOnClose=new c.n,d.destroy$=new z.a,d.isOpen=!1,d.templateContext={$implicit:void 0,drawerRef:_assertThisInitialized(d)},d.nzAfterOpen=new z.a,d.nzAfterClose=new z.a,d}return _inherits(t,e),_createClass(t,[{key:"isTemplateRef",value:function(e){return e instanceof c.M}},{key:"ngOnInit",value:function(){this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}},{key:"ngAfterViewInit",value:function(){var e=this;this.attachBodyContent(),setTimeout((function(){e.nzOnViewInit.emit()}))}},{key:"ngOnChanges",value:function(e){e.hasOwnProperty("nzVisible")&&(e.nzVisible.currentValue?this.open():this.close())}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete(),this.disposeOverlay()}},{key:"getAnimationDuration",value:function(){return this.nzNoAnimation?0:300}},{key:"close",value:function(e){var t=this;this.isOpen=!1,this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout((function(){t.updateBodyOverflow(),t.restoreFocus(),t.nzAfterClose.next(e),t.nzAfterClose.complete()}),this.getAnimationDuration())}},{key:"open",value:function(){var e=this;this.isOpen=!0,this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout((function(){e.nzAfterOpen.next()}),this.getAnimationDuration())}},{key:"closeClick",value:function(){this.nzOnClose.emit()}},{key:"maskClick",value:function(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}},{key:"attachBodyContent",value:function(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof c.O){var e=new he.d(this.injector,new WeakMap([[Pn,this]])),t=new he.b(this.nzContent,null,e),n=this.bodyPortalOutlet.attachComponentPortal(t);Object.assign(n.instance,this.nzContentParams),n.changeDetectorRef.detectChanges()}}},{key:"attachOverlay",value:function(){var e=this;this.overlayRef||(this.portal=new he.f(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(Object(v.a)(this.destroy$)).subscribe((function(t){t.keyCode===de.e&&e.isOpen&&e.nzKeyboard&&e.nzOnClose.emit()})))}},{key:"disposeOverlay",value:function(){this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null}},{key:"getOverlayConfig",value:function(){return new y.e({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}},{key:"updateOverlayStyle",value:function(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}},{key:"updateBodyOverflow",value:function(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}},{key:"savePreviouslyFocusedElement",value:function(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.blur&&this.previouslyFocusedElement.blur())}},{key:"trapFocus",value:function(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}},{key:"restoreFocus",value:function(){this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()}},{key:"nzVisible",set:function(e){this.isOpen=e},get:function(){return this.isOpen}},{key:"offsetTransform",get:function(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return"translateX(".concat(this.nzOffsetX,"px)");case"right":return"translateX(-".concat(this.nzOffsetX,"px)");case"top":return"translateY(".concat(this.nzOffsetY,"px)");case"bottom":return"translateY(-".concat(this.nzOffsetY,"px)")}}},{key:"transform",get:function(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}},{key:"width",get:function(){return this.isLeftOrRight?Object(m.S)(this.nzWidth):null}},{key:"height",get:function(){return this.isLeftOrRight?null:Object(m.S)(this.nzHeight)}},{key:"isLeftOrRight",get:function(){return"left"===this.nzPlacement||"right"===this.nzPlacement}},{key:"afterOpen",get:function(){return this.nzAfterOpen.asObservable()}},{key:"afterClose",get:function(){return this.nzAfterClose.asObservable()}}]),t}(Pn)).\u0275fac=function(e){return new(e||wn)(c.Sb(i.d,8),c.Sb(m.i),c.Sb(c.E),c.Sb(y.d),c.Sb(c.r),c.Sb(c.h),c.Sb(un.a),c.Sb(c.Q),c.Sb(y.f))},wn.\u0275cmp=c.Mb({type:wn,selectors:[["nz-drawer"]],viewQuery:function(e,t){var n;1&e&&(c.Hc(dn,!0),c.Oc(he.a,!0)),2&e&&(c.zc(n=c.hc())&&(t.drawerTemplate=n.first),c.zc(n=c.hc())&&(t.bodyPortalOutlet=n.first))},inputs:{nzClosable:"nzClosable",nzNoAnimation:"nzNoAnimation",nzKeyboard:"nzKeyboard",nzPlacement:"nzPlacement",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:"nzVisible",nzContent:"nzContent",nzMaskClosable:"nzMaskClosable",nzMask:"nzMask",nzTitle:"nzTitle",nzWrapClassName:"nzWrapClassName"},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose"},exportAs:["nzDrawer"],features:[c.Bb,c.Cb()],ngContentSelectors:Mn,decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],["class","ant-drawer-mask",3,"ngStyle","click",4,"ngIf"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[3,"ant-drawer-header","ant-drawer-header-no-title",4,"ngIf"],[1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[4,"ngIf"],[1,"ant-drawer-mask",3,"ngStyle","click"],["class","ant-drawer-title",4,"ngIf"],["aria-label","Close","class","ant-drawer-close",3,"click",4,"ngIf"],[1,"ant-drawer-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"],["aria-label","Close",1,"ant-drawer-close",3,"click"],["nz-icon","","nzType","close"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(c.rc(),c.Jc(0,kn,10,31,"ng-template",null,0,c.Kc))},directives:[m.o,i.k,i.l,he.a,m.s,pe.a,i.p],encapsulation:2,changeDetection:0}),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Boolean)],wn.prototype,"nzClosable",void 0),Object(r.b)([Object(m.z)("drawer",!0),Object(m.d)(),Object(r.d)("design:type",Boolean)],wn.prototype,"nzMaskClosable",void 0),Object(r.b)([Object(m.z)("drawer",!0),Object(m.d)(),Object(r.d)("design:type",Boolean)],wn.prototype,"nzMask",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Object)],wn.prototype,"nzNoAnimation",void 0),Object(r.b)([Object(m.d)(),Object(r.d)("design:type",Boolean)],wn.prototype,"nzKeyboard",void 0),wn),xn=((On=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:On}),On.\u0275inj=c.Pb({factory:function(e){return new(e||On)}}),On),Xn=((Cn=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:Cn}),Cn.\u0275inj=c.Pb({factory:function(e){return new(e||Cn)},imports:[[i.c,y.g,he.e,pe.b,m.g,m.p,xn]]}),Cn),Yn=n("zAKX"),Ln=n("YqVT"),En=n("nYR2"),jn=n("Iab2"),In=n("AytR"),Vn=n("0bL0"),Dn=n("iYJU"),Fn=n("9uVP"),An=n("v+BZ"),Rn=n("2r3b"),Bn=((Tn=function(){function e(t){_classCallCheck(this,e),this.http=t,this.url=In.a.endpoints.api+"/tracks"}return _createClass(e,[{key:"getAll",value:function(){return this.http.get("".concat(this.url)).pipe()}},{key:"getByCategories",value:function(){return this.http.get("".concat(this.url,"/categories")).pipe()}}]),e}()).\u0275fac=function(e){return new(e||Tn)(c.cc(Ee.c))},Tn.\u0275prov=c.Ob({token:Tn,factory:Tn.\u0275fac,providedIn:"root"}),Tn),Jn=n("GKNv"),Nn=n("zV3j"),qn=((Sn=function e(){_classCallCheck(this,e),this.icon="ban",this.iconColor="red"}).\u0275fac=function(e){return new(e||Sn)},Sn.\u0275cmp=c.Mb({type:Sn,selectors:[["sqy-if-not-icon"]],inputs:{value:"value",icon:"icon",iconColor:"iconColor"},decls:2,vars:6,consts:[[3,"hidden"]],template:function(e,t){1&e&&(c.Lc(0),c.Tb(1,"i",0)),2&e&&(c.Nc("",t.value," "),c.Eb(1),c.Ib("",t.icon," ",t.iconColor," icon"),c.sc("hidden",t.value&&0!=t.value))},encapsulation:2}),Sn);function Un(e,t){if(1&e){var n=c.Zb();c.Yb(0,"div",10),c.gc("click",(function(e){c.Cc(n);var i=t.$implicit;return c.kc(2).changeColor(i)})),c.Xb()}2&e&&c.Ic("background",t.$implicit,c.Lb)}function $n(e,t){if(1&e){var n=c.Zb();c.Yb(0,"div",3),c.Yb(1,"div",4),c.Jc(2,Un,1,2,"div",5),c.Xb(),c.Yb(3,"div",6),c.Yb(4,"p"),c.Lc(5,"Hex Code"),c.Xb(),c.Yb(6,"div",7),c.Yb(7,"input",8,9),c.gc("keyup",(function(e){c.Cc(n);var t=c.Ac(8);return c.kc().changeColorManual(t.value)}))("keydown.enter",(function(e){return c.Cc(n),c.kc().toggleColors()})),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&e){var i=c.kc();c.Eb(2),c.sc("ngForOf",i.defaultColors),c.Eb(5),c.sc("value",i.color||null)}}var Wn,Hn=((Wn=function(){function e(){_classCallCheck(this,e),this.event=new c.n,this.show=!1,this.defaultColors=["#000105","#3e6158","#3f7a89","#96c582","#b7d5c4","#bcd6e7","#7c90c1","#9d8594","#dad0d8","#4b4fce","#4e0a77","#a367b5","#ee3e6d","#d63d62","#c6a670","#f46600","#cf0500","#efabbd","#8e0622","#f0b89a","#f0ca68","#62382f","#c97545","#c1800b"]}return _createClass(e,[{key:"changeColor",value:function(e){this.color=e,this.event.emit(this.color),this.show=!1}},{key:"changeColorManual",value:function(e){/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)&&(this.color=e,this.event.emit(this.color))}},{key:"toggleColors",value:function(){this.show=!this.show}}]),e}()).\u0275fac=function(e){return new(e||Wn)},Wn.\u0275cmp=c.Mb({type:Wn,selectors:[["sqy-color-picker"]],inputs:{heading:"heading",color:"color"},outputs:{event:"event"},decls:3,vars:2,consts:[[1,"color-picker"],["type","text","readonly","","name","track-color",3,"value","click"],["class","opened",4,"ngIf"],[1,"opened"],[1,"colors"],["class","circle",3,"background","click",4,"ngFor","ngForOf"],[1,"hex-code"],[1,"g-input"],["type","text","maxlength","7",3,"value","keyup","keydown.enter"],["paintInput",""],[1,"circle",3,"click"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"input",1),c.gc("click",(function(e){return t.toggleColors()})),c.Xb(),c.Jc(2,$n,9,2,"div",2),c.Xb()),2&e&&(c.Eb(1),c.sc("value",t.color||null),c.Eb(1),c.sc("ngIf",t.show))},directives:[i.k,i.j],styles:['.color-picker[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:40px;width:40px;box-sizing:border-box;border-radius:100%;cursor:pointer;border:1px solid #dadada;box-shadow:0 2px 4px 0 rgba(0,0,0,.14)}.color-picker[_ngcontent-%COMP%]   .opened[_ngcontent-%COMP%]{box-shadow:0 7px 13px 0 rgba(86,95,102,.07);background:#fff;max-width:240px;padding:15px;border-radius:5px;position:absolute;z-index:20;margin-top:15px}.color-picker[_ngcontent-%COMP%]   .opened[_ngcontent-%COMP%]:after{border:10px solid transparent;border-bottom-color:#fff;content:"";right:10px;position:absolute;top:-20px}.color-picker[_ngcontent-%COMP%]   .opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap}.color-picker[_ngcontent-%COMP%]   .opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{-webkit-box-flex:40px;flex:40px 0 0;margin-right:10px;margin-bottom:10px}.color-picker[_ngcontent-%COMP%]   .opened[_ngcontent-%COMP%]   .hex-code[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-top:20px}.color-picker[_ngcontent-%COMP%]   .opened[_ngcontent-%COMP%]   .hex-code[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50%;text-align:center;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;line-height:45px}.color-picker[_ngcontent-%COMP%]   .opened[_ngcontent-%COMP%]   .hex-code[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]{border:1px solid #e8ebed;height:45px;border-radius:5px;width:120px}.color-picker[_ngcontent-%COMP%]   .opened[_ngcontent-%COMP%]   .hex-code[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;width:100%;text-transform:uppercase;outline:none;text-align:center;letter-spacing:1.5px;color:#595b65;height:100%;border-radius:5px;margin:0;padding:0}']}),Wn);function Gn(e,t){1&e&&(c.Yb(0,"span",20),c.Lc(1,"Not a valid DNA sequence"),c.Xb())}var Kn,Zn,Qn=function(e){return{error:e}},ei=((Zn=function(){function e(t){_classCallCheck(this,e),this.builder=t,this.onSave=new c.n,this.changePos=new c.n,this.display=!1,this._track=null,this.trackForm=this.builder.group({label:[""],color:[""],sequence:["",a.q.pattern(Fn.a.dnaSeqRegex)]})}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTrackForm(e.track.currentValue)}},{key:"ngOnDestroy",value:function(){this._track=null}},{key:"updateTrackForm",value:function(e){this.trackForm.patchValue({label:e.label,color:e.color,sequence:e.sequence})}},{key:"setColor",value:function(e){this.trackForm.value.color=e}},{key:"onSubmit",value:function(){this.onSave.emit(this._track),this.display=!1}},{key:"updateTrack",value:function(){this._track.label=this.trackForm.value.label,this._track.color=this.trackForm.value.color,this._track.sequence=this.trackForm.value.sequence,this.onSave.emit(this._track)}},{key:"change",value:function(e){this.trackForm.touched&&this.trackForm.valid&&this.updateTrack(),e>-1&&e<this.max+1&&(this.changePos.emit(e),this.trackForm.reset())}},{key:"track",set:function(e){e&&(this._track=e,this.max=this.max||this._track.pos,this.updateTrackForm(e),this.display=!0)}},{key:"label",get:function(){return this.trackForm.get("label")}},{key:"color",get:function(){return this.trackForm.get("color")}},{key:"sequence",get:function(){return this.trackForm.get("sequence")}}]),e}()).\u0275fac=function(e){return new(e||Zn)(c.Sb(a.c))},Zn.\u0275cmp=c.Mb({type:Zn,selectors:[["sqy-track-details"]],inputs:{max:"max",track:"track"},outputs:{onSave:"onSave",changePos:"changePos"},features:[c.Cb()],decls:46,vars:17,consts:[[3,"nzVisible","nzWidth","nzOnClose"],[1,"ui","form",3,"formGroup","ngSubmit"],[1,"field"],[1,"ui","medium","circular","centered","image",3,"src"],[1,"ui","collapsing","inverted","blue","table","w-1-2","m-auto"],[1,"fields"],[1,"nine","wide","field"],["type","text","name","track-label","formControlName","label"],[1,"seven","wide","field"],[3,"color","heading","event"],[1,"required","field",3,"ngClass"],["name","track-seq","rows","8","cols","80","required","","formControlName","sequence"],["class","ui error",4,"ngIf"],[1,"bottom","three","fields"],["name","action","type","button",1,"ui","left","labeled","icon","primary","fluid","button",3,"disabled","click"],[1,"left","arrow","icon"],["name","action","type","submit",1,"ui","right","labeled","icon","secondary","fluid","button",3,"disabled"],[1,"save","icon"],["name","action","type","button",1,"ui","right","labeled","icon","primary","fluid","button",3,"disabled","click"],[1,"right","arrow","icon"],[1,"ui","error"]],template:function(e,t){1&e&&(c.Yb(0,"nz-drawer",0),c.gc("nzOnClose",(function(e){return t.display=!1})),c.Yb(1,"form",1),c.gc("ngSubmit",(function(e){return t.updateTrack()})),c.Yb(2,"div",2),c.Tb(3,"img",3),c.Xb(),c.Yb(4,"div",2),c.Yb(5,"table",4),c.Yb(6,"thead"),c.Yb(7,"tr"),c.Yb(8,"th"),c.Lc(9," Type "),c.Xb(),c.Yb(10,"th"),c.Lc(11," Position "),c.Xb(),c.Xb(),c.Xb(),c.Yb(12,"tbody"),c.Yb(13,"tr"),c.Yb(14,"td"),c.Lc(15),c.lc(16,"titlecase"),c.Xb(),c.Yb(17,"td"),c.Lc(18),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(19,"div",5),c.Yb(20,"div",6),c.Yb(21,"label"),c.Lc(22,"Label"),c.Xb(),c.Tb(23,"input",7),c.Xb(),c.Yb(24,"div",8),c.Yb(25,"label"),c.Lc(26,"Color"),c.Xb(),c.Yb(27,"sqy-color-picker",9),c.gc("event",(function(e){return t.setColor(e)})),c.Xb(),c.Xb(),c.Xb(),c.Yb(28,"div",10),c.Yb(29,"label"),c.Lc(30,"Sequence"),c.Xb(),c.Tb(31,"textarea",11),c.Jc(32,Gn,2,0,"span",12),c.Xb(),c.Yb(33,"div",13),c.Yb(34,"div",2),c.Yb(35,"button",14),c.gc("click",(function(e){return t.change(t._track.pos-1)})),c.Tb(36,"i",15),c.Lc(37," Previous "),c.Xb(),c.Xb(),c.Yb(38,"div",2),c.Yb(39,"button",16),c.Tb(40,"i",17),c.Lc(41," Save "),c.Xb(),c.Xb(),c.Yb(42,"div",2),c.Yb(43,"button",18),c.gc("click",(function(e){return t.change(t._track.pos+1)})),c.Tb(44,"i",19),c.Lc(45," Next "),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.sc("nzVisible",t.display)("nzWidth",640),c.Eb(1),c.sc("formGroup",t.trackForm),c.Eb(2),c.sc("src",t._track.glyph_thumbnail,c.Ec),c.Eb(12),c.Mc(c.mc(16,13,t._track.type)),c.Eb(3),c.Nc("#",t._track.pos+1,""),c.Eb(9),c.sc("color",t._track.color)("heading","Color"),c.Eb(1),c.sc("ngClass",c.wc(15,Qn,t.sequence.invalid&&(t.sequence.dirty||t.sequence.touched))),c.Eb(4),c.sc("ngIf",(null==t.sequence.errors?null:t.sequence.errors.pattern)&&(t.sequence.dirty||t.sequence.touched)),c.Eb(3),c.sc("disabled",t._track.pos+1<2),c.Eb(4),c.sc("disabled",!t.trackForm.dirty||t.trackForm.invalid),c.Eb(4),c.sc("disabled",t._track.pos+1===t.max))},directives:[_n,a.s,a.i,a.e,a.b,a.h,a.d,Hn,i.i,a.o,i.k],pipes:[i.t],styles:[".ui.form[_ngcontent-%COMP%]{height:100%}.ui.form[_ngcontent-%COMP%]   .bottom.fields[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:1rem}  .ant-drawer-body{height:100%}"]}),Zn),ti=((Kn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return e?t?(t=t.toLowerCase(),e.filter((function(e){return[e.label||"",e.type||"",e.sequence||""].some((function(e){return e.toLowerCase().includes(t)}))}))):e:[]}}]),e}()).\u0275fac=function(e){return new(e||Kn)},Kn.\u0275pipe=c.Rb({name:"filterTracks",type:Kn,pure:!0}),Kn);function ni(e,t){1&e&&(c.Yb(0,"div",46),c.Tb(1,"i",64),c.Lc(2," Read only "),c.Xb())}function ii(e,t){1&e&&(c.Yb(0,"div",46),c.Tb(1,"i",65),c.Lc(2," Write mode "),c.Xb())}var oi=function(e){return{invalid:e}},ri=function(e){return{show:e}},si=function(e){return{disabled:e}},ci=function(e,t,n){return{background:e,"border-bottom":t,"background-size":n}};function ai(e,t){if(1&e){var n=c.Zb();c.Yb(0,"div",66),c.gc("mouseover",(function(e){c.Cc(n);var i=t.$implicit;return c.kc(2).trackHovered=i}))("mouseout",(function(e){return c.Cc(n),c.kc(2).trackHovered=null})),c.Yb(1,"div",67),c.Yb(2,"div",68),c.Yb(3,"input",69,70),c.gc("ngModelChange",(function(e){return c.Cc(n),t.$implicit.label=e})),c.Xb(),c.Xb(),c.Yb(5,"div",71),c.Yb(6,"a",72),c.gc("click",(function(e){c.Cc(n);var i=t.index;return c.kc(2).moveTrack(i,-1)})),c.Tb(7,"i",73),c.Xb(),c.Yb(8,"a",72),c.gc("click",(function(e){c.Cc(n);var i=t.index;return c.kc(2).moveTrack(i,1)})),c.Tb(9,"i",74),c.Xb(),c.Yb(10,"a",72),c.gc("click",(function(e){c.Cc(n);var i=t.$implicit;return c.kc(2).removeTrack(i)})),c.Tb(11,"i",75),c.Xb(),c.Xb(),c.Xb(),c.Yb(12,"div",76),c.gc("click",(function(e){c.Cc(n);var i=t.$implicit,o=t.index;return c.kc(2).openSidebar(i,o)})),c.Xb(),c.Yb(13,"div",77),c.Lc(14),c.Xb(),c.Xb()}if(2&e){var i=t.$implicit,o=t.index,r=c.kc(2);c.Ic("width",r.zoom/5.5+"rem"),c.sc("ngClass",c.wc(13,oi,i.invalid)),c.Eb(2),c.sc("ngClass",c.wc(15,ri,i.label)),c.Eb(1),c.sc("ngModel",i.label)("disabled",r.locked),c.Eb(3),c.sc("ngClass",c.wc(17,si,r.locked||0===o)),c.Eb(2),c.sc("ngClass",c.wc(19,si,r.locked||o===(null==r.construct.tracks?null:r.construct.tracks.length)-1)),c.Eb(2),c.sc("ngClass",c.wc(21,si,r.locked)),c.Eb(2),c.sc("ngStyle",c.yc(23,ci,"url("+i.glyph_thumbnail+")","1.5px solid "+i.color,"auto "+r.zoom+"%")),c.Fb("data-tooltip",i.name),c.Eb(1),c.sc("hidden",!r.showIndexes),c.Eb(1),c.Nc(" ",o+1," ")}}function li(e,t){if(1&e&&c.Tb(0,"nz-option",97),2&e){var n=t.$implicit;c.sc("nzLabel",n.name)("nzValue",n.tax_id)}}var ui=function(e){return{error:e}};function di(e,t){if(1&e){var n=c.Zb();c.Yb(0,"form",78,79),c.gc("ngSubmit",(function(e){return c.Cc(n),c.kc(2).submit()})),c.Yb(2,"div",80),c.Yb(3,"label",81),c.Lc(4,"Required fields are shown with"),c.Xb(),c.Xb(),c.Yb(5,"div",80),c.Yb(6,"label",82),c.Lc(7,"Select organism"),c.Xb(),c.Yb(8,"nz-select",83),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc(2).specie.tax_id=e})),c.Jc(9,li,1,2,"nz-option",84),c.Xb(),c.Xb(),c.Yb(10,"div",85),c.Yb(11,"label",86),c.Lc(12,"Enter a label"),c.Xb(),c.Yb(13,"input",87,88),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc(2).construct.name=e})),c.Xb(),c.Xb(),c.Yb(15,"div",89),c.Yb(16,"label",90),c.Lc(17,"Circular"),c.Xb(),c.Yb(18,"input",91),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc(2).construct.circular=e})),c.Xb(),c.Xb(),c.Yb(19,"div",89),c.Yb(20,"label",92),c.Lc(21,"Description"),c.Xb(),c.Yb(22,"textarea",93),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc(2).construct.description=e})),c.Xb(),c.Xb(),c.Yb(23,"div",94),c.Yb(24,"button",95),c.Lc(25," Submit "),c.Tb(26,"i",96),c.Xb(),c.Xb(),c.Xb()}if(2&e){var i=c.Ac(1),o=c.Ac(14),r=c.kc(2);c.Eb(8),c.sc("ngModel",r.specie.tax_id)("nzLoading",r.isLoading)("nzDisabled",r.isLoading),c.Eb(1),c.sc("ngForOf",r.species),c.Eb(1),c.sc("ngClass",c.wc(9,ui,o.invalid&&(o.dirty||o.touched))),c.Eb(3),c.sc("ngModel",r.construct.name),c.Eb(5),c.sc("ngModel",r.construct.circular),c.Eb(4),c.sc("ngModel",r.construct.description),c.Eb(2),c.sc("disabled",!(null!=r.construct.tracks&&r.construct.tracks.length)||i.invalid)}}function hi(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"td",104),c.Lc(2,"The construct is empty. Add new tracks to visualize them here."),c.Xb(),c.Xb())}var bi=function(e){return{"no-color":e}};function pi(e,t){if(1&e){var n=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Yb(2,"div",105),c.Lc(3),c.Xb(),c.Xb(),c.Yb(4,"td"),c.Tb(5,"sqy-if-not-icon",47),c.Xb(),c.Yb(6,"td"),c.Tb(7,"sqy-if-not-icon",47),c.Xb(),c.Yb(8,"td"),c.Tb(9,"sqy-if-not-icon",47),c.Xb(),c.Yb(10,"td",106),c.Yb(11,"a",107),c.gc("click",(function(e){c.Cc(n);var i=t.$implicit,o=t.index;return c.kc(3).openSidebar(i,o)})),c.Tb(12,"i",108),c.Xb(),c.Yb(13,"a",109),c.gc("click",(function(e){c.Cc(n);var i=t.index;return c.kc(3).moveTrack(i,-1)})),c.Tb(14,"i",110),c.Xb(),c.Yb(15,"a",111),c.gc("click",(function(e){c.Cc(n);var i=t.index;return c.kc(3).moveTrack(i,1)})),c.Tb(16,"i",112),c.Xb(),c.Yb(17,"a",113),c.gc("click",(function(e){c.Cc(n);var i=t.$implicit;return c.kc(3).removeTrack(i)})),c.Tb(18,"i",114),c.Xb(),c.Xb(),c.Xb()}if(2&e){var i=t.$implicit,o=t.index,r=c.kc(3);c.Eb(2),c.Ic("background-color",i.color),c.sc("ngClass",c.wc(11,bi,!i.color)),c.Eb(1),c.Nc("#",o+1,""),c.Eb(2),c.sc("value",i.label),c.Eb(2),c.sc("value",i.type),c.Eb(2),c.sc("value",null==i.sequence?null:i.sequence.length),c.Eb(2),c.sc("ngClass",c.wc(13,si,r.locked)),c.Eb(2),c.sc("ngClass",c.wc(15,si,r.locked||o<1)),c.Eb(2),c.sc("ngClass",c.wc(17,si,r.locked||o>=(null==r.construct.tracks?null:r.construct.tracks.length)-1)),c.Eb(2),c.sc("ngClass",c.wc(19,si,r.locked))}}function fi(e,t){if(1&e){var n=c.Zb();c.Yb(0,"div",98),c.Yb(1,"div",8),c.Yb(2,"div",99),c.Tb(3,"i",100),c.Yb(4,"input",101),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc(2).search=e})),c.Xb(),c.Xb(),c.Xb(),c.Yb(5,"div",8),c.Yb(6,"table",102),c.Yb(7,"thead"),c.Yb(8,"tr"),c.Tb(9,"th"),c.Yb(10,"th"),c.Lc(11," Label "),c.Xb(),c.Yb(12,"th"),c.Lc(13," Type "),c.Xb(),c.Yb(14,"th"),c.Lc(15," Size "),c.Xb(),c.Tb(16,"th"),c.Xb(),c.Xb(),c.Yb(17,"tbody"),c.Jc(18,hi,3,0,"tr",3),c.Jc(19,pi,19,21,"tr",103),c.lc(20,"filterTracks"),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&e){var i=c.kc(2);c.Eb(4),c.sc("ngModel",i.search),c.Eb(14),c.sc("ngIf",!(null!=i.construct.tracks&&i.construct.tracks.length)),c.Eb(1),c.sc("ngForOf",c.nc(20,3,i.construct.tracks,i.search))}}var gi=function(e){return{"loading disabled":e}},vi=function(e,t){return{primary:e,orange:t}},mi=function(e){return{open:e}},yi=function(e){return{"disabled loading":e}},zi=function(e){return{active:e}};function ki(e,t){if(1&e){var n=c.Zb();c.Yb(0,"div",6),c.Yb(1,"div",7),c.Yb(2,"div",8),c.Yb(3,"div",9),c.Yb(4,"div",8),c.Yb(5,"div",10),c.Tb(6,"i",11),c.Yb(7,"nz-slider",12),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc().zoom=e})),c.Xb(),c.Tb(8,"i",11),c.Xb(),c.Xb(),c.Yb(9,"div",8),c.Yb(10,"button",13),c.gc("click",(function(e){return c.Cc(n),c.kc().exampleConstruct()})),c.Tb(11,"i",14),c.Xb(),c.Xb(),c.Yb(12,"div",8),c.Yb(13,"button",15),c.gc("click",(function(e){return c.Cc(n),c.kc().clear()})),c.Tb(14,"i",16),c.Xb(),c.Xb(),c.Yb(15,"div",8),c.Yb(16,"button",17),c.Tb(17,"i",18),c.Xb(),c.Yb(18,"nz-dropdown-menu",19,20),c.Yb(20,"div",21),c.Yb(21,"div",22),c.Lc(22," Show/Hide indexes "),c.Yb(23,"div",23),c.Yb(24,"input",24),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc().showIndexes=e})),c.Xb(),c.Xb(),c.Xb(),c.Tb(25,"div",25),c.Yb(26,"div",22),c.Tb(27,"i",26),c.Lc(28," Publish To Web "),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(29,"div",8),c.Yb(30,"button",27),c.gc("click",(function(e){return c.Cc(n),c.kc().showPicker=!0})),c.Tb(31,"i",28),c.Xb(),c.Xb(),c.Yb(32,"div",8),c.Yb(33,"button",29),c.gc("click",(function(e){c.Cc(n);var t=c.kc();return t.locked=!t.locked})),c.Tb(34,"i",30),c.Xb(),c.Xb(),c.Yb(35,"div",8),c.Yb(36,"button",31),c.Lc(37," Export as "),c.Tb(38,"i",26),c.Yb(39,"div",32),c.Yb(40,"a",33),c.Tb(41,"i",34),c.Lc(42," PNG/JPG "),c.Xb(),c.Yb(43,"a",35),c.gc("click",(function(e){return c.Cc(n),c.kc().downloadAs("GenBank")})),c.Tb(44,"i",36),c.Lc(45," GenBank "),c.Xb(),c.Yb(46,"a",37),c.gc("click",(function(e){return c.Cc(n),c.kc().downloadAs("Fasta")})),c.Tb(47,"i",36),c.Lc(48," Fasta "),c.Xb(),c.Yb(49,"a",33),c.Tb(50,"i",38),c.Lc(51," PDF "),c.Xb(),c.Yb(52,"a",37),c.gc("click",(function(e){return c.Cc(n),c.kc().downloadAs("Json")})),c.Tb(53,"i",39),c.Lc(54," JSON "),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(55,"div",40),c.Yb(56,"div",41),c.Yb(57,"div",42),c.Yb(58,"div",7),c.Yb(59,"div",43),c.Yb(60,"div",44),c.Yb(61,"div",45),c.Yb(62,"div",46),c.Yb(63,"label"),c.Lc(64,"Total tracks:"),c.Xb(),c.Lc(65),c.Xb(),c.Yb(66,"div",46),c.Yb(67,"label"),c.Lc(68,"Total length:"),c.Xb(),c.Lc(69),c.Xb(),c.Yb(70,"div",46),c.Yb(71,"label"),c.Lc(72,"From:"),c.Xb(),c.Tb(73,"sqy-if-not-icon",47),c.Xb(),c.Yb(74,"div",46),c.Yb(75,"label"),c.Lc(76,"To:"),c.Xb(),c.Tb(77,"sqy-if-not-icon",47),c.Xb(),c.Jc(78,ni,3,0,"div",48),c.Jc(79,ii,3,0,"div",48),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(80,"div",7),c.Yb(81,"div",49),c.Yb(82,"div",50),c.Yb(83,"div",51),c.Lc(84," The construct is empty. To add new tracks click on button below. "),c.Xb(),c.Yb(85,"button",52),c.gc("click",(function(e){return c.Cc(n),c.kc().showPicker=!0})),c.Lc(86," Add tracks "),c.Xb(),c.Xb(),c.Yb(87,"div",53),c.Jc(88,ai,15,27,"div",54),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(89,"div",55),c.Yb(90,"div",56),c.Yb(91,"div",7),c.Yb(92,"div",57),c.Yb(93,"div",58),c.Yb(94,"a",59),c.gc("click",(function(e){return c.Cc(n),c.kc().view="general"})),c.Lc(95," General "),c.Xb(),c.Yb(96,"a",59),c.gc("click",(function(e){return c.Cc(n),c.kc().view="tracks"})),c.Lc(97," Tracks "),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(98,"div",7),c.Yb(99,"div",60),c.Jc(100,di,27,11,"form",61),c.Jc(101,fi,21,6,"div",62),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(102,"div",7),c.Yb(103,"div",8),c.Yb(104,"div",63),c.Yb(105,"p"),c.Lc(106," Centre for Genomic Regulation \xa9 "),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&e){var i=c.Ac(19),o=c.kc();c.sc("ngClass",c.wc(30,gi,o.sketcherLoading)),c.Eb(7),c.sc("nzMin",50)("nzMax",110)("nzTooltipVisible","never")("ngModel",o.zoom),c.Eb(3),c.sc("disabled",o.locked),c.Eb(3),c.sc("disabled",!(null!=o.construct.tracks&&o.construct.tracks.length)||o.locked),c.Eb(3),c.sc("nzDropdownMenu",i)("nzClickHide",!1)("disabled",o.isTracksLoading),c.Eb(8),c.sc("ngModel",o.showIndexes),c.Eb(6),c.sc("disabled",o.isTracksLoading||o.locked),c.Eb(3),c.sc("ngClass",c.xc(32,vi,!o.locked,o.locked)),c.Fb("data-tooltip",o.locked?"Unlock":"Lock"),c.Eb(1),c.sc("ngClass",c.wc(35,mi,!o.locked)),c.Eb(2),c.sc("disabled",!(null!=o.construct.tracks&&o.construct.tracks.length)),c.Eb(29),c.Nc(" ",null==o.construct.tracks?null:o.construct.tracks.length," "),c.Eb(4),c.Nc(" ",null==o.construct.sequence?null:o.construct.sequence.length," bps "),c.Eb(4),c.sc("value",null==o.trackHovered?null:o.trackHovered.start),c.Eb(4),c.sc("value",null==o.trackHovered?null:o.trackHovered.end),c.Eb(1),c.sc("ngIf",o.locked),c.Eb(1),c.sc("ngIf",!o.locked),c.Eb(3),c.sc("hidden",(null==o.construct.tracks?null:o.construct.tracks.length)||o.isLoading),c.Eb(3),c.sc("ngClass",c.wc(37,yi,o.isTracksLoading)),c.Eb(2),c.sc("hidden",!(null!=o.construct.tracks&&o.construct.tracks.length)||o.isLoading),c.Eb(1),c.sc("ngForOf",o.construct.tracks),c.Eb(6),c.sc("ngClass",c.wc(39,zi,"general"===o.view)),c.Eb(2),c.sc("ngClass",c.wc(41,zi,"tracks"===o.view)),c.Eb(4),c.sc("ngIf","general"===o.view),c.Eb(1),c.sc("ngIf","tracks"===o.view)}}function Ci(e,t){if(1&e){var n=c.Zb();c.Yb(0,"sqy-track-details",115),c.gc("onSave",(function(e){return c.Cc(n),c.kc().addTrack(e)}))("changePos",(function(e){return c.Cc(n),c.kc().changeTrack(e)})),c.Xb()}if(2&e){var i=c.kc();c.sc("track",i.track)("max",null==i.construct.tracks?null:i.construct.tracks.length)}}function Oi(e,t){1&e&&(c.Yb(0,"a",127),c.Lc(1," \u2713 "),c.Xb())}var wi=function(e){return{selected:e}};function Ti(e,t){if(1&e){var n=c.Zb();c.Yb(0,"div",125),c.gc("mouseover",(function(e){c.Cc(n);var i=t.$implicit;return c.kc(3).hoveredName=i.name}))("mouseout",(function(e){return c.Cc(n),c.kc(3).hoveredName=null}))("click",(function(e){var n=t.$implicit;return n.selected=!n.selected})),c.Jc(1,Oi,2,0,"a",126),c.Xb()}if(2&e){var i=t.$implicit;c.Ic("background","url("+i.glyph_thumbnail+")",c.Lb),c.sc("ngClass",c.wc(4,wi,i.selected)),c.Eb(1),c.sc("ngIf",i.selected)}}function Si(e,t){if(1&e&&(c.Wb(0),c.Yb(1,"div",8),c.Yb(2,"div",122),c.Lc(3),c.Xb(),c.Xb(),c.Yb(4,"div",123),c.Jc(5,Ti,2,6,"div",124),c.Xb(),c.Vb()),2&e){var n=t.$implicit;c.Eb(3),c.Nc(" ",n.name," "),c.Eb(2),c.sc("ngForOf",n.elements)}}var Mi=function(e){return{loading:e}};function Pi(e,t){if(1&e){var n=c.Zb();c.Wb(0),c.Yb(1,"div",116),c.Yb(2,"div",8),c.Yb(3,"div",117),c.Yb(4,"div",67),c.Lc(5," Instructions "),c.Xb(),c.Yb(6,"ul",118),c.Yb(7,"li"),c.Lc(8,"Click on each track to selected or deselect it."),c.Xb(),c.Yb(9,"li"),c.Lc(10,"Hover the mouse over a track to display name"),c.Xb(),c.Yb(11,"li"),c.Lc(12,"Tracks will be added in selection order"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(13,"div",119),c.Lc(14),c.Yb(15,"div",120),c.Yb(16,"input",121),c.gc("click",(function(e){return c.Cc(n),c.kc().toggleSelection(e)})),c.Xb(),c.Yb(17,"label"),c.Lc(18,"Select all"),c.Xb(),c.Xb(),c.Xb(),c.Jc(19,Si,6,2,"ng-container",103),c.Xb(),c.Vb()}if(2&e){var i=c.kc();c.Eb(1),c.sc("ngClass",c.wc(3,Mi,i.isLoading)),c.Eb(13),c.Nc(" ",i.hoveredName," "),c.Eb(5),c.sc("ngForOf",i.categories)}}var _i=function(e,t){return{"green check":e,"times red":t}};function xi(e,t){if(1&e&&(c.Yb(0,"div",128),c.Yb(1,"div",8),c.Yb(2,"h2",129),c.Tb(3,"i",130),c.Yb(4,"div",131),c.Lc(5),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",8),c.Yb(7,"p"),c.Lc(8,"Your job has been submitted successfully. In a few moments you will be redirected to your history. Once finished the work or you can visualize the results. Please be patient."),c.Xb(),c.Xb(),c.Yb(9,"div",8),c.Yb(10,"div",122),c.Lc(11," Summary "),c.Xb(),c.Xb(),c.Yb(12,"div",8),c.Yb(13,"table",132),c.Yb(14,"thead"),c.Yb(15,"tr"),c.Yb(16,"th"),c.Lc(17,"Label"),c.Xb(),c.Yb(18,"th"),c.Lc(19,"Specie"),c.Xb(),c.Yb(20,"th"),c.Lc(21,"Total tracks"),c.Xb(),c.Yb(22,"th"),c.Lc(23,"Circular"),c.Xb(),c.Xb(),c.Xb(),c.Yb(24,"tbody"),c.Yb(25,"tr"),c.Yb(26,"td"),c.Lc(27),c.Xb(),c.Yb(28,"td"),c.Lc(29),c.Xb(),c.Yb(30,"td"),c.Lc(31),c.Xb(),c.Yb(32,"td"),c.Tb(33,"i",133),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e){var n=c.kc();c.Eb(5),c.Nc(' Your construct: "',n.construct.name,'" has been submitted! '),c.Eb(22),c.Nc(" ",null==n.history?null:null==n.history.construct?null:n.history.construct.name," "),c.Eb(2),c.Nc(" ",null==n.history?null:null==n.history.construct?null:n.history.construct.specie.name," "),c.Eb(2),c.Nc(" ",null==n.history?null:null==n.history.construct?null:n.history.construct.n_tracks," "),c.Eb(2),c.sc("ngClass",c.xc(5,_i,null==n.history?null:n.history.construct.circular,!(null!=n.history&&n.history.construct.circular)))}}var Xi,Yi=((Xi=function(){function e(t,n,i,o,r,s,c){_classCallCheck(this,e),this.route=t,this.specieSrvc=n,this.trackSrvc=i,this.constructSrvc=o,this.http=r,this.router=s,this.notify=c,this.tracks=[],this.track=null,this.history=null,this.trackHovered=null,this.hoveredName=null,this.isLoading=!1,this.response=null,this.categories=[],this.specie=new Vn.a,this.species=[],this.submitted=!1,this.showPicker=!1,this.zoom=75,this.isTracksLoading=!1,this.construct=new An.a,this.showIndexes=!0,this.view="general",this.locked=!1,this.sketcherLoading=!1,this.construct.tracks=[],this.construct.sequence=""}return _createClass(e,[{key:"keyEvent",value:function(e){"ESCAPE"===e.key.toUpperCase()&&(this.showPicker=!1)}},{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.sub=this.route.queryParams.subscribe((function(t){e.construct.id=t.id||null,e.specie.slug=t.specie||null})),this.specie.slug&&this.getSpecie(),this.construct.id?this.getConstruct():this.new(),this.getTracks(),this.getSpecies()}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"getSpecie",value:function(){var e=this;this.isLoading=!0,this.specieSrvc.getBySlug(this.specie).pipe(Object(En.a)((function(){return e.isLoading=!1}))).subscribe((function(t){return e.specie.deserialize(t)}))}},{key:"getConstruct",value:function(){var e=this;this.construct.id&&(this.sketcherLoading=!0,this.constructSrvc.getById(this.construct.id).pipe(Object(En.a)((function(){return e.sketcherLoading=!1}))).subscribe((function(t){return e.construct=(new An.a).deserialize(t)})))}},{key:"getExampleConstruct",value:function(){var e=this;this.sketcherLoading=!0,this.constructSrvc.getExample().subscribe((function(t){return t.length?e.construct=(new An.a).deserialize(t[0]):e.notify.warn("Sorry but no example construct was found")}),(function(t){return e.notify.warn(t||"Unable to load model construct")}),(function(){return e.sketcherLoading=!1}))}},{key:"getSpecies",value:function(){var e=this;this.isLoading=!0,this.specieSrvc.getAll().pipe(Object(En.a)((function(){return e.isLoading=!1}))).subscribe((function(t){return e.species=t.map((function(t){var n=(new Vn.a).deserialize(t);return n.default&&!e.specie.slug&&(e.specie=Object.assign({},n)),n}))}))}},{key:"getTracksByCategories",value:function(){var e=this;this.isLoading=!0,this.trackSrvc.getByCategories().pipe(Object(En.a)((function(){return e.isLoading=!1}))).subscribe((function(t){return e.categories=t}))}},{key:"getTracks",value:function(){var e=this;this.isLoading=!0,this.trackSrvc.getAll().pipe(Object(En.a)((function(){return e.isLoading=!1}))).subscribe((function(t){e.tracks=t,e.new()}))}},{key:"new",value:function(){this.tracks.some((function(e){return e.default}))&&(this.construct.tracks=[Object.assign({},this.tracks.find((function(e){return e.default})))])}},{key:"clear",value:function(){confirm("Are you sure you want to clear all tracks from construct? These action cannot be reverted.")&&(this.construct.tracks=[],this.construct.sequence="")}},{key:"removeTrack",value:function(e){var t=this.construct.tracks.indexOf(e);-1!==t&&this.construct.tracks.splice(t,1)}},{key:"someSelected",value:function(){return this.categories.some((function(e){return e.elements.some((function(e){return e.selected}))}))}},{key:"addTracks",value:function(){var e=this;this.someSelected()&&!this.locked&&(this.categories.map((function(t){t.elements.map((function(t){t.selected&&(t.selected=!1,e.construct.tracks.push(Object.assign({},t)))}))})),this.showPicker=!1)}},{key:"exampleConstruct",value:function(){var e=!0;this.construct.tracks.length>0&&(confirm("You really want to load an example construct? You're gonna lose all actual data. Proceed?")||(e=!1)),e&&this.getExampleConstruct()}},{key:"submit",value:function(){var e=this;this.checkTracks()&&(this.response=null,this.sketcherLoading=!0,this.construct.specie_tax_id=this.specie.tax_id,this.http.post("".concat(In.a.endpoints.api,"/optimize_seq/from-sketch"),this.construct).pipe(Object(En.a)((function(){return e.sketcherLoading=!1}))).subscribe((function(t){e.history=(new Dn.a).deserialize(t),e.submitted=!0,setTimeout((function(){e.submitted=!1,e.router.navigate(["/workspace",e.history.id])}),3e3)}),(function(t){e.notify.error(t,"bottom-right")})))}},{key:"openSidebar",value:function(e,t){this.locked||(this.track=Object.assign({},e),this.track.pos=t)}},{key:"addTrack",value:function(e){e.pos>-1&&(this.construct.tracks[e.pos]=e,this.construct.tracks[e.pos].start=this.construct.sequence.length+1,this.construct.tracks[e.pos].end=this.construct.sequence.length+e.sequence.length,this.construct.sequence+=e.sequence,delete this.construct.tracks[e.pos].invalid),this.track=null}},{key:"changeTrack",value:function(e){e>-1&&this.construct.tracks[e]&&this.openSidebar(this.construct.tracks[e],e)}},{key:"moveTrack",value:function(e,t){var n=e+t;-1<n&&n<=this.construct.tracks.length-1&&(this.construct.tracks=Fn.a.array_move(this.construct.tracks,e,n))}},{key:"checkTracks",value:function(){var e=!0;return this.construct.tracks.map((function(t){t.sequence||(t.invalid=!0,e=!1)})),e}},{key:"toggleSelection",value:function(e){this.categories.map((function(t){return t.elements.map((function(t){return t.selected=e.target.checked}))}))}},{key:"downloadAs",value:function(e){if(this.construct.tracks.length){var t,n;switch(e.toUpperCase()){case"GENBANK":t=Fn.a.jsonToGenbank(this.construct),n="gbk";break;case"FASTA":t=Fn.a.jsonToFasta([this.construct]),n="fasta";break;case"XLSX":break;case"JSON":t=JSON.stringify({construct:this.construct}),n="json"}if(t){var i=new Blob([t],{type:"text/plain;charset=utf-8"});Object(jn.saveAs)(i,"SQrutiny_".concat(this.construct.name||"untitled",".").concat(n)),this.notify.success("Exported to ".concat(e,"!"))}else this.notify.error("Unable to export")}}},{key:"canDeactivate",value:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||Xi)(c.Sb(fe.a),c.Sb(Rn.a),c.Sb(Bn),c.Sb(Jn.a),c.Sb(Ee.c),c.Sb(fe.d),c.Sb(Nn.a))},Xi.\u0275cmp=c.Mb({type:Xi,selectors:[["sqy-sketcher"]],hostBindings:function(e,t){1&e&&c.gc("keyup",(function(e){return t.keyEvent(e)}),!1,c.Bc)},decls:6,vars:10,consts:[["class","ui basic segment internally celled grid sketcher",3,"ngClass",4,"ngIf"],[3,"track","max","onSave","changePos",4,"ngIf"],["nzWrapClassName","vertical-center-modal","nzTitle","Choose tracks","nzOkText","Add",3,"nzVisible","nzOkLoading","nzOkDisabled","nzVisibleChange","nzAfterOpen","nzOnCancel","nzOnOk"],[4,"ngIf"],[3,"nzFooter","nzWidth","nzVisible","nzVisibleChange","nzOnCancel"],["class","ui very padded one column grid",4,"ngIf"],[1,"ui","basic","segment","internally","celled","grid","sketcher",3,"ngClass"],[1,"row"],[1,"column"],[1,"ui","equal","width","center","aligned","middle","aligned","container","grid"],[1,"slider-wraper"],[1,"zoom-in","icon"],[3,"nzMin","nzMax","nzTooltipVisible","ngModel","ngModelChange"],["data-inverted","","data-tooltip","Load example construct","data-position","bottom center",1,"ui","circular","icon","primary","button",3,"disabled","click"],[1,"database","icon"],["data-inverted","","data-tooltip","Clear construct","data-position","bottom center",1,"ui","circular","icon","primary","button",3,"disabled","click"],[1,"eraser","icon"],["nz-dropdown","","nzTrigger","click","nzOverlayClassName","ui settings dropdown","nzPlacement","bottomCenter",1,"ui","circular","icon","primary","button",3,"nzDropdownMenu","nzClickHide","disabled"],[1,"eye","icon"],["tabindex","0"],["settingsMenu","nzDropdownMenu"],["tabindex","-1",1,"ui","vertical","menu","transition","visible",2,"display","block !important"],[1,"item"],[1,"description"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"divider"],[1,"dropdown","icon"],["data-inverted","","data-tooltip","Add tracks","data-position","bottom center",1,"ui","circular","icon","primary","button",3,"disabled","click"],[1,"plus","icon"],["data-inverted","","data-position","bottom center",1,"ui","circular","icon","button",3,"ngClass","click"],[1,"lock","icon",3,"ngClass"],["type","button",1,"ui","primary","right","labeled","icon","button","simple","dropdown",3,"disabled"],[1,"menu"],[1,"item","disabled"],[1,"file","icon"],[1,"item","disabled",3,"click"],[1,"dna","icon"],[1,"item",3,"click"],[1,"pdf","file","outline","icon"],[1,"file","code","icon"],[1,"row","canvas"],[1,"twelve","wide","column","p-0"],[1,"ui","internally","celled","grid","m-0"],[1,"column","top-details-bar"],[1,"ui","form"],[1,"inline","four","fields","m-0"],[1,"inline","field","txt-c"],[3,"value"],["class","inline field txt-c",4,"ngIf"],[1,"column","construct"],[1,"ui","placeholder","segment","h-1-1",3,"hidden"],[1,"ui","icon","header"],["type","button",1,"ui","primary","button",3,"ngClass","click"],[1,"strand",3,"hidden"],["class","track",3,"width","ngClass","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"four","wide","column"],[1,"ui","grid"],[1,"sixteen","wide","column"],[1,"ui","two","item","secondary","pointing","menu"],[1,"item",3,"ngClass","click"],[1,"sixteen","wide","column",2,"height","80vh","overflow","auto"],["class","ui form",3,"ngSubmit",4,"ngIf"],["class","ui one column grid",4,"ngIf"],[1,"credits"],[1,"lock","icon"],[1,"pencil","alternate","icon"],[1,"track",3,"ngClass","mouseover","mouseout"],[1,"header"],[1,"ui","fluid","transparent","large","input",3,"ngClass"],["type","text","name","track-label","placeholder","(label)",3,"ngModel","disabled","ngModelChange"],["trackLabel","ngModel"],[1,"actions"],[3,"ngClass","click"],[1,"left","arrow","link","icon"],[1,"right","arrow","link","icon"],[1,"trash","red","link","icon"],["data-inverted","","data-position","bottom center",1,"image",3,"ngStyle","click"],[1,"index",3,"hidden"],[1,"ui","form",3,"ngSubmit"],["constructForm","ngForm"],[1,"required","field"],[1,"required-msg"],["for","construct_specie"],["name","construct-specie","required","","nzShowSearch","",3,"ngModel","nzLoading","nzDisabled","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[1,"required","field",3,"ngClass"],["for","construct_name"],["type","text","placeholder","Label / Name","id","construct_name","name","construct-name","required","",1,"transparent",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"inline","field"],["for",""],["type","checkbox","name","construct-circular",3,"ngModel","ngModelChange"],["for","construct_description"],["id","construct_description","name","construct-description","rows","8","cols","80",3,"ngModel","ngModelChange"],[1,"field"],["type","submit",1,"ui","secondary","right","labeled","fluid","icon","button",3,"disabled"],[1,"angle","right","icon"],[3,"nzLabel","nzValue"],[1,"ui","one","column","grid"],[1,"ui","fluid","icon","input"],[1,"search","icon"],["type","text","placeholder","Search by label / type / sequence...",3,"ngModel","ngModelChange"],[1,"ui","blue","definition","table"],[4,"ngFor","ngForOf"],["colspan","5",1,"txt-c"],[1,"ui","circular","label",3,"ngClass"],[1,"center","aligned"],["data-inverted","","data-tooltip","Open","data-position","top center",3,"ngClass","click"],[1,"edit","icon"],["data-inverted","","data-tooltip","Move up","data-position","top center",3,"ngClass","click"],[1,"arrow","up","icon"],["data-inverted","","data-tooltip","Move down","data-position","top center",3,"ngClass","click"],[1,"arrow","down","icon"],["data-inverted","","data-tooltip","Delete","data-position","top center",3,"ngClass","click"],[1,"x","red","icon"],[3,"track","max","onSave","changePos"],[1,"ui","basic","segment","one","column","grid","track-picker","mt-0",3,"ngClass"],[1,"ui","message"],[1,"list"],[1,"column","hov-track"],[1,"ui","checkbox","option"],["type","checkbox",3,"click"],[1,"ui","horizontal","divider"],[1,"eight","column","row"],["class","column track",3,"ngClass","background","mouseover","mouseout","click",4,"ngFor","ngForOf"],[1,"column","track",3,"ngClass","mouseover","mouseout","click"],["class","floating ui blue label",4,"ngIf"],[1,"floating","ui","blue","label"],[1,"ui","very","padded","one","column","grid"],[1,"ui","icon","center","aligned","header"],[1,"spinner","loading","icon"],[1,"content"],[1,"ui","blue","small","inverted","table"],[1,"icon",3,"ngClass"]],template:function(e,t){1&e&&(c.Jc(0,ki,107,43,"div",0),c.Jc(1,Ci,1,2,"sqy-track-details",1),c.Yb(2,"nz-modal",2),c.gc("nzVisibleChange",(function(e){return t.showPicker=e}))("nzAfterOpen",(function(e){return t.getTracksByCategories()}))("nzOnCancel",(function(e){return t.showPicker=!1}))("nzOnOk",(function(e){return t.addTracks()})),c.Jc(3,Pi,20,5,"ng-container",3),c.Xb(),c.Yb(4,"nz-modal",4),c.gc("nzVisibleChange",(function(e){return t.submitted=e}))("nzOnCancel",(function(e){return t.submitted=!1})),c.Jc(5,xi,34,8,"div",5),c.Xb()),2&e&&(c.sc("ngIf",!t.isLoading),c.Eb(1),c.sc("ngIf",t.track),c.Eb(1),c.sc("nzVisible",t.showPicker)("nzOkLoading",t.isLoading)("nzOkDisabled",!t.someSelected()),c.Eb(1),c.sc("ngIf",t.showPicker),c.Eb(1),c.sc("nzFooter",null)("nzWidth",800)("nzVisible",t.submitted),c.Eb(1),c.sc("ngIf",t.history))},directives:[i.k,o.a,i.i,te,a.h,a.k,_e,Pe,a.a,qn,i.j,a.b,i.l,a.s,a.i,a.j,Yn.b,a.o,Yn.a,ei],pipes:[ti],styles:['.sketcher[_ngcontent-%COMP%]{max-height:100vh;max-width:100vw;margin-top:var(--top-margin)!important}.sketcher[_ngcontent-%COMP%]   .slider-wraper[_ngcontent-%COMP%]{position:relative;padding:0 2.5rem}.sketcher[_ngcontent-%COMP%]   .slider-wraper[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{position:absolute;top:-2px;line-height:1;font-size:15px;color:rgba(0,0,0,.45)}.sketcher[_ngcontent-%COMP%]   .slider-wraper[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]:first-child{left:0}.sketcher[_ngcontent-%COMP%]   .slider-wraper[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]:last-child{right:0}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]{height:90vh}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .top-details-bar[_ngcontent-%COMP%]{padding:.3em 1em}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]{min-height:75vh;max-height:85vh;overflow-y:auto}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]{width:100%;display:inline-block}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]{display:inline-block;min-width:2rem;position:relative;-webkit-box-align:center;align-items:center;border-bottom:1.5px solid #ccc;margin-bottom:4rem}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track.invalid[_ngcontent-%COMP%]{background-color:#ffe8ec}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]:not(:first-child){border-left:2px dashed #ccc}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{position:absolute;bottom:-3.2em;width:100%;text-align:center;font-weight:700;color:#ddd}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]:before{position:absolute;z-index:2;content:"|";top:-2em;right:50%}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:1em;width:100%;font-size:.8rem}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#888;text-align:center}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{visibility:hidden;position:absolute;top:0;right:0;font-size:1.1rem}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]   div.image[_ngcontent-%COMP%]{cursor:pointer;font-size:1em!important;left:0;width:100%!important;line-height:.8em!important;height:5.5em!important;background-repeat:no-repeat!important;background-position:50% 100%!important;z-index:3}.sketcher[_ngcontent-%COMP%]   .canvas[_ngcontent-%COMP%]   .construct[_ngcontent-%COMP%]   .strand[_ngcontent-%COMP%]   .track[_ngcontent-%COMP%]:hover > .header[_ngcontent-%COMP%] > .actions[_ngcontent-%COMP%]{visibility:visible}.sketcher[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{text-align:center}.sketcher[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:transparent;background:#bdbdbd;-webkit-background-clip:text;-moz-background-clip:text;background-clip:text;text-shadow:0 3px 3px hsla(0,0%,100%,.5)}.show[_ngcontent-%COMP%]{visibility:visible!important}  .ant-slider-track{background-color:var(--main-color)}  .ant-slider-handle{border-color:var(--main-color)}  .ant-dropdown.nz-dropdown{margin-top:17px!important}  .ui.settings.dropdown .menu{position:relative!important}  .vertical-center-modal{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}  .vertical-center-modal .ant-modal{width:1000px!important;top:0}  .vertical-center-modal .ant-modal .ant-modal-body{max-height:calc(90vh - 5em);overflow:auto}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker{min-height:500px}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .column.track{z-index:100!important;height:4.5em!important;margin:.4em!important;border:.3px solid #eee!important;box-shadow:1px 1px 1px #eee!important;background-size:auto 100%!important;background-repeat:no-repeat!important;background-position:50% 100%!important;cursor:pointer!important}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .column.track.selected{border:2px solid #079ace!important;border-radius:2px;box-shadow:1px 1px 1px #eee!important}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .hov-track{height:1em;text-align:center;color:grey;font-weight:700}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .hov-track .option{position:absolute;right:0;top:50%}  .vertical-center-modal .ant-modal .ant-modal-body .track-picker .ui.horizontal.divider{font-weight:400;color:grey}.required-msg[_ngcontent-%COMP%]{font-weight:400!important}.ui.circular.label[_ngcontent-%COMP%]{font-weight:700}.ui.circular.label[_ngcontent-%COMP%]:not(.no-color){color:#fff!important}.ui.circular.label.no-color[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}']}),Xi),Li=n("IRNp");function Ei(e,t){if(1&e&&(c.Yb(0,"option",46),c.Lc(1),c.Xb()),2&e){var n=t.$implicit;c.sc("ngValue",n.tax_id),c.Eb(1),c.Mc(n.name)}}var ji=function(e){return{error:e}},Ii=function(e,t){return{"green circular check":e,"circle times red":t}};function Vi(e,t){if(1&e){var n=c.Zb();c.Wb(0),c.Yb(1,"div",30),c.Yb(2,"label",31),c.Lc(3,"Required fields are shown with"),c.Xb(),c.Xb(),c.Yb(4,"div",30),c.Yb(5,"label",32),c.Lc(6,"Select organism"),c.Xb(),c.Yb(7,"select",33),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc(2).specie.tax_id=e})),c.Jc(8,Ei,2,2,"option",34),c.Xb(),c.Xb(),c.Yb(9,"div",35),c.Yb(10,"label",36),c.Lc(11,"Enter a label"),c.Xb(),c.Yb(12,"input",37,38),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc(2).construct.name=e})),c.Xb(),c.Xb(),c.Yb(14,"div",39),c.Yb(15,"label",40),c.Lc(16,"Circular"),c.Xb(),c.Tb(17,"i",41),c.Xb(),c.Yb(18,"div",42),c.gc("click",(function(e){c.Cc(n);var t=c.kc(2);return t.textModal(t.construct.dna_seq)})),c.Yb(19,"label"),c.Lc(20,"DNA sequence"),c.Xb(),c.Yb(21,"p",43),c.Lc(22),c.Xb(),c.Xb(),c.Yb(23,"div",39),c.Yb(24,"label",44),c.Lc(25,"Description"),c.Xb(),c.Yb(26,"textarea",45),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc(2).construct.description=e})),c.Xb(),c.Xb(),c.Vb()}if(2&e){var i=c.Ac(13),o=c.kc(2);c.Eb(7),c.sc("ngModel",o.specie.tax_id),c.Eb(1),c.sc("ngForOf",o.species),c.Eb(1),c.sc("ngClass",c.wc(7,ji,i.invalid&&(i.dirty||i.touched))),c.Eb(3),c.sc("ngModel",o.construct.name),c.Eb(5),c.sc("ngClass",c.xc(9,Ii,o.construct.circular,!o.construct.circular)),c.Eb(5),c.Mc(o.construct.dna_seq),c.Eb(4),c.sc("ngModel",o.construct.description)}}var Di=function(e){return{"no-color":e}};function Fi(e,t){if(1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Yb(2,"div",53),c.Lc(3),c.Xb(),c.Xb(),c.Yb(4,"td"),c.Lc(5),c.Xb(),c.Yb(6,"td"),c.Lc(7),c.Xb(),c.Yb(8,"td"),c.Lc(9),c.Xb(),c.Yb(10,"td"),c.Lc(11),c.Xb(),c.Yb(12,"td"),c.Lc(13),c.Xb(),c.Xb()),2&e){var n=t.$implicit,i=t.index;c.Eb(2),c.Ic("background-color",n.color),c.sc("ngClass",c.wc(9,Di,!n.color)),c.Eb(1),c.Nc("#",i+1,""),c.Eb(2),c.Nc(" ",n.label," "),c.Eb(2),c.Nc(" ",n.type," "),c.Eb(2),c.Nc(" ",n.start," "),c.Eb(2),c.Nc(" ",n.end," "),c.Eb(2),c.Nc(" ",null==n.sequence?null:n.sequence.length," ")}}function Ai(e,t){if(1&e){var n=c.Zb();c.Wb(0),c.Yb(1,"div",27),c.Yb(2,"div",47),c.Tb(3,"i",48),c.Yb(4,"input",49),c.gc("ngModelChange",(function(e){return c.Cc(n),c.kc(2).search=e})),c.Xb(),c.Xb(),c.Xb(),c.Yb(5,"div",50),c.Yb(6,"table",51),c.Yb(7,"thead"),c.Yb(8,"tr"),c.Tb(9,"th"),c.Yb(10,"th"),c.Lc(11," Label "),c.Xb(),c.Yb(12,"th"),c.Lc(13," Type "),c.Xb(),c.Yb(14,"th"),c.Lc(15," Start "),c.Xb(),c.Yb(16,"th"),c.Lc(17," End "),c.Xb(),c.Yb(18,"th"),c.Lc(19," Size "),c.Xb(),c.Xb(),c.Xb(),c.Yb(20,"tbody"),c.Jc(21,Fi,14,11,"tr",52),c.lc(22,"filterTracks"),c.Xb(),c.Xb(),c.Xb(),c.Vb()}if(2&e){var i=c.kc(2);c.Eb(4),c.sc("ngModel",i.search),c.Eb(17),c.sc("ngForOf",c.nc(22,2,i.construct.tracks,i.search))}}var Ri=function(e){return{active:e}};function Bi(e,t){if(1&e){var n=c.Zb();c.Yb(0,"div",18),c.Yb(1,"div",19),c.Tb(2,"nz-alert",20),c.Xb(),c.Yb(3,"div",21),c.Yb(4,"div",22),c.Yb(5,"a",23),c.gc("click",(function(e){return c.Cc(n),c.kc().view=!0})),c.Lc(6," Information "),c.Xb(),c.Yb(7,"a",23),c.gc("click",(function(e){return c.Cc(n),c.kc().view=!1})),c.Lc(8," Tracks "),c.Xb(),c.Xb(),c.Xb(),c.Yb(9,"div",19),c.Yb(10,"form",24,25),c.gc("ngSubmit",(function(e){return c.Cc(n),c.kc().submit()})),c.Jc(12,Vi,27,12,"ng-container",26),c.Jc(13,Ai,23,5,"ng-container",26),c.Yb(14,"div",27),c.Yb(15,"button",28),c.Lc(16," Submit "),c.Tb(17,"i",29),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&e){var i=c.Ac(11),o=c.kc();c.Eb(5),c.sc("ngClass",c.wc(5,Ri,o.view)),c.Eb(2),c.sc("ngClass",c.wc(7,Ri,!o.view)),c.Eb(5),c.sc("ngIf",o.view),c.Eb(1),c.sc("ngIf",!o.view),c.Eb(2),c.sc("disabled",!(null!=o.construct.tracks&&o.construct.tracks.length)||i.invalid)}}var Ji,Ni,qi,Ui=((Ni=function(){function e(t,n,i,o,r,s){var c=this;_classCallCheck(this,e),this.route=t,this.specieSrvc=n,this.router=i,this.notify=o,this.http=r,this.modal=s,this.response=null,this.specie=null,this.species=[],this.isLoading=!1,this.construct=null,this.history=null,this.exampleFile="assets/files/NC_044937.gbk",this.fileList=[],this.view=!0,this.customReq=function(e){c.fileList=[e.file];var t=new FormData;t.append("file",e.file);var n=new Ee.g("POST",e.action,t,{reportProgress:!0,withCredentials:!0});return c.construct=null,c.http.request(n).subscribe((function(t){t.type===Ee.e.UploadProgress?(t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t,e.file)):t instanceof Ee.h&&(e.file.status="done",e.onSuccess(t.body,e.file,t),c.construct=(new An.a).deserialize(t.body))}),(function(t){return e.onError({statusText:t},e.file)}))},this.endpoint=In.a.endpoints.api+"/constructs/from-genbank"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.sub=this.route.queryParams.subscribe((function(t){t.specie&&(e.specie=new Vn.a),e.specie.slug=t.specie||null})),this.specie&&this.getSpecie(),this.getSpecies()}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"getSpecie",value:function(){var e=this;this.isLoading=!0,this.specieSrvc.getBySlug(this.specie).pipe(Object(En.a)((function(){return e.isLoading=!1}))).subscribe((function(t){return e.specie.deserialize(t)}))}},{key:"getSpecies",value:function(){var e=this;this.isLoading=!0,this.specieSrvc.getAll().pipe(Object(En.a)((function(){return e.isLoading=!1}))).subscribe((function(t){return e.species=t.map((function(t){var n=(new Vn.a).deserialize(t);return!e.specie.slug&&n.default&&(e.specie=Object.assign({},n)),n}))}))}},{key:"loadExample",value:function(){var e=this;this.http.get(this.exampleFile,{observe:"response",responseType:"blob"}).subscribe((function(t){var n=new FileReader;n.readAsDataURL(t.body),n.onloadend=function(n){if(n.target.readyState===window.FileReader.DONE){var i=new Blob([n.target.result]),o=new Array;o.push(i),e.fileList=[new File(o,t.url.split("/").slice(-1)[0])]}}}),(function(){return e.notify.warn("Unable to load example file")}))}},{key:"submit",value:function(){var e=this;this.response=null,this.construct.specie_tax_id=this.specie.tax_id,this.http.post("".concat(In.a.endpoints.api,"/optimize_seq/from-sketch"),this.construct).subscribe((function(t){setTimeout((function(){e.router.navigate(["/workspace",t.id])}),3e3)}),(function(t){e.notify.error(t,"bottom-right")}))}},{key:"textModal",value:function(e){this.modal.create({nzContent:Li.a,nzWrapClassName:"center-modal",nzComponentParams:{txt:e},nzFooter:null})}}]),e}()).\u0275fac=function(e){return new(e||Ni)(c.Sb(fe.a),c.Sb(Rn.a),c.Sb(fe.d),c.Sb(Nn.a),c.Sb(Ee.c),c.Sb(o.c))},Ni.\u0275cmp=c.Mb({type:Ni,selectors:[["sqy-from-file"]],decls:37,vars:4,consts:[[1,"ui","main","container"],[1,"ui","vertical","masthead","center","aligned"],[1,"ui","header"],[1,"ui","two","column","centered","padded","grid"],[1,"one","column","row"],[1,"column","right","aligned"],[1,"disabled",3,"click"],[1,"ui","column"],["nzType","drag",3,"nzCustomRequest","nzFileList","nzAction"],[1,"p-4"],["xmlns","http://www.w3.org/2000/svg","width","45","height","46","viewBox","0 0 63 64"],["fill","#3B454F","fill-rule","nonzero"],["d","M42.656 15.135a1.953 1.953 0 0 1-1.391-.578L31.5 4.795l-9.765 9.762a1.97 1.97 0 1 1-2.785-2.785L30.106.616a1.97 1.97 0 0 1 2.785 0l11.157 11.156a1.97 1.97 0 0 1-1.392 3.363z"],["d","M31.5 36.791a1.97 1.97 0 0 1-1.969-1.969V2.01a1.97 1.97 0 0 1 3.938 0v32.812a1.97 1.97 0 0 1-1.969 1.969z"],["d","M55.781 63.041H7.22A7.225 7.225 0 0 1 0 55.822V41.385a4.599 4.599 0 0 1 4.594-4.594h7.234a4.567 4.567 0 0 1 4.402 3.276l2.814 9.382a.658.658 0 0 0 .628.467h23.656a.658.658 0 0 0 .628-.467l2.814-9.385a4.572 4.572 0 0 1 4.402-3.273h7.234A4.599 4.599 0 0 1 63 41.385v14.437a7.225 7.225 0 0 1-7.219 7.219zM4.594 40.729a.656.656 0 0 0-.657.656v14.437a3.286 3.286 0 0 0 3.282 3.282H55.78a3.286 3.286 0 0 0 3.282-3.282V41.385a.656.656 0 0 0-.657-.656h-7.234a.65.65 0 0 0-.628.467L47.73 50.58a4.628 4.628 0 0 1-4.402 3.274H19.672a4.567 4.567 0 0 1-4.402-3.276l-2.814-9.382a.65.65 0 0 0-.628-.467H4.594z"],[1,"ant-upload-text"],[1,"ant-upload-hint"],["class","one column row mt-7 p-4",4,"ngIf"],[1,"one","column","row","mt-7","p-4"],[1,"column"],["nzType","success","nzCloseable","","nzMessage","Construct loaded successfully!","nzShowIcon",""],[1,"column","mt-4"],[1,"ui","two","item","secondary","pointing","menu"],[1,"item",3,"ngClass","click"],[1,"ui","padded","form",3,"ngSubmit"],["constructForm","ngForm"],[4,"ngIf"],[1,"field"],["type","submit",1,"ui","secondary","right","labeled","fluid","icon","button",3,"disabled"],[1,"angle","right","icon"],[1,"required","field"],[1,"required-msg"],["for","construct_specie"],["name","construct-specie","id","construct_specie","required","",1,"ui","dropdown",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"required","field",3,"ngClass"],["for","construct_name"],["type","text","placeholder","Label / Name","id","construct_name","name","construct-name","required","",1,"transparent",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"inline","field"],["for",""],[1,"icon",3,"ngClass"],[1,"field","link",2,"max-height","300px",3,"click"],[1,"wrap"],["for","construct_description"],["id","construct_description","name","construct-description","rows","8","cols","80",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"ui","fluid","icon","input"],[1,"search","icon"],["type","text","placeholder","Search by label / type / sequence...",3,"ngModel","ngModelChange"],[1,"field",2,"height","70vh","overflow","auto"],[1,"ui","blue","definition","table"],[4,"ngFor","ngForOf"],[1,"ui","circular","label",3,"ngClass"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"h1",2),c.Lc(3,"Upload your GenBank"),c.Xb(),c.Yb(4,"h2",2),c.Lc(5,"Allowed extensions: "),c.Yb(6,"strong"),c.Lc(7,".gb .gbk .genbank."),c.Xb(),c.Xb(),c.Yb(8,"p"),c.Lc(9,"Upload a valid GenBank file. Note that such file must include at least one "),c.Yb(10,"strong"),c.Lc(11,"CDS feature"),c.Xb(),c.Lc(12,". All others features will be filled with "),c.Yb(13,"strong"),c.Lc(14,"Dummy feature"),c.Xb(),c.Lc(15,"."),c.Xb(),c.Yb(16,"div",3),c.Yb(17,"div",4),c.Yb(18,"div",5),c.Yb(19,"a",6),c.gc("click",(function(e){return t.loadExample()})),c.Lc(20,"Load example file"),c.Xb(),c.Xb(),c.Yb(21,"div",7),c.Yb(22,"nz-upload",8),c.Yb(23,"div",9),c.jc(),c.Yb(24,"svg",10),c.Yb(25,"g",11),c.Tb(26,"path",12),c.Tb(27,"path",13),c.Tb(28,"path",14),c.Xb(),c.Xb(),c.Xb(),c.ic(),c.Yb(29,"div"),c.Yb(30,"p",15),c.Lc(31," Select a file or drop here to upload "),c.Xb(),c.Yb(32,"p",16),c.Lc(33," Only a single file can be uploaded. "),c.Xb(),c.Yb(34,"p",16),c.Lc(35," In case of error hover file to get error details. "),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Jc(36,Bi,18,9,"div",17),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.Eb(22),c.sc("nzCustomRequest",t.customReq)("nzFileList",t.fileList)("nzAction",t.endpoint),c.Eb(14),c.sc("ngIf",t.construct))},directives:[cn,i.k,ln.a,i.i,a.s,a.i,a.j,a.p,a.o,a.h,a.k,i.j,a.b,a.l,a.r],pipes:[ti],styles:[".ui.container[_ngcontent-%COMP%]{min-height:700px;margin-bottom:7em}.masthead.segment[_ngcontent-%COMP%]{min-height:400px;padding:1em 0;border-radius:0!important;border:0!important}.masthead[_ngcontent-%COMP%]   h1.ui.header[_ngcontent-%COMP%]{margin-top:1.5em;margin-bottom:0;font-size:3em;font-weight:400}.masthead[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;font-weight:400}.wrap[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.required-msg[_ngcontent-%COMP%]{font-weight:400!important}  .center-modal{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}  .center-modal .ant-modal{width:1200px!important;top:0}  .center-modal .ant-modal .ant-modal-body{max-height:calc(90vh - 5em);overflow:auto}"]}),Ni),$i=((Ji=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"canDeactivate",value:function(e){return e.canDeactivate()}}]),e}()).\u0275fac=function(e){return new(e||Ji)},Ji.\u0275prov=c.Ob({token:Ji,factory:Ji.\u0275fac}),Ji),Wi=[{path:"",component:Yi,data:{title:"Construct sketcher"}},{path:Ln.a.optimize.sketcher,component:Yi,data:{title:"Construct sketcher"},canDeactivate:[$i]},{path:Ln.a.optimize.from_file,component:Ui,data:{title:"Upload file"}}],Hi=((qi=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:qi}),qi.\u0275inj=c.Pb({factory:function(e){return new(e||qi)},providers:[$i],imports:[[fe.h.forChild(Wi)],fe.h]}),qi),Gi=n("PCNd");n.d(t,"OptimizerModule",(function(){return Zi}));var Ki,Zi=((Ki=function e(){_classCallCheck(this,e)}).\u0275mod=c.Qb({type:Ki}),Ki.\u0275inj=c.Pb({factory:function(e){return new(e||Ki)},imports:[[i.c,Hi,Gi.a,o.b,se,Le,a.n,an,ln.b,Xn,Yn.c]]}),Ki)}}]);
//# sourceMappingURL=7-es5.c836b1e12c8c7d71a31b.js.map